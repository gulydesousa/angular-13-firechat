"use strict";(self.webpackChunkfirechat=self.webpackChunkfirechat||[]).push([[179],{657:()=>{function Te(t){return"function"==typeof t}function ec(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const uh=ec(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Wo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class xn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Te(r))try{r()}catch(s){e=s instanceof uh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{HM(s)}catch(o){e=e??[],o instanceof uh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new uh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)HM(e);else{if(e instanceof xn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Wo(n,e)}remove(e){const{_finalizers:n}=this;n&&Wo(n,e),e instanceof xn&&e._removeParent(this)}}xn.EMPTY=(()=>{const t=new xn;return t.closed=!0,t})();const $M=xn.EMPTY;function jM(t){return t instanceof xn||t&&"closed"in t&&Te(t.remove)&&Te(t.add)&&Te(t.unsubscribe)}function HM(t){Te(t)?t():t.unsubscribe()}const Fs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ch={setTimeout(t,e,...n){const{delegate:r}=ch;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ch;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function GM(t){ch.setTimeout(()=>{const{onUnhandledError:e}=Fs;if(!e)throw t;e(t)})}function zM(){}const hG=f_("C",void 0,void 0);function f_(t,e,n){return{kind:t,value:e,error:n}}let Ls=null;function lh(t){if(Fs.useDeprecatedSynchronousErrorHandling){const e=!Ls;if(e&&(Ls={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ls;if(Ls=null,n)throw r}}else t()}class p_ extends xn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,jM(e)&&e.add(this)):this.destination=vG}static create(e,n,r){return new tc(e,n,r)}next(e){this.isStopped?m_(function pG(t){return f_("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?m_(function fG(t){return f_("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?m_(hG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const mG=Function.prototype.bind;function g_(t,e){return mG.call(t,e)}class _G{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){dh(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){dh(r)}else dh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){dh(n)}}}class tc extends p_{constructor(e,n,r){let i;if(super(),Te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Fs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&g_(e.next,s),error:e.error&&g_(e.error,s),complete:e.complete&&g_(e.complete,s)}):i=e}this.destination=new _G(i)}}function dh(t){Fs.useDeprecatedSynchronousErrorHandling?function gG(t){Fs.useDeprecatedSynchronousErrorHandling&&Ls&&(Ls.errorThrown=!0,Ls.error=t)}(t):GM(t)}function m_(t,e){const{onStoppedNotification:n}=Fs;n&&ch.setTimeout(()=>n(t,e))}const vG={closed:!0,next:zM,error:function yG(t){throw t},complete:zM},__="function"==typeof Symbol&&Symbol.observable||"@@observable";function Hi(t){return t}function qM(t){return 0===t.length?Hi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function EG(t){return t&&t instanceof p_||function wG(t){return t&&Te(t.next)&&Te(t.error)&&Te(t.complete)}(t)&&jM(t)}(n)?n:new tc(n,r,i);return lh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=WM(r))((i,s)=>{const o=new tc({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[__](){return this}pipe(...n){return qM(n)(this)}toPromise(n){return new(n=WM(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function WM(t){var e;return null!==(e=t??Fs.Promise)&&void 0!==e?e:Promise}const TG=ec(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Xr=(()=>{class t extends Ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new KM(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new TG}next(n){lh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){lh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){lh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?$M:(this.currentObservers=null,s.push(n),new xn(()=>{this.currentObservers=null,Wo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ue;return n.source=this,n}}return t.create=(e,n)=>new KM(e,n),t})();class KM extends Xr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:$M}}class qn extends Xr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function QM(t){return Te(t?.lift)}function vt(t){return e=>{if(QM(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ht(t,e,n,r,i){return new bG(t,e,n,r,i)}class bG extends p_{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function me(t,e){return vt((n,r)=>{let i=0;n.subscribe(ht(r,s=>{r.next(t.call(e,s,i++))}))})}function I_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Gi(t){return this instanceof Gi?(this.v=t,this):new Gi(t)}function ZM(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function E_(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const eR=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function tR(t){return Te(t?.then)}function nR(t){return Te(t[__])}function rR(t){return Symbol.asyncIterator&&Te(t?.[Symbol.asyncIterator])}function iR(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sR=function zG(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function oR(t){return Te(t?.[sR])}function aR(t){return function XM(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,m){s.push([h,f,g,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Gi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Gi(n.read());if(i)return yield Gi(void 0);yield yield Gi(r)}}finally{n.releaseLock()}})}function uR(t){return Te(t?.getReader)}function Wn(t){if(t instanceof Ue)return t;if(null!=t){if(nR(t))return function qG(t){return new Ue(e=>{const n=t[__]();if(Te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(eR(t))return function WG(t){return new Ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(tR(t))return function KG(t){return new Ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,GM)})}(t);if(rR(t))return cR(t);if(oR(t))return function QG(t){return new Ue(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(uR(t))return function YG(t){return cR(aR(t))}(t)}throw iR(t)}function cR(t){return new Ue(e=>{(function JG(t,e){var n,r,i,s;return function YM(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=ZM(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Zr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Mt(t,e,n=1/0){return Te(e)?Mt((r,i)=>me((s,o)=>e(r,s,i,o))(Wn(t(r,i))),n):("number"==typeof e&&(n=e),vt((r,i)=>function XG(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?g(m):u.push(m),g=m=>{s&&e.next(m),c++;let _=!1;Wn(n(m,l++)).subscribe(ht(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){const I=u.shift();o?Zr(e,o,()=>g(I)):g(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(ht(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ko(t=1/0){return Mt(Hi,t)}const Er=new Ue(t=>t.complete());function T_(t){return t[t.length-1]}function lR(t){return Te(T_(t))?t.pop():void 0}function nc(t){return function e8(t){return t&&Te(t.schedule)}(T_(t))?t.pop():void 0}function hh(t,e=0){return vt((n,r)=>{n.subscribe(ht(r,i=>Zr(r,t,()=>r.next(i),e),()=>Zr(r,t,()=>r.complete(),e),i=>Zr(r,t,()=>r.error(i),e)))})}function fh(t,e=0){return vt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function dR(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ue(n=>{Zr(n,e,()=>{const r=t[Symbol.asyncIterator]();Zr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function It(t,e){return e?function a8(t,e){if(null!=t){if(nR(t))return function n8(t,e){return Wn(t).pipe(fh(e),hh(e))}(t,e);if(eR(t))return function i8(t,e){return new Ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(tR(t))return function r8(t,e){return Wn(t).pipe(fh(e),hh(e))}(t,e);if(rR(t))return dR(t,e);if(oR(t))return function s8(t,e){return new Ue(n=>{let r;return Zr(n,e,()=>{r=t[sR](),Zr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Te(r?.return)&&r.return()})}(t,e);if(uR(t))return function o8(t,e){return dR(aR(t),e)}(t,e)}throw iR(t)}(t,e):Wn(t)}function q(...t){return It(t,nc(t))}function hR(t={}){const{connector:e=(()=>new Xr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},g=()=>{const m=o;f(),m?.unsubscribe()};return vt((m,_)=>{c++,!d&&!l&&h();const I=u=u??e();_.add(()=>{c--,0===c&&!d&&!l&&(a=b_(g,i))}),I.subscribe(_),!o&&c>0&&(o=new tc({next:y=>I.next(y),error:y=>{d=!0,h(),a=b_(f,n,y),I.error(y)},complete:()=>{l=!0,h(),a=b_(f,r),I.complete()}}),Wn(m).subscribe(o))})(s)}}function b_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new tc({next:()=>{r.unsubscribe(),t()}});return Wn(e(...n)).subscribe(r)}function Tr(t,e){return vt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ht(r,u=>{i?.unsubscribe();let c=0;const l=s++;Wn(t(u,l)).subscribe(i=ht(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function l8(t,e){return t===e}function ye(t){for(let e in t)if(t[e]===ye)return e;throw Error("Could not find renamed property on target object.")}function ph(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ft(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ft).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function D_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d8=ye({__forward_ref__:ye});function Se(t){return t.__forward_ref__=Se,t.toString=function(){return ft(this())},t}function W(t){return C_(t)?t():t}function C_(t){return"function"==typeof t&&t.hasOwnProperty(d8)&&t.__forward_ref__===Se}function S_(t){return t&&!!t.\u0275providers}class S extends Error{constructor(e,n){super(function gh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Q(t){return"string"==typeof t?t:null==t?"":String(t)}function mh(t,e){throw new S(-201,!1)}function Kn(t,e){null==t&&function he(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function hn(t){return{providers:t.providers||[],imports:t.imports||[]}}function _h(t){return pR(t,yh)||pR(t,mR)}function pR(t,e){return t.hasOwnProperty(e)?t[e]:null}function gR(t){return t&&(t.hasOwnProperty(A_)||t.hasOwnProperty(v8))?t[A_]:null}const yh=ye({\u0275prov:ye}),A_=ye({\u0275inj:ye}),mR=ye({ngInjectableDef:ye}),v8=ye({ngInjectorDef:ye});var ne=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ne||{});let x_;function fn(t){const e=x_;return x_=t,e}function yR(t,e,n){const r=_h(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ne.Optional?null:void 0!==e?e:void mh(ft(t))}const be=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),rc={},M_="__NG_DI_FLAG__",vh="ngTempTokenPath",w8=/\n/gm,vR="__source";let Qo;function zi(t){const e=Qo;return Qo=t,e}function b8(t,e=ne.Default){if(void 0===Qo)throw new S(-203,!1);return null===Qo?yR(t,void 0,e):Qo.get(t,e&ne.Optional?null:void 0,e)}function $(t,e=ne.Default){return(function _R(){return x_}()||b8)(W(t),e)}function V(t,e=ne.Default){return $(t,Ih(e))}function Ih(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function R_(t){const e=[];for(let n=0;n<t.length;n++){const r=W(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=ne.Default;for(let o=0;o<r.length;o++){const a=r[o],u=D8(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function ic(t,e){return t[M_]=e,t.prototype[M_]=e,t}function D8(t){return t[M_]}function ei(t){return{toString:t}.toString()}var wh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(wh||{}),ar=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ar||{});const br={},le=[],Eh=ye({\u0275cmp:ye}),N_=ye({\u0275dir:ye}),k_=ye({\u0275pipe:ye}),wR=ye({\u0275mod:ye}),ti=ye({\u0275fac:ye}),sc=ye({__NG_ELEMENT_ID__:ye}),ER=ye({__NG_ENV_ID__:ye});function TR(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function P_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];DR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function bR(t){return 3===t||4===t||6===t}function DR(t){return 64===t.charCodeAt(0)}function oc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||CR(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function CR(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const SR="ng-template";function A8(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==TR(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function AR(t){return 4===t.type&&t.value!==SR}function x8(t,e,n){return e===(4!==t.type||n?t.value:SR)}function M8(t,e,n){let r=4;const i=t.attrs||[],s=function k8(t){for(let e=0;e<t.length;e++)if(bR(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!x8(t,u,n)||""===u&&1===e.length){if(ur(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!A8(t.attrs,c,n)){if(ur(r))return!1;o=!0}continue}const d=R8(8&r?"class":u,i,AR(t),n);if(-1===d){if(ur(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==TR(f,c,0)||2&r&&c!==h){if(ur(r))return!1;o=!0}}}}else{if(!o&&!ur(r)&&!ur(u))return!1;if(o&&ur(u))continue;o=!1,r=u|1&r}}return ur(r)||o}function ur(t){return 0==(1&t)}function R8(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function P8(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function xR(t,e,n=!1){for(let r=0;r<e.length;r++)if(M8(t,e[r],n))return!0;return!1}function MR(t,e){return t?":not("+e.trim()+")":e}function F8(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ur(o)&&(e+=MR(s,i),i=""),r=o,s=s||!ur(r);n++}return""!==i&&(e+=MR(s,i)),e}function ac(t){return ei(()=>{const e=NR(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===wh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ar.Emulated,styles:t.styles||le,_:null,schemas:t.schemas||null,tView:null,id:""};kR(n);const r=t.dependencies;return n.directiveDefs=Th(r,!1),n.pipeDefs=Th(r,!0),n.id=function G8(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function B8(t){return fe(t)||$t(t)}function $8(t){return null!==t}function Rn(t){return ei(()=>({type:t.type,bootstrap:t.bootstrap||le,declarations:t.declarations||le,imports:t.imports||le,exports:t.exports||le,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function RR(t,e){if(null==t)return br;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function z(t){return ei(()=>{const e=NR(t);return kR(e),e})}function fe(t){return t[Eh]||null}function $t(t){return t[N_]||null}function gn(t){return t[k_]||null}function Nn(t,e){const n=t[wR]||null;if(!n&&!0===e)throw new Error(`Type ${ft(t)} does not have '\u0275mod' property.`);return n}function NR(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||br,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||le,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:RR(t.inputs,e),outputs:RR(t.outputs)}}function kR(t){t.features?.forEach(e=>e(t))}function Th(t,e){if(!t)return null;const n=e?gn:B8;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter($8)}const pt=0,P=1,J=2,Be=3,cr=4,uc=5,jt=6,Jo=7,Ze=8,Xo=9,Us=10,X=11,cc=12,PR=13,Zo=14,et=15,lc=16,ea=17,Dr=18,dc=19,OR=20,qi=21,ni=22,bh=23,Dh=24,re=25,O_=1,FR=2,Cr=7,ta=9,Ht=11;function kn(t){return Array.isArray(t)&&"object"==typeof t[O_]}function mn(t){return Array.isArray(t)&&!0===t[O_]}function F_(t){return 0!=(4&t.flags)}function Bs(t){return t.componentOffset>-1}function Sh(t){return 1==(1&t.flags)}function lr(t){return!!t.template}function L_(t){return 0!=(512&t[J])}function $s(t,e){return t.hasOwnProperty(ti)?t[ti]:null}let Y8=be.WeakRef??class Q8{constructor(e){this.ref=e}deref(){return this.ref}},X8=0,Sr=null,Ah=!1;function wt(t){const e=Sr;return Sr=t,e}class $R{constructor(){this.id=X8++,this.ref=function J8(t){return new Y8(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Ah;Ah=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Ah=e}}producerAccessed(){if(Ah)throw new Error("");if(null===Sr)return;let e=Sr.producers.get(this.id);void 0===e?(e={consumerNode:Sr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Sr.trackingVersion},Sr.producers.set(this.id,e),this.consumers.set(Sr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Sr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Sr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let jR=null;const GR=()=>{};class nz extends $R{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=GR,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=wt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=GR,this.watch(this.registerOnCleanup)}finally{wt(e)}}cleanup(){this.cleanupFn()}}class rz{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Qn(){return zR}function zR(t){return t.type.prototype.ngOnChanges&&(t.setInput=sz),iz}function iz(){const t=WR(this),e=t?.current;if(e){const n=t.previous;if(n===br)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function sz(t,e,n,r){const i=this.declaredInputs[n],s=WR(t)||function oz(t,e){return t[qR]=e}(t,{previous:br,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new rz(u&&u.currentValue,e,a===br),t[r]=e}Qn.ngInherit=!0;const qR="__ngSimpleChanges__";function WR(t){return t[qR]||null}const Ar=function(t,e,n){};function Re(t){for(;Array.isArray(t);)t=t[pt];return t}function Rh(t,e){return Re(e[t])}function _n(t,e){return Re(e[t.index])}function YR(t,e){return t.data[e]}function Pn(t,e){const n=e[t];return kn(n)?n:n[pt]}function Wi(t,e){return null==e?null:t[e]}function JR(t){t[ea]=0}function fz(t){1024&t[J]||(t[J]|=1024,ZR(t,1))}function XR(t){1024&t[J]&&(t[J]&=-1025,ZR(t,-1))}function ZR(t,e){let n=t[Be];if(null===n)return;n[uc]+=e;let r=n;for(n=n[Be];null!==n&&(1===e&&1===r[uc]||-1===e&&0===r[uc]);)n[uc]+=e,r=n,n=n[Be]}const G={lFrame:hN(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function nN(){return G.bindingsEnabled}function E(){return G.lFrame.lView}function ae(){return G.lFrame.tView}function Rt(){let t=sN();for(;null!==t&&64===t.type;)t=t.parent;return t}function sN(){return G.lFrame.currentTNode}function xr(t,e){const n=G.lFrame;n.currentTNode=t,n.isParent=e}function H_(){return G.lFrame.isParent}function en(){const t=G.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ia(){return G.lFrame.bindingIndex++}function Dz(t,e){const n=G.lFrame;n.bindingIndex=n.bindingRootIndex=t,z_(e)}function z_(t){G.lFrame.currentDirectiveIndex=t}function W_(t){G.lFrame.currentQueryIndex=t}function Sz(t){const e=t[P];return 2===e.type?e.declTNode:1===e.type?t[jt]:null}function lN(t,e,n){if(n&ne.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&ne.Host||(i=Sz(s),null===i||(s=s[Zo],10&i.type))););if(null===i)return!1;e=i,t=s}const r=G.lFrame=dN();return r.currentTNode=e,r.lView=t,!0}function K_(t){const e=dN(),n=t[P];G.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function dN(){const t=G.lFrame,e=null===t?null:t.child;return null===e?hN(t):e}function hN(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fN(){const t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pN=fN;function Q_(){const t=fN();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function tn(){return G.lFrame.selectedIndex}function js(t){G.lFrame.selectedIndex=t}function $e(){const t=G.lFrame;return YR(t.tView,t.selectedIndex)}let mN=!0;function Nh(){return mN}function Ki(t){mN=t}function kh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Ph(t,e,n){_N(t,e,3,n)}function Oh(t,e,n,r){(3&t[J])===n&&_N(t,e,n,r)}function Y_(t,e){let n=t[J];(3&n)===e&&(n&=8191,n+=1,t[J]=n)}function _N(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[ea]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[ea]+=65536),(a<s||-1==s)&&(Oz(t,n,e,u),t[ea]=(4294901760&t[ea])+u+2),u++}function yN(t,e){Ar(4,t,e);const n=wt(null);try{e.call(t)}finally{wt(n),Ar(5,t,e)}}function Oz(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[J]>>13<t[ea]>>16&&(3&t[J])===e&&(t[J]+=8192,yN(a,s)):yN(a,s)}const sa=-1;class pc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function vN(t){return t!==sa}function Fh(t){return 32767&t}function Lh(t,e){let n=function Uz(t){return t>>16}(t),r=e;for(;n>0;)r=r[Zo],n--;return r}let X_=!0;function Vh(t){const e=X_;return X_=t,e}const IN=255,wN=5;let Bz=0;const Mr={};function Uh(t,e){const n=EN(t,e);if(-1!==n)return n;const r=e[P];r.firstCreatePass&&(t.injectorIndex=e.length,Z_(r.data,t),Z_(e,null),Z_(r.blueprint,null));const i=ey(t,e),s=t.injectorIndex;if(vN(i)){const o=Fh(i),a=Lh(i,e),u=a[P].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Z_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function EN(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ey(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=xN(i),null===r)return sa;if(n++,i=i[Zo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return sa}function ty(t,e,n){!function $z(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(sc)&&(r=n[sc]),null==r&&(r=n[sc]=Bz++);const i=r&IN;e.data[t+(i>>wN)]|=1<<i}(t,e,n)}function TN(t,e,n){if(n&ne.Optional||void 0!==t)return t;mh()}function bN(t,e,n,r){if(n&ne.Optional&&void 0===r&&(r=null),!(n&(ne.Self|ne.Host))){const i=t[Xo],s=fn(void 0);try{return i?i.get(e,r,n&ne.Optional):yR(e,r,n&ne.Optional)}finally{fn(s)}}return TN(r,0,n)}function DN(t,e,n,r=ne.Default,i){if(null!==t){if(2048&e[J]&&!(r&ne.Self)){const o=function qz(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[J]&&!(512&o[J]);){const a=CN(s,o,n,r|ne.Self,Mr);if(a!==Mr)return a;let u=s.parent;if(!u){const c=o[OR];if(c){const l=c.get(n,Mr,r);if(l!==Mr)return l}u=xN(o),o=o[Zo]}s=u}return i}(t,e,n,r,Mr);if(o!==Mr)return o}const s=CN(t,e,n,r,Mr);if(s!==Mr)return s}return bN(e,n,r,i)}function CN(t,e,n,r,i){const s=function Gz(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(sc)?t[sc]:void 0;return"number"==typeof e?e>=0?e&IN:zz:e}(n);if("function"==typeof s){if(!lN(e,t,r))return r&ne.Host?TN(i,0,r):bN(e,n,r,i);try{const o=s(r);if(null!=o||r&ne.Optional)return o;mh()}finally{pN()}}else if("number"==typeof s){let o=null,a=EN(t,e),u=sa,c=r&ne.Host?e[et][jt]:null;for((-1===a||r&ne.SkipSelf)&&(u=-1===a?ey(t,e):e[a+8],u!==sa&&AN(r,!1)?(o=e[P],a=Fh(u),e=Lh(u,e)):a=-1);-1!==a;){const l=e[P];if(SN(s,a,l.data)){const d=Hz(a,e,n,o,r,c);if(d!==Mr)return d}u=e[a+8],u!==sa&&AN(r,e[P].data[a+8]===c)&&SN(s,a,e)?(o=l,a=Fh(u),e=Lh(u,e)):a=-1}}return i}function Hz(t,e,n,r,i,s){const o=e[P],a=o.data[t+8],l=function Bh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const g=o[f];if(f<u&&n===g||f>=u&&g.type===n)return f}if(i){const f=o[u];if(f&&lr(f)&&f.type===n)return u}return null}(a,o,n,null==r?Bs(a)&&X_:r!=o&&0!=(3&a.type),i&ne.Host&&s===a);return null!==l?Hs(e,o,l,a):Mr}function Hs(t,e,n,r){let i=t[n];const s=e.data;if(function Fz(t){return t instanceof pc}(i)){const o=i;o.resolving&&function h8(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function _e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Q(t)}(s[n]));const a=Vh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?fn(o.injectImpl):null;lN(t,r,ne.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Pz(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=zR(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&fn(u),Vh(a),o.resolving=!1,pN()}}return i}function SN(t,e,n){return!!(n[e+(t>>wN)]&1<<t)}function AN(t,e){return!(t&ne.Self||t&ne.Host&&e)}class oa{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return DN(this._tNode,this._lView,e,Ih(r),n)}}function zz(){return new oa(Rt(),E())}function Nt(t){return ei(()=>{const e=t.prototype.constructor,n=e[ti]||ny(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ti]||ny(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ny(t){return C_(t)?()=>{const e=ny(W(t));return e&&e()}:$s(t)}function xN(t){const e=t[P],n=e.type;return 2===n?e.declTNode:1===n?t[jt]:null}const ua="__parameters__";function la(t,e,n){return ei(()=>{const r=function ry(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ua)?u[ua]:Object.defineProperty(u,ua,{value:[]})[ua];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function mc(t,e){t.forEach(n=>Array.isArray(n)?mc(n,e):e(n))}function RN(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function jh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function On(t,e,n){let r=ha(t,e);return r>=0?t[1|r]=n:(r=~r,function Zz(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function iy(t,e){const n=ha(t,e);if(n>=0)return t[1|n]}function ha(t,e){return function NN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const nn=ic(la("Optional"),8),Gh=ic(la("SkipSelf"),4);function Qh(t){return 128==(128&t.flags)}var Qi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qi||{});const cy=new Map;let Tq=0;const dy="__ngContext__";function Gt(t,e){kn(e)?(t[dy]=e[dc],function Dq(t){cy.set(t[dc],t)}(e)):t[dy]=e}let hy;function fy(t,e){return hy(t,e)}function Ic(t){const e=t[Be];return mn(e)?e[Be]:e}function XN(t){return ek(t[cc])}function ZN(t){return ek(t[cr])}function ek(t){for(;null!==t&&!mn(t);)t=t[cr];return t}function ga(t,e,n,r,i){if(null!=r){let s,o=!1;mn(r)?s=r:kn(r)&&(o=!0,r=r[pt]);const a=Re(r);0===t&&null!==n?null==i?sk(e,n,a):Gs(e,n,a,i||null,!0):1===t&&null!==n?Gs(e,n,a,i||null,!0):2===t?function tf(t,e,n){const r=Zh(t,e);r&&function Gq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function Wq(t,e,n,r,i){const s=n[Cr];s!==Re(n)&&ga(e,t,r,s,i);for(let a=Ht;a<n.length;a++){const u=n[a];Ec(u[P],u,t,e,r,s)}}(e,t,s,n,i)}}function Xh(t,e,n){return t.createElement(e,n)}function nk(t,e){const n=t[ta],r=n.indexOf(e);XR(e),n.splice(r,1)}function gy(t,e){if(t.length<=Ht)return;const n=Ht+e,r=t[n];if(r){const i=r[lc];null!==i&&i!==t&&nk(i,r),e>0&&(t[n-1][cr]=r[cr]);const s=jh(t,Ht+e);!function Fq(t,e){Ec(t,e,e[X],2,null,null),e[pt]=null,e[jt]=null}(r[P],r);const o=s[Dr];null!==o&&o.detachView(s[P]),r[Be]=null,r[cr]=null,r[J]&=-129}return r}function rk(t,e){if(!(256&e[J])){const n=e[X];e[bh]?.destroy(),e[Dh]?.destroy(),n.destroyNode&&Ec(t,e,n,3,null,null),function Uq(t){let e=t[cc];if(!e)return my(t[P],t);for(;e;){let n=null;if(kn(e))n=e[cc];else{const r=e[Ht];r&&(n=r)}if(!n){for(;e&&!e[cr]&&e!==t;)kn(e)&&my(e[P],e),e=e[Be];null===e&&(e=t),kn(e)&&my(e[P],e),n=e&&e[cr]}e=n}}(e)}}function my(t,e){if(!(256&e[J])){e[J]&=-129,e[J]|=256,function Hq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof pc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Ar(4,a,u);try{u.call(a)}finally{Ar(5,a,u)}}else{Ar(4,i,s);try{s.call(i)}finally{Ar(5,i,s)}}}}}(t,e),function jq(t,e){const n=t.cleanup,r=e[Jo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Jo]=null);const i=e[qi];if(null!==i){e[qi]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[P].type&&e[X].destroy();const n=e[lc];if(null!==n&&mn(e[Be])){n!==e[Be]&&nk(n,e);const r=e[Dr];null!==r&&r.detachView(t)}!function Cq(t){cy.delete(t[dc])}(e)}}function _y(t,e,n){return function ik(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[pt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===ar.None||s===ar.Emulated)return null}return _n(r,n)}}(t,e.parent,n)}function Gs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function sk(t,e,n){t.appendChild(e,n)}function ok(t,e,n,r,i){null!==r?Gs(t,e,n,r,i):sk(t,e,n)}function Zh(t,e){return t.parentNode(e)}let yy,Ey,ck=function uk(t,e,n){return 40&t.type?_n(t,n):null};function ef(t,e,n,r){const i=_y(t,r,e),s=e[X],a=function ak(t,e,n){return ck(t,e,n)}(r.parent||e[jt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)ok(s,i,n[u],a,!1);else ok(s,i,n,a,!1);void 0!==yy&&yy(s,r,e,n,i)}function wc(t,e){if(null!==e){const n=e.type;if(3&n)return _n(e,t);if(4&n)return vy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return wc(t,r);{const i=t[e.index];return mn(i)?vy(-1,i):Re(i)}}if(32&n)return fy(e,t)()||Re(t[e.index]);{const r=dk(t,e);return null!==r?Array.isArray(r)?r[0]:wc(Ic(t[et]),r):wc(t,e.next)}}return null}function dk(t,e){return null!==e?t[et][jt].projection[e.projection]:null}function vy(t,e){const n=Ht+t+1;if(n<e.length){const r=e[n],i=r[P].firstChild;if(null!==i)return wc(r,i)}return e[Cr]}function Iy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Gt(Re(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Iy(t,e,n.child,r,i,s,!1),ga(e,t,i,a,s);else if(32&u){const c=fy(n,r);let l;for(;l=c();)ga(e,t,i,l,s);ga(e,t,i,a,s)}else 16&u?fk(t,e,r,n,i,s):ga(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ec(t,e,n,r,i,s){Iy(n,r,t.firstChild,e,i,s,!1)}function fk(t,e,n,r,i,s){const o=n[et],u=o[jt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ga(e,t,i,u[c],s);else{let c=u;const l=o[Be];Qh(r)&&(c.flags|=128),Iy(t,e,c,l,i,s,!0)}}function pk(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function gk(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&P_(t,e,r),null!==i&&pk(t,e,i),null!==s&&function Qq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class vk{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Sc=new L("ENVIRONMENT_INITIALIZER"),xk=new L("INJECTOR",-1),Mk=new L("INJECTOR_DEF_TYPES");class Rk{get(e,n=rc){if(n===rc){const r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return n}}function EW(...t){return{\u0275providers:kk(0,t),\u0275fromNgModule:!0}}function kk(t,...e){const n=[],r=new Set;let i;return mc(e,s=>{const o=s;Ay(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&Pk(i,n),n}function Pk(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];xy(i,s=>{e.push(s)})}}function Ay(t,e,n,r){if(!(t=W(t)))return!1;let i=null,s=gR(t);const o=!s&&fe(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=gR(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Ay(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{mc(s.imports,l=>{Ay(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&Pk(c,e)}if(!a){const c=$s(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:le},{provide:Mk,useValue:i,multi:!0},{provide:Sc,useValue:()=>$(i),multi:!0})}const u=s.providers;null==u||a||xy(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function xy(t,e){for(let n of t)S_(n)&&(n=n.\u0275providers),Array.isArray(n)?xy(n,e):e(n)}const TW=ye({provide:String,useValue:ye});function My(t){return null!==t&&"object"==typeof t&&TW in t}function zs(t){return"function"==typeof t}const Ry=new L("Set Injector scope."),af={},DW={};let Ny;function uf(){return void 0===Ny&&(Ny=new Rk),Ny}class oi{}class ky extends oi{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Oy(e,o=>this.processProvider(o)),this.records.set(xk,ya(void 0,this)),i.has("environment")&&this.records.set(oi,ya(void 0,this));const s=this.records.get(Ry);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Mk.multi,le,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=zi(this),r=fn(void 0);try{return e()}finally{zi(n),fn(r)}}get(e,n=rc,r=ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ER))return e[ER](this);r=Ih(r);const i=zi(this),s=fn(void 0);try{if(!(r&ne.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function MW(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&_h(e);a=u&&this.injectableDefInScope(u)?ya(Py(e),af):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ne.Self?uf():this.parent).get(e,n=r&ne.Optional&&n===rc?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[vh]=o[vh]||[]).unshift(ft(e)),i)throw o;return function C8(t,e,n,r){const i=t[vh];throw e[vR]&&i.unshift(e[vR]),t.message=function S8(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ft(e);if(Array.isArray(e))i=e.map(ft).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ft(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(w8,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[vh]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{fn(s),zi(i)}}resolveInjectorInitializers(){const e=zi(this),n=fn(void 0);try{const r=this.get(Sc.multi,le,ne.Self);for(const i of r)i()}finally{zi(e),fn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=zs(e=W(e))?e:W(e&&e.provide);const r=function SW(t){return My(t)?ya(void 0,t.useValue):ya(Lk(t),af)}(e);if(zs(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ya(void 0,af,!0),i.factory=()=>R_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===af&&(n.value=DW,n.value=n.factory()),"object"==typeof n.value&&n.value&&function xW(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=W(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Py(t){const e=_h(t),n=null!==e?e.factory:$s(t);if(null!==n)return n;if(t instanceof L)throw new S(204,!1);if(t instanceof Function)return function CW(t){const e=t.length;if(e>0)throw function _c(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new S(204,!1);const n=function y8(t){return t&&(t[yh]||t[mR])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function Lk(t,e,n){let r;if(zs(t)){const i=W(t);return $s(i)||Py(i)}if(My(t))r=()=>W(t.useValue);else if(function Fk(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...R_(t.deps||[]));else if(function Ok(t){return!(!t||!t.useExisting)}(t))r=()=>$(W(t.useExisting));else{const i=W(t&&(t.useClass||t.provide));if(!function AW(t){return!!t.deps}(t))return $s(i)||Py(i);r=()=>new i(...R_(t.deps))}return r}function ya(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Oy(t,e){for(const n of t)Array.isArray(n)?Oy(n,e):n&&S_(n)?Oy(n.\u0275providers,e):e(n)}const cf=new L("AppId",{providedIn:"root",factory:()=>RW}),RW="ng",Vk=new L("Platform Initializer"),Ji=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Uk=new L("CSP nonce",{providedIn:"root",factory:()=>function Tc(){if(void 0!==Ey)return Ey;if(typeof document<"u")return document;throw new S(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let $k=(t,e)=>null;function jk(t,e){return $k(t,e)}class BW{}class zk{}class jW{resolveComponentFactory(e){throw function $W(t){const e=Error(`No component factory found for ${ft(t)}.`);return e.ngComponent=t,e}(e)}}let pf=(()=>{class t{}return t.NULL=new jW,t})();function HW(){return Ia(Rt(),E())}function Ia(t,e){return new Fn(_n(t,e))}let Fn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=HW,t})();class Wk{}let ai=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function zW(){const t=E(),n=Pn(Rt().index,t);return(kn(n)?n:t)[X]}(),t})(),qW=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),t})();class wa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Kk=new wa("16.1.7"),qy={};function Mc(t){for(;t;){t[J]|=64;const e=Ic(t);if(L_(t)&&!e)return t;t=e}return null}function Wy(t){return t.ngOriginalError}class qs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Wy(e);for(;n&&Wy(n);)n=Wy(n);return n||null}}const Jk=new L("",{providedIn:"root",factory:()=>!1});function ui(t){return t instanceof Function?t():t}class nP extends $R{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){Mc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=wt(this);this.trackingVersion++;try{e(n,r)}finally{wt(i)}}destroy(){this.trackingVersion++}}let mf=null;function rP(){return mf??=new nP,mf}function iP(t,e){return t[e]??rP()}function sP(t,e){const n=rP();n.hasReadASignal&&(t[e]=mf,n.lView=t,mf=new nP)}const Z={};function ci(t){oP(ae(),E(),tn()+t,!1)}function oP(t,e,n,r){if(!r)if(3==(3&e[J])){const s=t.preOrderCheckHooks;null!==s&&Ph(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Oh(e,s,0,n)}js(n)}function lP(t,e=null,n=null,r){const i=dP(t,e,n,r);return i.resolveInjectorInitializers(),i}function dP(t,e=null,n=null,r,i=new Set){const s=[n||le,EW(t)];return r=r||("object"==typeof t?void 0:ft(t)),new ky(s,e||uf(),r||null,i)}let Ln=(()=>{class t{static create(n,r){if(Array.isArray(n))return lP({name:""},r,n,"");{const i=n.name??"";return lP({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=rc,t.NULL=new Rk,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>$(xk)}),t.__NG_ELEMENT_ID__=-1,t})();function D(t,e=ne.Default){const n=E();return null===n?$(t,e):DN(Rt(),n,W(t),e)}function _f(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[pt]=i,d[J]=140|r,(null!==c||t&&2048&t[J])&&(d[J]|=2048),JR(d),d[Be]=d[Zo]=t,d[Ze]=n,d[Us]=o||t&&t[Us],d[X]=a||t&&t[X],d[Xo]=u||t&&t[Xo]||null,d[jt]=s,d[dc]=function bq(){return Tq++}(),d[ni]=l,d[OR]=c,d[et]=2==e.type?t[et]:d,d}function Ta(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Ky(t,e,n,r,i){const s=sN(),o=H_(),u=t.data[e]=function f9(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function ra(){return null!==G.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function bz(){return G.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function fc(){const t=G.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return xr(s,!0),s}function Rc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function fP(t,e,n,r,i){const s=iP(e,bh),o=tn(),a=2&r;try{if(js(-1),a&&e.length>re&&oP(t,e,re,!1),Ar(a?2:0,i),a)s.runInContext(n,r,i);else{const c=wt(null);try{n(r,i)}finally{wt(c)}}}finally{a&&null===e[bh]&&sP(e,bh),js(o),Ar(a?3:1,i)}}function Qy(t,e,n){if(F_(e)){const r=wt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{wt(r)}}}function Yy(t,e,n){nN()&&(function I9(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Bs(n)&&function S9(t,e,n){const r=_n(e,t),i=pP(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=yf(t,_f(t,i,null,o,r,e,null,t[Us].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Uh(n,e),Gt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Hs(e,t,a,n);Gt(c,e),null!==o&&A9(0,a-i,c,u,0,o),lr(u)&&(Pn(n.index,e)[Ze]=Hs(e,t,a,n))}}(t,e,n,_n(n,e)),64==(64&n.flags)&&vP(t,e,n))}function Jy(t,e,n=_n){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function pP(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Xy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Xy(t,e,n,r,i,s,o,a,u,c,l){const d=re+r,h=d+i,f=function a9(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Z);return n}(d,h),g="function"==typeof c?c():c;return f[P]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:g,incompleteFirstPass:!1,ssrId:l}}let gP=t=>null;function mP(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?_P(n,e,i,s):r.hasOwnProperty(i)&&_P(n,e,r[i],s)}return n}function _P(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Zy(t,e,n,r){if(nN()){const i=null===r?null:{"":-1},s=function E9(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(xR(e,o.selectors,!1))if(r||(r=[]),lr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ev(t,e,a.length)}else r.unshift(o),ev(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&yP(t,e,n,o,i,a),i&&function T9(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=oc(n.mergedAttrs,n.attrs)}function yP(t,e,n,r,i,s){for(let c=0;c<r.length;c++)ty(Uh(n,e),t,r[c].type);!function D9(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Rc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=oc(n.mergedAttrs,l.hostAttrs),C9(t,n,e,u,l),b9(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function p9(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,g=h?h.outputs:null;u=mP(d.inputs,l,u,h?h.inputs:null),c=mP(d.outputs,l,c,g);const m=null===u||null===o||AR(e)?null:x9(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function vP(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Cz(){return G.lFrame.currentDirectiveIndex}();try{js(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];z_(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&w9(u,c)}}finally{js(-1),z_(o)}}function w9(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ev(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function b9(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;lr(e)&&(n[""]=t)}}function C9(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=$s(i.type)),o=new pc(s,lr(i),D);t.blueprint[r]=o,n[r]=o,function y9(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function v9(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Rc(t,n,i.hostVars,Z),i)}function Rr(t,e,n,r,i,s){const o=_n(t,e);!function tv(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Q(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[X],o,s,t.value,n,r,i)}function A9(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)IP(r,n,o[a++],o[a++],o[a++])}function IP(t,e,n,r,i){const s=wt(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{wt(s)}}function x9(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function wP(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function EP(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];W_(n[r]),o.contentQueries(2,e[s],s)}}}function yf(t,e){return t[cc]?t[PR][cr]=e:t[cc]=e,t[PR]=e,e}function nv(t,e,n){W_(0);const r=wt(null);try{e(t,n)}finally{wt(r)}}function CP(t,e){const n=t[Xo],r=n?n.get(qs,null):null;r&&r.handleError(e)}function rv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];IP(t.data[o],e[o],r,a,i)}}function M9(t,e){const n=Pn(e,t),r=n[P];!function R9(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[pt];null!==i&&null===n[ni]&&(n[ni]=jk(i,n[Xo])),iv(r,n,n[Ze])}function iv(t,e,n){K_(e);try{const r=t.viewQuery;null!==r&&nv(1,r,n);const i=t.template;null!==i&&fP(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&EP(t,e),t.staticViewQueries&&nv(2,t.viewQuery,n);const s=t.components;null!==s&&function N9(t,e){for(let n=0;n<e.length;n++)M9(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,Q_()}}let SP=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new nz(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t}),t})();function vf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=D_(i,a):2==s&&(r=D_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Nc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Re(s)),mn(s)){for(let a=Ht;a<s.length;a++){const u=s[a],c=u[P].firstChild;null!==c&&Nc(u[P],u,c,r)}s[Cr]!==s[pt]&&r.push(s[Cr])}const o=n.type;if(8&o)Nc(t,e,n.child,r);else if(32&o){const a=fy(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=dk(e,n);if(Array.isArray(a))r.push(...a);else{const u=Ic(e[et]);Nc(u[P],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function If(t,e,n,r=!0){const i=e[Us].rendererFactory;i.begin&&i.begin();try{AP(t,e,t.template,n)}catch(o){throw r&&CP(e,o),o}finally{i.end&&i.end(),e[Us].effectManager?.flush()}}function AP(t,e,n,r){const i=e[J];if(256!=(256&i)){e[Us].effectManager?.flush(),K_(e);try{JR(e),function aN(t){return G.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&fP(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Ph(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Oh(e,c,0,null),Y_(e,0)}if(function L9(t){for(let e=XN(t);null!==e;e=ZN(e)){if(!e[FR])continue;const n=e[ta];for(let r=0;r<n.length;r++){fz(n[r])}}}(e),xP(e,2),null!==t.contentQueries&&EP(t,e),o){const c=t.contentCheckHooks;null!==c&&Ph(e,c)}else{const c=t.contentHooks;null!==c&&Oh(e,c,1),Y_(e,1)}!function o9(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=iP(e,Dh);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)js(~s);else{const o=s,a=n[++i],u=n[++i];Dz(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[Dh]&&sP(e,Dh),js(-1)}}(t,e);const a=t.components;null!==a&&RP(e,a,0);const u=t.viewQuery;if(null!==u&&nv(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Ph(e,c)}else{const c=t.viewHooks;null!==c&&Oh(e,c,2),Y_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[J]&=-73,XR(e)}finally{Q_()}}}function xP(t,e){for(let n=XN(t);null!==n;n=ZN(n))for(let r=Ht;r<n.length;r++)MP(n[r],e)}function V9(t,e,n){MP(Pn(e,t),n)}function MP(t,e){if(!function dz(t){return 128==(128&t[J])}(t))return;const n=t[P];if(80&t[J]&&0===e||1024&t[J]||2===e)AP(n,t,n.template,t[Ze]);else if(t[uc]>0){xP(t,1);const i=t[P].components;null!==i&&RP(t,i,1)}}function RP(t,e,n){for(let r=0;r<e.length;r++)V9(t,e[r],n)}class kc{get rootNodes(){const e=this._lView,n=e[P];return Nc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ze]}set context(e){this._lView[Ze]=e}get destroyed(){return 256==(256&this._lView[J])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Be];if(mn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(gy(e,r),jh(n,r))}this._attachedToViewContainer=!1}rk(this._lView[P],this._lView)}onDestroy(e){!function eN(t,e){if(256==(256&t[J]))throw new S(911,!1);null===t[qi]&&(t[qi]=[]),t[qi].push(e)}(this._lView,e)}markForCheck(){Mc(this._cdRefInjectingView||this._lView)}detach(){this._lView[J]&=-129}reattach(){this._lView[J]|=128}detectChanges(){If(this._lView[P],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vq(t,e){Ec(t,e,e[X],2,null,null)}(this._lView[P],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class U9 extends kc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;If(e[P],e,e[Ze],!1)}checkNoChanges(){}get context(){return null}}class NP extends pf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=fe(e);return new Pc(n,this.ngModule)}}function kP(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class $9{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ih(r);const i=this.injector.get(e,qy,r);return i!==qy||n===qy?i:this.parentInjector.get(e,n,r)}}class Pc extends zk{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=kP(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return kP(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function L8(t){return t.map(F8).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof oi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new $9(e,s):e,a=o.get(Wk,null);if(null===a)throw new S(407,!1);const l={rendererFactory:a,sanitizer:o.get(qW,null),effectManager:o.get(SP,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function u9(t,e,n,r){const s=r.get(Jk,!1)||n===ar.ShadowDom,o=t.selectRootElement(e,s);return function c9(t){gP(t)}(o),o}(d,r,this.componentDef.encapsulation,o):Xh(d,h,function B9(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),_=this.componentDef.signals?4608:this.componentDef.onPush?576:528,I=Xy(0,null,null,1,0,null,null,null,null,null,null),y=_f(null,I,null,_,null,null,l,d,o,null,null);let b,k;K_(y);try{const O=this.componentDef;let H,Fe=null;O.findHostDirectiveDefs?(H=[],Fe=new Map,O.findHostDirectiveDefs(O,H,Fe),H.push(O)):H=[O];const zn=function H9(t,e){const n=t[P],r=re;return t[r]=e,Ta(n,r,2,"#host",null)}(y,f),or=function G9(t,e,n,r,i,s,o){const a=i[P];!function z9(t,e,n,r){for(const i of t)e.mergedAttrs=oc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(vf(e,e.mergedAttrs,!0),null!==n&&gk(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=jk(e,i[Xo]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=_f(i,pP(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&ev(a,t,r.length-1),yf(i,d),i[t.index]=d}(zn,f,O,H,y,l,d);k=YR(I,re),f&&function W9(t,e,n,r){if(r)P_(t,n,["ng-version",Kk.full]);else{const{attrs:i,classes:s}=function V8(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ur(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&P_(t,n,i),s&&s.length>0&&pk(t,n,s.join(" "))}}(d,O,f,r),void 0!==n&&function K9(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(k,this.ngContentSelectors,n),b=function q9(t,e,n,r,i,s){const o=Rt(),a=i[P],u=_n(o,i);yP(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Gt(Hs(i,a,o.directiveStart+l,o),i);vP(a,i,o),u&&Gt(u,i);const c=Hs(i,a,o.directiveStart+o.componentOffset,o);if(t[Ze]=i[Ze]=c,null!==s)for(const l of s)l(c,e);return Qy(a,o,t),c}(or,O,H,Fe,y,[Q9]),iv(I,y,null)}finally{Q_()}return new j9(this.componentType,b,Ia(k,y),y,k)}}class j9 extends BW{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new U9(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;rv(s[P],s,i,e,n),this.previousInputValues.set(e,n),Mc(Pn(this._tNode.index,s))}}get injector(){return new oa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Q9(){const t=Rt();kh(E()[P],t)}function ve(t){let e=function PP(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(lr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=wf(t.inputs),o.inputTransforms=wf(t.inputTransforms),o.declaredInputs=wf(t.declaredInputs),o.outputs=wf(t.outputs);const a=i.hostBindings;a&&Z9(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&J9(t,u),c&&X9(t,c),ph(t.inputs,i.inputs),ph(t.declaredInputs,i.declaredInputs),ph(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),ph(o.inputTransforms,i.inputTransforms)),lr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ve&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Y9(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=oc(i.hostAttrs,n=oc(n,i.hostAttrs))}}(r)}function wf(t){return t===br?{}:t===le?[]:t}function J9(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function X9(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function Z9(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Ef(t){return!!sv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function sv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Nr(t,e,n){return t[e]=n}function zt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function kr(t,e,n,r){const i=E();return zt(i,ia(),e)&&(ae(),Rr($e(),i,t,e,n,r)),kr}function Uc(t,e,n,r,i,s,o,a){const u=E(),c=ae(),l=t+re,d=c.firstCreatePass?function b5(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ta(e,t,4,o||null,Wi(c,a));Zy(e,n,l,Wi(c,u)),kh(e,l);const d=l.tView=Xy(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];xr(d,!1);const h=JP(c,u,d,t);Nh()&&ef(c,u,h,d),Gt(h,u),yf(u,u[l]=wP(h,u,h,d)),Sh(d)&&Yy(c,u,d),null!=o&&Jy(u,d,a)}let JP=function XP(t,e,n,r){return Ki(!0),e[X].createComment("")};function di(t,e,n){const r=E();return zt(r,ia(),e)&&function Vn(t,e,n,r,i,s,o,a){const u=_n(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(rv(t,n,l,r,i),Bs(e)&&function m9(t,e){const n=Pn(e,t);16&n[J]||(n[J]|=64)}(n,e.index)):3&e.type&&(r=function g9(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(ae(),$e(),r,t,e,r[X],n,!1),di}function dv(t,e,n,r,i){const o=i?"class":"style";rv(t,n,e.inputs[o],o,r)}function vn(t,e,n,r){const i=E(),s=ae(),o=re+t,a=i[X],u=s.firstCreatePass?function x5(t,e,n,r,i,s){const o=e.consts,u=Ta(e,t,2,r,Wi(o,i));return Zy(e,n,u,Wi(o,s)),null!==u.attrs&&vf(u,u.attrs,!1),null!==u.mergedAttrs&&vf(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=ZP(s,i,u,a,e,t);i[o]=c;const l=Sh(u);return xr(u,!0),gk(a,c,u),32!=(32&u.flags)&&Nh()&&ef(s,i,c,u),0===function gz(){return G.lFrame.elementDepthCount}()&&Gt(c,i),function mz(){G.lFrame.elementDepthCount++}(),l&&(Yy(s,i,u),Qy(s,u,i)),null!==r&&Jy(i,u),vn}function rn(){let t=Rt();H_()?function G_(){G.lFrame.isParent=!1}():(t=t.parent,xr(t,!1));const e=t;(function yz(t){return G.skipHydrationRootTNode===t})(e)&&function Ez(){G.skipHydrationRootTNode=null}(),function _z(){G.lFrame.elementDepthCount--}();const n=ae();return n.firstCreatePass&&(kh(n,t),F_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Lz(t){return 0!=(8&t.flags)}(e)&&dv(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Vz(t){return 0!=(16&t.flags)}(e)&&dv(n,e,E(),e.stylesWithoutHost,!1),rn}function ka(t,e,n,r){return vn(t,e,n,r),rn(),ka}let ZP=(t,e,n,r,i,s)=>(Ki(!0),Xh(r,i,function gN(){return G.lFrame.currentNamespace}()));function Bc(t){return!!t&&"function"==typeof t.then}function rO(t){return!!t&&"function"==typeof t.subscribe}function qt(t,e,n,r){const i=E(),s=ae(),o=Rt();return function sO(t,e,n,r,i,s,o){const a=Sh(r),c=t.firstCreatePass&&function bP(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Ze],d=function TP(t){return t[Jo]||(t[Jo]=[])}(e);let h=!0;if(3&r.type||o){const m=_n(r,e),_=o?o(m):m,I=d.length,y=o?k=>o(Re(k[r.index])):r.index;let b=null;if(!o&&a&&(b=function O5(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Jo],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,h=!1;else{s=aO(r,e,l,s,!1);const k=n.listen(_,i,s);d.push(s,k),c&&c.push(i,y,I,I+1)}}else s=aO(r,e,l,s,!1);const f=r.outputs;let g;if(h&&null!==f&&(g=f[i])){const m=g.length;if(m)for(let _=0;_<m;_+=2){const O=e[g[_]][g[_+1]].subscribe(s),H=d.length;d.push(s,O),c&&c.push(i,r.index,H,-(H+1))}}}(s,i,i[X],o,t,e,r),qt}function oO(t,e,n,r){try{return Ar(6,e,n),!1!==n(r)}catch(i){return CP(t,i),!1}finally{Ar(7,e,n)}}function aO(t,e,n,r,i){return function s(o){if(o===Function)return r;Mc(t.componentOffset>-1?Pn(t.index,e):e);let u=oO(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=oO(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function pv(t=1){return function Az(t){return(G.lFrame.contextLView=function xz(t,e){for(;t>0;)e=e[Zo],t--;return e}(t,G.lFrame.contextLView))[Ze]}(t)}function Sf(t,e){return t<<17|e<<2}function Xi(t){return t>>17&32767}function mv(t){return 2|t}function Ks(t){return(131068&t)>>2}function _v(t,e){return-131069&t|e<<2}function yv(t){return 1|t}function _O(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Xi(s):Ks(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];G5(t[a],e)&&(u=!0,t[a+1]=r?yv(l):mv(l)),a=r?Xi(l):Ks(l)}u&&(t[n+1]=r?mv(s):yv(s))}function G5(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ha(t,e)>=0}function Af(t,e){return function dr(t,e,n,r){const i=E(),s=ae(),o=function ii(t){const e=G.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function CO(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[tn()],o=function DO(t,e){return e>=t.expandoStartIndex}(t,n);(function MO(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function Z5(t,e,n,r){const i=function q_(t){const e=G.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=$c(n=vv(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=vv(i,t,e,n,r),null===s){let u=function eK(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ks(r))return t[Xi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=vv(null,t,e,u[1],r),u=$c(u,e.attrs,r),function tK(t,e,n,r){t[Xi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function nK(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=$c(r,t[s].hostAttrs,n);return $c(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function j5(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Xi(o),u=Ks(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||ha(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Xi(t[a+1]);t[r+1]=Sf(h,a),0!==h&&(t[h+1]=_v(t[h+1],r)),t[a+1]=function B5(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Sf(a,0),0!==a&&(t[a+1]=_v(t[a+1],r)),a=r;else t[r+1]=Sf(u,0),0===a?a=r:t[u+1]=_v(t[u+1],r),u=r;c&&(t[r+1]=mv(t[r+1])),_O(t,l,r,!0),_O(t,l,r,!1),function H5(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ha(s,e)>=0&&(n[r+1]=yv(n[r+1]))}(e,l,t,r,s),o=Sf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Z&&zt(i,o,e)&&function AO(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function $5(t){return 1==(1&t)}(c)?xO(u,e,n,i,Ks(c),o):void 0;xf(l)||(xf(s)||function U5(t){return 2==(2&t)}(c)&&(s=xO(u,null,n,i,a,o)),function Kq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Qi.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Qi.Important),t.setStyle(n,r,i,s))}}(r,o,Rh(tn(),n),i,s))}(s,s.data[tn()],i,i[X],t,i[o+1]=function oK(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ft(function Yi(t){return t instanceof vk?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),Af}function vv(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=$c(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function $c(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),On(t,o,!!n||e[++s]))}return void 0===t?null:t}function xO(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===Z&&(h=d?le:void 0);let f=d?iy(h,r):l===r?h:void 0;if(c&&!xf(f)&&(f=iy(u,r)),xf(f)&&(a=f,o))return a;const g=t[i+1];i=o?Xi(g):Ks(g)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=iy(u,r))}return a}function xf(t){return void 0!==t}function hi(t,e=""){const n=E(),r=ae(),i=t+re,s=r.firstCreatePass?Ta(r,i,1,e,null):r.data[i],o=RO(r,n,s,e,t);n[i]=o,Nh()&&ef(r,n,o,s),xr(s,!1)}let RO=(t,e,n,r,i)=>(Ki(!0),function Jh(t,e){return t.createText(e)}(e[X],r));function Mf(t){return Iv("",t,""),Mf}function Iv(t,e,n){const r=E(),i=function Da(t,e,n,r){return zt(t,ia(),n)?e+Q(n)+r:Z}(r,t,e,n);return i!==Z&&function li(t,e,n){const r=Rh(e,t);!function tk(t,e,n){t.setValue(e,n)}(t[X],r,n)}(r,tn(),i),Iv}const Fa="en-US";let ZO=Fa;function Tv(t,e,n,r,i){if(t=W(t),Array.isArray(t))for(let s=0;s<t.length;s++)Tv(t[s],e,n,r,i);else{const s=ae(),o=E();let a=zs(t)?t:W(t.provide),u=Lk(t);const c=Rt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(zs(t)||!t.multi){const f=new pc(u,i,D),g=Dv(a,e,i?l:l+h,d);-1===g?(ty(Uh(c,o),s,a),bv(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{const f=Dv(a,e,l+h,d),g=Dv(a,e,l,l+h),_=g>=0&&n[g];if(i&&!_||!i&&!(f>=0&&n[f])){ty(Uh(c,o),s,a);const I=function CQ(t,e,n,r,i){const s=new pc(t,n,D);return s.multi=[],s.index=e,s.componentProviders=0,b1(s,i,r&&!n),s}(i?DQ:bQ,n.length,i,r,u);!i&&_&&(n[g].providerFactory=I),bv(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)}else bv(s,t,f>-1?f:g,b1(n[i?g:f],u,!i&&r));!i&&r&&_&&n[g].componentProviders++}}}function bv(t,e,n,r){const i=zs(e),s=function bW(t){return!!t.useClass}(e);if(i||s){const u=(s?W(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function b1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Dv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function bQ(t,e,n,r){return Cv(this.multi,[])}function DQ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Hs(n,n[P],this.providerFactory.index,r);s=a.slice(0,o),Cv(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Cv(i,s);return s}function Cv(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Le(t,e=[]){return n=>{n.providersResolver=(r,i)=>function TQ(t,e,n){const r=ae();if(r.firstCreatePass){const i=lr(t);Tv(n,r.data,r.blueprint,i,!0),Tv(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class La{}class D1{}class Sv extends La{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new NP(this);const i=Nn(e);this._bootstrapComponents=ui(i.bootstrap),this._r3Injector=dP(e,n,[{provide:La,useValue:this},{provide:pf,useValue:this.componentFactoryResolver},...r],ft(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Av extends D1{constructor(e){super(),this.moduleType=e}create(e){return new Sv(this.moduleType,e,[])}}class C1 extends La{constructor(e){super(),this.componentFactoryResolver=new NP(this),this.instance=null;const n=new ky([...e.providers,{provide:La,useValue:this},{provide:pf,useValue:this.componentFactoryResolver}],e.parent||uf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function xv(t,e,n=null){return new C1({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let xQ=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=kk(0,n.type),i=r.length>0?xv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t($(oi))}),t})();function S1(t){t.getStandaloneInjector=e=>e.get(xQ).getOrCreateStandaloneInjector(t)}function P1(t,e,n,r){return function F1(t,e,n,r,i,s){const o=e+n;return zt(t,o,i)?Nr(t,o+1,s?r.call(s,i):r(i)):Wc(t,o+1)}(E(),en(),t,e,n,r)}function O1(t,e,n,r,i){return function L1(t,e,n,r,i,s,o){const a=e+n;return function Ws(t,e,n,r){const i=zt(t,e,n);return zt(t,e+1,r)||i}(t,a,i,s)?Nr(t,a+2,o?r.call(o,i,s):r(i,s)):Wc(t,a+2)}(E(),en(),t,e,n,r,i)}function Wc(t,e){const n=t[e];return n===Z?void 0:n}function Rv(t){return e=>{setTimeout(t,void 0,e)}}const ze=class ZQ extends Xr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Rv(s),i&&(i=Rv(i)),o&&(o=Rv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof xn&&e.add(a),a}};let fi=(()=>{class t{}return t.__NG_ELEMENT_ID__=rY,t})();const tY=fi,nY=class extends tY{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const o=this._declarationTContainer.tView,a=_f(this._declarationLView,o,e,4096&this._declarationLView[J]?4096:16,null,o.declTNode,null,null,null,n||null,r||null);a[lc]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[Dr];return null!==c&&(a[Dr]=c.createEmbeddedView(o)),iv(o,a,e),new kc(a)}};function rY(){return function Of(t,e){return 4&t.type?new nY(e,t,Ia(t,e)):null}(Rt(),E())}let fr=(()=>{class t{}return t.__NG_ELEMENT_ID__=lY,t})();function lY(){return function q1(t,e){let n;const r=e[t.index];return mn(r)?n=r:(n=wP(r,e,null,t),e[t.index]=n,yf(e,n)),W1(n,e,t,r),new G1(n,t,e)}(Rt(),E())}const dY=fr,G1=class extends dY{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ia(this._hostTNode,this._hostLView)}get injector(){return new oa(this._hostTNode,this._hostLView)}get parentInjector(){const e=ey(this._hostTNode,this._hostLView);if(vN(e)){const n=Lh(e,this._hostLView),r=Fh(e);return new oa(n[P].data[r+8],n)}return new oa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=z1(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Ht}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function gc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const u=o?e:new Pc(fe(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const _=(o?c:this.parentInjector).get(oi,null);_&&(s=_)}fe(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[P];if(function hz(t){return mn(t[Be])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Be],l=new G1(c,c[jt],c[Be]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function Bq(t,e,n,r){const i=Ht+r,s=n.length;r>0&&(n[i-1][cr]=e),r<s-Ht?(e[cr]=n[i],RN(n,Ht+r,e)):(n.push(e),e[cr]=null),e[Be]=n;const o=e[lc];null!==o&&n!==o&&function $q(t,e){const n=t[ta];e[et]!==e[Be][Be][et]&&(t[FR]=!0),null===n?t[ta]=[e]:n.push(e)}(o,e);const a=e[Dr];null!==a&&a.insertView(t),e[J]|=128}(s,i,a,o),!r){const u=vy(o,a),c=i[X],l=Zh(c,a[Cr]);null!==l&&function Lq(t,e,n,r,i,s){r[pt]=i,r[jt]=e,Ec(t,r,n,1,i,s)}(s,a[jt],c,i,l,u)}return e.attachToViewContainerRef(),RN(Pv(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=z1(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=gy(this._lContainer,n);r&&(jh(Pv(this._lContainer),n),rk(r[P],r))}detach(e){const n=this._adjustIndex(e,-1),r=gy(this._lContainer,n);return r&&null!=jh(Pv(this._lContainer),n)?new kc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function z1(t){return t[8]}function Pv(t){return t[8]||(t[8]=[])}let W1=function K1(t,e,n,r){if(t[Cr])return;let i;i=8&n.type?Re(r):function hY(t,e){const n=t[X],r=n.createComment(""),i=_n(e,t);return Gs(n,Zh(n,i),r,function zq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Cr]=i};const zv=new L("Application Initializer");let qv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=V(zv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Bc(s))n.push(s);else if(rO(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),vF=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const pi=new L("LocaleId",{providedIn:"root",factory:()=>V(pi,ne.Optional|ne.SkipSelf)||function HY(){return typeof $localize<"u"&&$localize.locale||Fa}()});let IF=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new qn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class qY{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let wF=(()=>{class t{compileModuleSync(n){return new Av(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=ui(Nn(n).declarations).reduce((o,a)=>{const u=fe(a);return u&&o.push(new Pc(u)),o},[]);return new qY(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bF(...t){}class De{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ze(!1),this.onMicrotaskEmpty=new ze(!1),this.onStable=new ze(!1),this.onError=new ze(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function QY(){const t="function"==typeof be.requestAnimationFrame;let e=be[t?"requestAnimationFrame":"setTimeout"],n=be[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function XY(t){const e=()=>{!function JY(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(be,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Kv(t),t.isCheckStableRunning=!0,Wv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Kv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return DF(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),CF(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return DF(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),CF(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Kv(t),Wv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!De.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(De.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,YY,bF,bF);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const YY={};function Wv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Kv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function DF(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function CF(t){t._nesting--,Wv(t)}class ZY{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ze,this.onMicrotaskEmpty=new ze,this.onStable=new ze,this.onError=new ze}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const SF=new L("",{providedIn:"root",factory:AF});function AF(){const t=V(De);let e=!0;return function u8(...t){const e=nc(t),n=function t8(t,e){return"number"==typeof T_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Wn(r[0]):Ko(n)(It(r,e)):Er}(new Ue(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ue(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{De.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(hR()))}const xF=new L(""),Lf=new L("");let Jv,Qv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Jv||(function eJ(t){Jv=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)($(De),$(Yv),$(Lf))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),Yv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Jv?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Zi=null;const MF=new L("AllowMultipleToken"),Xv=new L("PlatformDestroyListeners"),Zv=new L("appBootstrapListener");class NF{constructor(e,n){this.name=e,this.token=n}}function PF(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=eI();if(!o||o.injector.get(MF,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function rJ(t){if(Zi&&!Zi.get(MF,!1))throw new S(400,!1);(function RF(){!function ez(t){jR=t}(()=>{throw new S(600,!1)})})(),Zi=t;const e=t.get(FF);(function kF(t){t.get(Vk,null)?.forEach(n=>n())})(t)}(function OF(t=[],e){return Ln.create({name:e,providers:[{provide:Ry,useValue:"platform"},{provide:Xv,useValue:new Set([()=>Zi=null])},...t]})}(a,r))}return function sJ(t){const e=eI();if(!e)throw new S(401,!1);return e}()}}function eI(){return Zi?.get(FF)??null}let FF=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function oJ(t="zone.js",e){return"noop"===t?new ZY:"zone.js"===t?new De(e):t}(r?.ngZone,function LF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function AQ(t,e,n){return new Sv(t,e,n)}(n.moduleType,this.injector,function jF(t){return[{provide:De,useFactory:t},{provide:Sc,multi:!0,useFactory:()=>{const e=V(uJ,{optional:!0});return()=>e.initialize()}},{provide:$F,useFactory:aJ},{provide:SF,useFactory:AF}]}(()=>i)),o=s.injector.get(qs,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{Vf(this._modules,s),a.unsubscribe()})}),function VF(t,e,n){try{const r=n();return Bc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(qv);return a.runInitializers(),a.donePromise.then(()=>(function e1(t){Kn(t,"Expected localeId to be defined"),"string"==typeof t&&(ZO=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(pi,Fa)||Fa),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=UF({},r);return function tJ(t,e,n){const r=new Av(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ba);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new S(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Xv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)($(Ln))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function UF(t,e){return Array.isArray(e)?e.reduce(UF,t):{...t,...e}}let Ba=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V($F),this.zoneIsStable=V(SF),this.componentTypes=[],this.components=[],this.isStable=V(IF).hasPendingTasks.pipe(Tr(n=>n?q(!1):this.zoneIsStable),function c8(t,e=Hi){return t=t??l8,vt((n,r)=>{let i,s=!0;n.subscribe(ht(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),hR()),this._injector=V(oi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof zk;if(!this._injector.get(qv).done)throw!i&&function Yo(t){const e=fe(t)||$t(t)||gn(t);return null!==e&&e.standalone}(n),new S(405,!1);let o;o=i?n:this._injector.get(pf).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function nJ(t){return t.isBoundToModule}(o)?void 0:this._injector.get(La),c=o.create(Ln.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(xF,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Vf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Vf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Zv,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Vf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Vf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $F=new L("",{providedIn:"root",factory:()=>V(qs).handleError.bind(void 0)});function aJ(){const t=V(De),e=V(qs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let uJ=(()=>{class t{constructor(){this.zone=V(De),this.applicationRef=V(Ba)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let Uf=(()=>{class t{}return t.__NG_ELEMENT_ID__=lJ,t})();function lJ(t){return function dJ(t,e,n){if(Bs(t)&&!n){const r=Pn(t.index,e);return new kc(r,r)}return 47&t.type?new kc(e[et],e):null}(Rt(),E(),16==(16&t))}class qF{constructor(){}supports(e){return Ef(e)}create(e){return new _J(e)}}const mJ=(t,e)=>e;class _J{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||mJ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<KF(r,i,s)?n:r,a=KF(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,g=f+h;l<=g&&g<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Ef(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function o5(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new yJ(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new WF),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new WF),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class yJ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class WF{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new vJ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function KF(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class QF{constructor(){}supports(e){return e instanceof Map||sv(e)}create(){return new IJ}}class IJ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||sv(e)))throw new S(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new wJ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class wJ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function YF(){return new jf([new qF])}let jf=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||YF()),deps:[[t,new Gh,new nn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new S(901,!1)}}return t.\u0275prov=j({token:t,providedIn:"root",factory:YF}),t})();function JF(){return new Yc([new QF])}let Yc=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||JF()),deps:[[t,new Gh,new nn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new S(901,!1)}}return t.\u0275prov=j({token:t,providedIn:"root",factory:JF}),t})();const bJ=PF(null,"core",[]);let DJ=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)($(Ba))},t.\u0275mod=Rn({type:t}),t.\u0275inj=hn({}),t})();function $a(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let aI=null;function es(){return aI}class LJ{}const Xn=new L("DocumentToken");let uI=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(UJ)},providedIn:"platform"}),t})();const VJ=new L("Location Initialized");let UJ=(()=>{class t extends uI{constructor(){super(),this._doc=V(Xn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return es().getBaseHref(this._doc)}onPopState(n){const r=es().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=es().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function cI(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function iL(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function gi(t){return t&&"?"!==t[0]?"?"+t:t}let Js=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(oL)},providedIn:"root"}),t})();const sL=new L("appBaseHref");let oL=(()=>{class t extends Js{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(Xn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return cI(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+gi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+gi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+gi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(uI),$(sL,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),BJ=(()=>{class t extends Js{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=cI(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+gi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+gi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(uI),$(sL,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),lI=(()=>{class t{constructor(n){this._subject=new ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function HJ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(iL(aL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+gi(r))}normalize(n){return t.stripTrailingSlash(function jJ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,aL(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=gi,t.joinWithSlash=cI,t.stripTrailingSlash=iL,t.\u0275fac=function(n){return new(n||t)($(Js))},t.\u0275prov=j({token:t,factory:function(){return function $J(){return new lI($(Js))}()},providedIn:"root"}),t})();function aL(t){return t.replace(/\/index.html$/,"")}const II=/\s+/,mL=[];let _L=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=mL,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(II):mL}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(II):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(II).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(D(jf),D(Yc),D(Fn),D(ai))},t.\u0275dir=z({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class xX{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vL=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new xX(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),IL(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{IL(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(fr),D(fi),D(jf))},t.\u0275dir=z({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function IL(t,e){t.context.$implicit=e.item}let wL=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new MX,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){EL("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){EL("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(fr),D(fi))},t.\u0275dir=z({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class MX{constructor(){this.$implicit=null,this.ngIf=null}}function EL(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ft(e)}'.`)}let tZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rn({type:t}),t.\u0275inj=hn({}),t})();function CL(t){return"server"===t}let sZ=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new oZ($(Xn),window)}),t})();class oZ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function aZ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=SL(this.window.history)||SL(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function SL(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class RZ extends LJ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class SI extends RZ{static makeCurrent(){!function FJ(t){aI||(aI=t)}(new SI)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function NZ(){return el=el||document.querySelector("base"),el?el.getAttribute("href"):null}();return null==n?null:function kZ(t){np=np||document.createElement("a"),np.setAttribute("href",t);const e=np.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){el=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function SX(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let np,el=null,OZ=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const AI=new L("EventManagerPlugins");let NL=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)($(AI),$(De))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class kL{constructor(e){this._doc=e}}const xI="ng-app-id";let PL=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=CL(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${xI}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(xI),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(xI,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)($(Xn),$(cf),$(Uk,8),$(Ji))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const MI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},RI=/%COMP%/g,UZ=new L("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function FL(t,e){return e.map(n=>n.replace(RI,t))}let LL=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=CL(a),this.defaultRenderer=new NI(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ar.ShadowDom&&(r={...r,encapsulation:ar.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof UL?i.applyToHost(n):i instanceof kI&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case ar.Emulated:s=new UL(u,c,r,this.appId,l,o,a,d);break;case ar.ShadowDom:return new HZ(u,c,n,r,o,a,this.nonce,d);default:s=new kI(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)($(NL),$(PL),$(cf),$(UZ),$(Xn),$(Ji),$(De),$(Uk))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class NI{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(MI[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(VL(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(VL(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=MI[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=MI[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Qi.DashCase|Qi.Important)?e.style.setProperty(n,r,i&Qi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Qi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=es().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function VL(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class HZ extends NI{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=FL(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kI extends NI{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?FL(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class UL extends kI{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function BZ(t){return"_ngcontent-%COMP%".replace(RI,t)}(c),this.hostAttr=function $Z(t){return"_nghost-%COMP%".replace(RI,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let GZ=(()=>{class t extends kL{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)($(Xn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const BL=["alt","control","meta","shift"],zZ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qZ={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let WZ=(()=>{class t extends kL{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>es().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),BL.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=zZ[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),BL.forEach(o=>{o!==i&&(0,qZ[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)($(Xn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const jL=[{provide:Ji,useValue:"browser"},{provide:Vk,useValue:function KZ(){SI.makeCurrent()},multi:!0},{provide:Xn,useFactory:function YZ(){return function Zq(t){Ey=t}(document),document},deps:[]}],JZ=PF(bJ,"browser",jL),XZ=new L(""),HL=[{provide:Lf,useClass:class PZ{addToWindow(e){be.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new S(5103,!1);return s},be.getAllAngularTestabilities=()=>e.getAllTestabilities(),be.getAllAngularRootElements=()=>e.getAllRootElements(),be.frameworkStabilizers||(be.frameworkStabilizers=[]),be.frameworkStabilizers.push(r=>{const i=be.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?es().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:xF,useClass:Qv,deps:[De,Yv,Lf]},{provide:Qv,useClass:Qv,deps:[De,Yv,Lf]}],GL=[{provide:Ry,useValue:"root"},{provide:qs,useFactory:function QZ(){return new qs},deps:[]},{provide:AI,useClass:GZ,multi:!0,deps:[Xn,De,Ji]},{provide:AI,useClass:WZ,multi:!0,deps:[Xn]},LL,PL,NL,{provide:Wk,useExisting:LL},{provide:class uZ{},useClass:OZ,deps:[]},[]];let ZZ=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:cf,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)($(XZ,12))},t.\u0275mod=Rn({type:t}),t.\u0275inj=hn({providers:[...GL,...HL],imports:[tZ,DJ]}),t})(),zL=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)($(Xn))},t.\u0275prov=j({token:t,factory:function(n){let r=null;return r=n?new n:function tee(){return new zL($(Xn))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:oee}=Array,{getPrototypeOf:aee,prototype:uee,keys:cee}=Object;function QL(t){if(1===t.length){const e=t[0];if(oee(e))return{args:e,keys:null};if(function lee(t){return t&&"object"==typeof t&&aee(t)===uee}(e)){const n=cee(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:dee}=Array;function YL(t){return me(e=>function hee(t,e){return dee(e)?t(...e):t(e)}(t,e))}function JL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let XL=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(D(ai),D(Fn))},t.\u0275dir=z({type:t}),t})(),Xs=(()=>{class t extends XL{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Nt(t)))(r||t)}}(),t.\u0275dir=z({type:t,features:[ve]}),t})();const Fr=new L("NgValueAccessor"),gee={provide:Fr,useExisting:Se(()=>rp),multi:!0},_ee=new L("CompositionEventMode");let rp=(()=>{class t extends XL{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mee(){const t=es()?es().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(D(ai),D(Fn),D(_ee,8))},t.\u0275dir=z({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&qt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Le([gee]),ve]}),t})();const Wt=new L("NgValidators"),rs=new L("NgAsyncValidators");function r2(t){return function ns(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function ip(t){return null}function c2(t){return null!=t}function l2(t){return Bc(t)?It(t):t}function d2(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function h2(t,e){return e.map(n=>n(t))}function f2(t){return t.map(e=>function vee(t){return!t.validate}(e)?e:n=>e.validate(n))}function OI(t){return null!=t?function p2(t){if(!t)return null;const e=t.filter(c2);return 0==e.length?null:function(n){return d2(h2(n,e))}}(f2(t)):null}function FI(t){return null!=t?function g2(t){if(!t)return null;const e=t.filter(c2);return 0==e.length?null:function(n){return function fee(...t){const e=lR(t),{args:n,keys:r}=QL(t),i=new Ue(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Wn(n[l]).subscribe(ht(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?JL(r,a):a),s.complete())}))}});return e?i.pipe(YL(e)):i}(h2(n,e).map(l2)).pipe(me(d2))}}(f2(t)):null}function m2(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function LI(t){return t?Array.isArray(t)?t:[t]:[]}function sp(t,e){return Array.isArray(t)?t.includes(e):t===e}function v2(t,e){const n=LI(e);return LI(t).forEach(i=>{sp(n,i)||n.push(i)}),n}function I2(t,e){return LI(e).filter(n=>!sp(t,n))}class w2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=OI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=FI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class un extends w2{get formDirective(){return null}get path(){return null}}class is extends w2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class E2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let T2=(()=>{class t extends E2{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(D(is,2))},t.\u0275dir=z({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Af("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ve]}),t})();const tl="VALID",ap="INVALID",Ha="PENDING",nl="DISABLED";function up(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class S2{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tl}get invalid(){return this.status===ap}get pending(){return this.status==Ha}get disabled(){return this.status===nl}get enabled(){return this.status!==nl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(v2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(v2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(I2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(I2(e,this._rawAsyncValidators))}hasValidator(e){return sp(this._rawValidators,e)}hasAsyncValidator(e){return sp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ha,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=nl,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=tl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tl||this.status===Ha)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nl:tl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ha,this._hasOwnPendingAsyncValidator=!0;const n=l2(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?nl:this.errors?ap:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ha)?Ha:this._anyControlsHaveStatus(ap)?ap:tl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){up(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function bee(t){return Array.isArray(t)?OI(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Dee(t){return Array.isArray(t)?FI(t):t||null}(this._rawAsyncValidators)}}const Ga=new L("CallSetDisabledState",{providedIn:"root",factory:()=>cp}),cp="always";function rl(t,e,n=cp){(function HI(t,e){const n=function _2(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(m2(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function y2(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(m2(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();hp(e._rawValidators,i),hp(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Aee(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&A2(t,e)})}(t,e),function Mee(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function xee(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&A2(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function See(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function hp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function A2(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function R2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function N2(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const k2=class extends S2{constructor(e=null,n,r){super(function BI(t){return(up(t)?t.validators:t)||null}(n),function $I(t,e){return(up(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),up(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=N2(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){R2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){R2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){N2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Vee={provide:is,useExisting:Se(()=>KI)},F2=(()=>Promise.resolve())();let KI=(()=>{class t extends is{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new k2,this._registered=!1,this.name="",this.update=new ze,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function qI(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===rp?n=s:function kee(t){return Object.getPrototypeOf(t.constructor)===Xs}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function zI(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){F2.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&$a(r);F2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function lp(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(D(un,9),D(Wt,10),D(rs,10),D(Fr,10),D(Uf,8),D(Ga,8))},t.\u0275dir=z({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Le([Vee]),ve,Qn]}),t})(),V2=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rn({type:t}),t.\u0275inj=hn({}),t})(),Zs=(()=>{class t{constructor(){this._validator=ip}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ip,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=z({type:t,features:[Qn]}),t})();const rte={provide:Wt,useExisting:Se(()=>pp),multi:!0};let pp=(()=>{class t extends Zs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=$a,this.createValidator=n=>r2}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Nt(t)))(r||t)}}(),t.\u0275dir=z({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&kr("required",r._enabled?"":null)},inputs:{required:"required"},features:[Le([rte]),ve]}),t})(),cte=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rn({type:t}),t.\u0275inj=hn({imports:[V2]}),t})(),dte=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ga,useValue:n.callSetDisabledState??cp}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rn({type:t}),t.\u0275inj=hn({imports:[cte]}),t})();function ew(...t){const e=nc(t),n=lR(t),{args:r,keys:i}=QL(t);if(0===r.length)return It([],e);const s=new Ue(function fte(t,e,n=Hi){return r=>{nV(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)nV(e,()=>{const c=It(t[u],e);let l=!1;c.subscribe(ht(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>JL(i,o):Hi));return n?s.pipe(YL(n)):s}function nV(t,e,n){t?Zr(n,t,e):e()}const gp=ec(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function tw(...t){return function pte(){return Ko(1)}()(It(t,nc(t)))}function rV(t){return new Ue(e=>{Wn(t()).subscribe(e)})}function sl(t,e){const n=Te(t)?t:()=>t,r=i=>i.error(n());return new Ue(e?i=>e.schedule(r,0,i):r)}function nw(){return vt((t,e)=>{let n=null;t._refCount++;const r=ht(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class iV extends Ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,QM(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xn;const n=this.getSubject();e.add(this.source.subscribe(ht(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xn.EMPTY)}return e}refCount(){return nw()(this)}}function za(t){return t<=0?()=>Er:vt((e,n)=>{let r=0;e.subscribe(ht(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ss(t,e){return vt((n,r)=>{let i=0;n.subscribe(ht(r,s=>t.call(e,s,i++)&&r.next(s)))})}function mp(t){return vt((e,n)=>{let r=!1;e.subscribe(ht(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function sV(t=mte){return vt((e,n)=>{let r=!1;e.subscribe(ht(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function mte(){return new gp}function eo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ss((i,s)=>t(i,s,r)):Hi,za(1),n?mp(e):sV(()=>new gp))}function ol(t,e){return Te(e)?Mt(t,e,1):Mt(t,1)}function Kt(t,e,n){const r=Te(t)||e||n?{next:t,error:e,complete:n}:t;return r?vt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ht(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Hi}function to(t){return vt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ht(n,void 0,void 0,o=>{s=Wn(t(o,to(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function rw(t){return t<=0?()=>Er:vt((e,n)=>{let r=[];e.subscribe(ht(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function iw(t){return vt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ee="primary",al=Symbol("RouteTitle");class wte{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function qa(t){return new wte(t)}function Ete(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Lr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!oV(t[i],e[i]))return!1;return!0}function oV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function aV(t){return t.length>0?t[t.length-1]:null}function os(t){return function hte(t){return!!t&&(t instanceof Ue||Te(t.lift)&&Te(t.subscribe))}(t)?t:Bc(t)?It(Promise.resolve(t)):q(t)}const bte={exact:function lV(t,e,n){if(!no(t.segments,e.segments)||!_p(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!lV(t.children[r],e.children[r],n))return!1;return!0},subset:dV},uV={exact:function Dte(t,e){return Lr(t,e)},subset:function Cte(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>oV(t[n],e[n]))},ignored:()=>!0};function cV(t,e,n){return bte[n.paths](t.root,e.root,n.matrixParams)&&uV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function dV(t,e,n){return hV(t,e,e.segments,n)}function hV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!no(i,n)||e.hasChildren()||!_p(i,n,r))}if(t.segments.length===n.length){if(!no(t.segments,n)||!_p(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!dV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(no(t.segments,i)&&_p(t.segments,i,r)&&t.children[ee])&&hV(t.children[ee],e,s,r)}}function _p(t,e,n){return e.every((r,i)=>uV[n](t[i].parameters,r.parameters))}class Wa{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qa(this.queryParams)),this._queryParamMap}toString(){return xte.serialize(this)}}class Ie{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yp(this)}}class ul{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=qa(this.parameters)),this._parameterMap}toString(){return gV(this)}}function no(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let cl=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new sw},providedIn:"root"}),t})();class sw{parse(e){const n=new Bte(e);return new Wa(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${ll(e.root,!0)}`,r=function Nte(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${vp(n)}=${vp(i)}`).join("&"):`${vp(n)}=${vp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Mte(t){return encodeURI(t)}(e.fragment)}`:""}`}}const xte=new sw;function yp(t){return t.segments.map(e=>gV(e)).join("/")}function ll(t,e){if(!t.hasChildren())return yp(t);if(e){const n=t.children[ee]?ll(t.children[ee],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ee&&r.push(`${i}:${ll(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Ate(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ee&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ee&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ee?[ll(t.children[ee],!1)]:[`${i}:${ll(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ee]?`${yp(t)}/${n[0]}`:`${yp(t)}/(${n.join("//")})`}}function fV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vp(t){return fV(t).replace(/%3B/gi,";")}function ow(t){return fV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ip(t){return decodeURIComponent(t)}function pV(t){return Ip(t.replace(/\+/g,"%20"))}function gV(t){return`${ow(t.path)}${function Rte(t){return Object.keys(t).map(e=>`;${ow(e)}=${ow(t[e])}`).join("")}(t.parameters)}`}const kte=/^[^\/()?;#]+/;function aw(t){const e=t.match(kte);return e?e[0]:""}const Pte=/^[^\/()?;=#]+/,Fte=/^[^=?&#]+/,Vte=/^[^&#]+/;class Bte{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ee]=new Ie(e,n)),r}parseSegment(){const e=aw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new ul(Ip(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Ote(t){const e=t.match(Pte);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=aw(this.remaining);i&&(r=i,this.capture(r))}e[Ip(n)]=Ip(r)}parseQueryParam(e){const n=function Lte(t){const e=t.match(Fte);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Ute(t){const e=t.match(Vte);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=pV(n),s=pV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=aw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ee]:new Ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}}function mV(t){return t.segments.length>0?new Ie([],{[ee]:t}):t}function _V(t){const e={};for(const r of Object.keys(t.children)){const s=_V(t.children[r]);if(r===ee&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function $te(t){if(1===t.numberOfChildren&&t.children[ee]){const e=t.children[ee];return new Ie(t.segments.concat(e.segments),e.children)}return t}(new Ie(t.segments,e))}function ro(t){return t instanceof Wa}function yV(t){let e;const i=mV(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new Ie(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function vV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return uw(i,i,i,n,r);const s=function Hte(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new wV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new wV(n,e,r)}(e);if(s.toRoot())return uw(i,i,new Ie([],{}),n,r);const o=function Gte(t,e,n){if(t.isAbsolute)return new Ep(e,!0,0);if(!n)return new Ep(e,!1,NaN);if(null===n.parent)return new Ep(n,!0,0);const r=wp(t.commands[0])?0:1;return function zte(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new Ep(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?hl(o.segmentGroup,o.index,s.commands):EV(o.segmentGroup,o.index,s.commands);return uw(i,o.segmentGroup,a,n,r)}function wp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function dl(t){return"object"==typeof t&&null!=t&&t.outlets}function uw(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:IV(t,e,n);const a=mV(_V(o));return new Wa(a,s,i)}function IV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:IV(s,e,n)}),new Ie(t.segments,r)}class wV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&wp(r[0]))throw new S(4003,!1);const i=r.find(dl);if(i&&i!==aV(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ep{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function EV(t,e,n){if(t||(t=new Ie([],{})),0===t.segments.length&&t.hasChildren())return hl(t,e,n);const r=function Wte(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(dl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!bV(u,c,o))return s;r+=2}else{if(!bV(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ie(t.segments.slice(0,r.pathIndex),{});return s.children[ee]=new Ie(t.segments.slice(r.pathIndex),t.children),hl(s,0,i)}return r.match&&0===i.length?new Ie(t.segments,{}):r.match&&!t.hasChildren()?cw(t,e,n):r.match?hl(t,0,i):cw(t,e,n)}function hl(t,e,n){if(0===n.length)return new Ie(t.segments,{});{const r=function qte(t){return dl(t[0])?t[0].outlets:{[ee]:t}}(n),i={};if(!r[ee]&&t.children[ee]&&1===t.numberOfChildren&&0===t.children[ee].segments.length){const s=hl(t.children[ee],e,n);return new Ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=EV(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ie(t.segments,i)}}function cw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(dl(s)){const u=Kte(s.outlets);return new Ie(r,u)}if(0===i&&wp(n[0])){r.push(new ul(t.segments[e].path,TV(n[0]))),i++;continue}const o=dl(s)?s.outlets[ee]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&wp(a)?(r.push(new ul(o,TV(a))),i+=2):(r.push(new ul(o,{})),i++)}return new Ie(r,{})}function Kte(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=cw(new Ie([],{}),0,r))}),e}function TV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function bV(t,e,n){return t==n.path&&Lr(e,n.parameters)}const fl="imperative";class Vr{constructor(e,n){this.id=e,this.url=n}}class lw extends Vr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class io extends Vr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Tp extends Vr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pl extends Vr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class dw extends Vr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qte extends Vr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yte extends Vr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jte extends Vr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xte extends Vr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zte extends Vr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ene{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tne{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nne{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rne{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ine{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sne{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DV{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class one{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new gl,this.attachRef=null}}let gl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new one,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class CV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=hw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=hw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=fw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fw(e,this._root).map(n=>n.value)}}function hw(t,e){if(t===e.value)return e;for(const n of e.children){const r=hw(t,n);if(r)return r}return null}function fw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=fw(t,n);if(r.length)return r.unshift(e),r}return[]}class yi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ka(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class SV extends CV{constructor(e,n){super(e),this.snapshot=n,pw(this,e)}toString(){return this.snapshot.toString()}}function AV(t,e){const n=function ane(t,e){const o=new bp([],{},{},"",{},ee,e,null,{});return new MV("",new yi(o,[]))}(0,e),r=new qn([new ul("",{})]),i=new qn({}),s=new qn({}),o=new qn({}),a=new qn(""),u=new Qa(r,i,o,a,s,ee,e,n.root);return u.snapshot=n.root,new SV(new yi(u,[]),n)}class Qa{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(me(c=>c[al]))??q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(e=>qa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(e=>qa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function une(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class bp{get title(){return this.data?.[al]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class MV extends CV{constructor(e,n){super(n),this.url=e,pw(this,n)}toString(){return RV(this._root)}}function pw(t,e){e.value._routerState=t,e.children.forEach(n=>pw(t,n))}function RV(t){const e=t.children.length>0?` { ${t.children.map(RV).join(", ")} } `:"";return`${t.value}${e}`}function gw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Lr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Lr(e.params,n.params)||t.paramsSubject.next(n.params),function Tte(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Lr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Lr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function mw(t,e){const n=Lr(t.params,e.params)&&function Ste(t,e){return no(t,e)&&t.every((n,r)=>Lr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||mw(t.parent,e.parent))}let NV=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new ze,this.deactivateEvents=new ze,this.attachEvents=new ze,this.detachEvents=new ze,this.parentContexts=V(gl),this.location=V(fr),this.changeDetector=V(Uf),this.environmentInjector=V(oi),this.inputBinder=V(Dp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new cne(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=z({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qn]}),t})();class cne{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Qa?this.route:e===gl?this.childContexts:this.parent.get(e,n)}}const Dp=new L("");let kV=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=ew([r.queryParams,r.params,r.data]).pipe(Tr(([s,o,a],u)=>(a={...s,...o,...a},0===u?q(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function OJ(t){const e=fe(t);if(!e)return null;const n=new Pc(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function ml(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function dne(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ml(t,r,i);return ml(t,r)})}(t,e,n);return new yi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ml(t,a)),o}}const r=function hne(t){return new Qa(new qn(t.url),new qn(t.params),new qn(t.queryParams),new qn(t.fragment),new qn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>ml(t,s));return new yi(r,i)}}const _w="ngNavigationCancelingError";function PV(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ro(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=OV(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function OV(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[_w]=!0,r.cancellationCode=e,n&&(r.url=n),r}function FV(t){return LV(t)&&ro(t.url)}function LV(t){return t&&t[_w]}let VV=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ac({type:t,selectors:[["ng-component"]],standalone:!0,features:[S1],decls:1,vars:0,template:function(n,r){1&n&&ka(0,"router-outlet")},dependencies:[NV],encapsulation:2}),t})();function yw(t){const e=t.children&&t.children.map(yw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=VV),n}function _r(t){return t.outlet||ee}function _l(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class vne{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),gw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ka(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ka(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ka(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ka(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new sne(s.value.snapshot))}),e.children.length&&this.forwardEvent(new rne(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(gw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),gw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=_l(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class UV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Cp{constructor(e,n){this.component=e,this.route=n}}function Ine(t,e,n){const r=t._root;return yl(r,e?e._root:null,n,[r.value])}function Ya(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function _8(t){return null!==_h(t)}(t)?e.get(t):t:r}function yl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ka(e);return t.children.forEach(o=>{(function Ene(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function Tne(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!no(t.url,e.url);case"pathParamsOrQueryParamsChange":return!no(t.url,e.url)||!Lr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mw(t,e)||!Lr(t.queryParams,e.queryParams);default:return!mw(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new UV(r)):(s.data=o.data,s._resolvedData=o._resolvedData),yl(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cp(a.outlet.component,o))}else o&&vl(e,a,i),i.canActivateChecks.push(new UV(r)),yl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>vl(a,n.getContext(o),i)),i}function vl(t,e,n){const r=Ka(t),i=t.value;Object.entries(r).forEach(([s,o])=>{vl(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Cp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Il(t){return"function"==typeof t}function BV(t){return t instanceof gp||"EmptyError"===t?.name}const Sp=Symbol("INITIAL_VALUE");function Ja(){return Tr(t=>ew(t.map(e=>e.pipe(za(1),function gte(...t){const e=nc(t);return vt((n,r)=>{(e?tw(t,n,e):tw(t,n)).subscribe(r)})}(Sp)))).pipe(me(e=>{for(const n of e)if(!0!==n){if(n===Sp)return Sp;if(!1===n||n instanceof Wa)return n}return!0}),ss(e=>e!==Sp),za(1)))}function $V(t){return function IG(...t){return qM(t)}(Kt(e=>{if(ro(e))throw PV(0,e)}),me(e=>!0===e))}class Ap{constructor(e){this.segmentGroup=e||null}}class jV{constructor(e){this.urlTree=e}}function Xa(t){return sl(new Ap(t))}function HV(t){return sl(new jV(t))}class Hne{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new S(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return q(r);if(i.numberOfChildren>1||!i.children[ee])return sl(new S(4e3,!1));i=i.children[ee]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Wa(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const vw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gne(t,e,n,r,i){const s=Iw(t,e,n);return s.matched?(r=function fne(t,e){return t.providers&&!t._injector&&(t._injector=xv(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Bne(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?q(i.map(o=>{const a=Ya(o,t);return os(function xne(t){return t&&Il(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ja(),$V()):q(!0)}(r,e,n).pipe(me(o=>!0===o?s:{...vw}))):q(s)}function Iw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...vw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ete)(n,t,e);if(!i)return{...vw};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function GV(t,e,n,r){return n.length>0&&function Wne(t,e,n){return n.some(r=>xp(t,e,r)&&_r(r)!==ee)}(t,n,r)?{segmentGroup:new Ie(e,qne(r,new Ie(n,t.children))),slicedSegments:[]}:0===n.length&&function Kne(t,e,n){return n.some(r=>xp(t,e,r))}(t,n,r)?{segmentGroup:new Ie(t.segments,zne(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function zne(t,e,n,r,i){const s={};for(const o of r)if(xp(t,n,o)&&!i[_r(o)]){const a=new Ie([],{});s[_r(o)]=a}return{...i,...s}}function qne(t,e){const n={};n[ee]=e;for(const r of t)if(""===r.path&&_r(r)!==ee){const i=new Ie([],{});n[_r(r)]=i}return n}function xp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Xne{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Hne(this.urlSerializer,this.urlTree)}noMatchError(e){return new S(4002,!1)}recognize(){const e=GV(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ee).pipe(to(n=>{if(n instanceof jV)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Ap?this.noMatchError(n):n}),me(n=>{const r=new bp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),i=new yi(r,n),s=new MV("",i),o=function jte(t,e,n=null,r=null){return vV(yV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ee).pipe(to(r=>{throw r instanceof Ap?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=xV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return It(i).pipe(ol(s=>{const o=r.children[s],a=function _ne(t,e){const n=t.filter(r=>_r(r)===e);return n.push(...t.filter(r=>_r(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function yte(t,e){return vt(function _te(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(ht(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),mp(null),function vte(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ss((i,s)=>t(i,s,r)):Hi,rw(1),n?mp(e):sV(()=>new gp))}(),Mt(s=>{if(null===s)return Xa(r);const o=zV(s);return function Zne(t){t.sort((e,n)=>e.value.outlet===ee?-1:n.value.outlet===ee?1:e.value.outlet.localeCompare(n.value.outlet))}(o),q(o)}))}processSegment(e,n,r,i,s,o){return It(n).pipe(ol(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(to(u=>{if(u instanceof Ap)return q(null);throw u}))),eo(a=>!!a),to(a=>{if(BV(a))return function Yne(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?q([]):Xa(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function Qne(t,e,n,r){return!!(_r(t)===r||r!==ee&&xp(e,n,t))&&("**"===t.path||Iw(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Xa(i):Xa(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?HV(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Mt(o=>{const a=new Ie(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Iw(n,i,s);if(!a)return Xa(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?HV(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Mt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?aV(i).parameters:{};a=q({snapshot:new bp(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qV(r),_r(r),r.component??r._loadedComponent??null,r,WV(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Gne(n,r,i,e).pipe(me(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new bp(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qV(r),_r(r),r.component??r._loadedComponent??null,r,WV(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Tr(u=>null===u?Xa(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Tr(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:g,slicedSegments:m}=GV(n,h,f,c);if(0===m.length&&g.hasChildren())return this.processChildren(l,c,g).pipe(me(I=>null===I?null:[new yi(d,I)]));if(0===c.length&&0===m.length)return q([new yi(d,[])]);const _=_r(r)===s;return this.processSegment(l,c,g,m,_?ee:s,!0).pipe(me(I=>[new yi(d,I)]))}))))}getChildConfig(e,n,r){return n.children?q({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?q({routes:n._loadedRoutes,injector:n._loadedInjector}):function Une(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?q(!0):q(i.map(o=>{const a=Ya(o,t);return os(function Dne(t){return t&&Il(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ja(),$V())}(e,n,r).pipe(Mt(i=>i?this.configLoader.loadChildren(e,n).pipe(Kt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function jne(t){return sl(OV(!1,3))}())):q({routes:[],injector:e})}}function ere(t){const e=t.value.routeConfig;return e&&""===e.path}function zV(t){const e=[],n=new Set;for(const r of t){if(!ere(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=zV(r.children);e.push(new yi(r.value,i))}return e.filter(r=>!n.has(r))}function qV(t){return t.data||{}}function WV(t){return t.resolve||{}}function KV(t){return"string"==typeof t.title||null===t.title}function ww(t){return Tr(e=>{const n=t(e);return n?It(n).pipe(me(()=>e)):q(e)})}const Za=new L("ROUTES");let Ew=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(wF)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=os(n.loadComponent()).pipe(me(QV),Kt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),iw(()=>{this.componentLoaders.delete(n)})),i=new iV(r,()=>new Xr).pipe(nw());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(me(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(Za,[],ne.Self|ne.Optional).flat()),{routes:c.map(yw),injector:u}}),iw(()=>{this.childrenLoaders.delete(r)})),o=new iV(s,()=>new Xr).pipe(nw());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return os(n()).pipe(me(QV),Mt(r=>r instanceof D1||Array.isArray(r)?q(r):It(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function QV(t){return function are(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Mp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Xr,this.configLoader=V(Ew),this.environmentInjector=V(oi),this.urlSerializer=V(cl),this.rootContexts=V(gl),this.inputBindingEnabled=null!==V(Dp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new tne(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new ene(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new qn({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fl,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ss(r=>0!==r.id),me(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Tr(r=>{let i=!1,s=!1;return q(r).pipe(Kt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Tr(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new pl(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Er}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return YV(o.source)&&(n.browserUrlTree=o.extractedUrl),q(o).pipe(Tr(l=>{const d=this.transitions?.getValue();return this.events.next(new lw(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Er:Promise.resolve(l)}),function tre(t,e,n,r,i,s){return Mt(o=>function Jne(t,e,n,r,i,s,o="emptyOnly"){return new Xne(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(me(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Kt(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new Qte(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:g}=o,m=new lw(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const _=AV(0,this.rootComponentType).snapshot;return q(r={...o,targetSnapshot:_,urlAfterRedirects:d,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new pl(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Er}}),Kt(o=>{const a=new Yte(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),me(o=>r={...o,guards:Ine(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function Rne(t,e){return Mt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?q({...n,guardsResult:!0}):function Nne(t,e,n,r){return It(t).pipe(Mt(i=>function Vne(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?q(s.map(a=>{const u=_l(e)??i,c=Ya(a,u);return os(function Ane(t){return t&&Il(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(eo())})).pipe(Ja()):q(!0)}(i.component,i.route,n,e,r)),eo(i=>!0!==i,!0))}(o,r,i,t).pipe(Mt(a=>a&&function bne(t){return"boolean"==typeof t}(a)?function kne(t,e,n,r){return It(e).pipe(ol(i=>tw(function One(t,e){return null!==t&&e&&e(new nne(t)),q(!0)}(i.route.parent,r),function Pne(t,e){return null!==t&&e&&e(new ine(t)),q(!0)}(i.route,r),function Lne(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function wne(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>rV(()=>q(o.guards.map(u=>{const c=_l(o.node)??n,l=Ya(u,c);return os(function Sne(t){return t&&Il(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(eo())})).pipe(Ja())));return q(s).pipe(Ja())}(t,i.path,n),function Fne(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return q(!0);const i=r.map(s=>rV(()=>{const o=_l(e)??n,a=Ya(s,o);return os(function Cne(t){return t&&Il(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(eo())}));return q(i).pipe(Ja())}(t,i.route,n))),eo(i=>!0!==i,!0))}(r,s,t,e):q(a)),me(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Kt(o=>{if(r.guardsResult=o.guardsResult,ro(o.guardsResult))throw PV(0,o.guardsResult);const a=new Jte(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),ss(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),ww(o=>{if(o.guards.canActivateChecks.length)return q(o).pipe(Kt(a=>{const u=new Xte(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Tr(a=>{let u=!1;return q(a).pipe(function nre(t,e){return Mt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return q(n);let s=0;return It(i).pipe(ol(o=>function rre(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!KV(i)&&(s[al]=i.title),function ire(t,e,n,r){const i=function sre(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return q({});const s={};return It(i).pipe(Mt(o=>function ore(t,e,n,r){const i=_l(e)??r,s=Ya(t,i);return os(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(eo(),Kt(a=>{s[o]=a}))),rw(1),function Ite(t){return me(()=>t)}(s),to(o=>BV(o)?Er:sl(o)))}(s,t,e,r).pipe(me(o=>(t._resolvedData=o,t.data=xV(t,n).resolve,i&&KV(i)&&(t.data[al]=i.title),null)))}(o.route,r,t,e)),Kt(()=>s++),rw(1),Mt(o=>s===i.length?q(n):Er))})}(n.paramsInheritanceStrategy,this.environmentInjector),Kt({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Kt(a=>{const u=new Zte(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),ww(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Kt(l=>{u.component=l}),me(()=>{})));for(const l of u.children)c.push(...a(l));return c};return ew(a(o.targetSnapshot.root)).pipe(mp(),za(1))}),ww(()=>this.afterPreactivation()),me(o=>{const a=function lne(t,e,n){const r=ml(t,e._root,n?n._root:void 0);return new SV(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Kt(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n,r)=>me(i=>(new vne(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),za(1),Kt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new io(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),iw(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),to(o=>{if(s=!0,LV(o)){FV(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Tp(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),FV(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||YV(r.source)};n.scheduleNavigation(u,fl,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new dw(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return Er}))}))}cancelNavigationTransition(n,r,i){const s=new Tp(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function YV(t){return t!==fl}let JV=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ee);return r}getResolvedTitleForRoute(n){return n.data[al]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(ure)},providedIn:"root"}),t})(),ure=(()=>{class t extends JV{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)($(zL))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cre=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(dre)},providedIn:"root"}),t})();class lre{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let dre=(()=>{class t extends lre{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Nt(t)))(r||t)}}(),t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Rp=new L("",{providedIn:"root",factory:()=>({})});let hre=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(fre)},providedIn:"root"}),t})(),fre=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var wl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(wl||{});function XV(t,e){t.events.pipe(ss(n=>n instanceof io||n instanceof Tp||n instanceof dw||n instanceof pl),me(n=>n instanceof io||n instanceof pl?wl.COMPLETE:n instanceof Tp&&(0===n.code||1===n.code)?wl.REDIRECTING:wl.FAILED),ss(n=>n!==wl.REDIRECTING),za(1)).subscribe(()=>{e()})}function pre(t){throw t}function gre(t,e,n){return e.parse("/")}const mre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_re={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tr=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=V(vF),this.isNgZoneEnabled=!1,this.options=V(Rp,{optional:!0})||{},this.pendingTasks=V(IF),this.errorHandler=this.options.errorHandler||pre,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||gre,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=V(hre),this.routeReuseStrategy=V(cre),this.titleStrategy=V(JV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=V(Za,{optional:!0})?.flat()??[],this.navigationTransitions=V(Mp),this.urlSerializer=V(cl),this.location=V(lI),this.componentInputBindingEnabled=!!V(Dp,{optional:!0}),this.isNgZoneEnabled=V(De)instanceof De&&De.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Wa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=AV(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),fl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(yw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=yV(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return vV(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ro(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,fl,null,r)}navigate(n,r={skipLocationChange:!1}){return function yre(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new S(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...mre}:!1===r?{..._re}:r,ro(n))return cV(this.currentUrlTree,n,i);const s=this.parseUrl(n);return cV(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return XV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class ZV{}let wre=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ss(n=>n instanceof io),ol(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=xv(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return It(i).pipe(Ko())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):q(null);const s=i.pipe(Mt(o=>null===o?q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?It([s,this.loader.loadComponent(r)]).pipe(Ko()):s})}}return t.\u0275fac=function(n){return new(n||t)($(tr),$(wF),$(oi),$(ZV),$(Ew))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const bw=new L("");let eU=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof lw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof io?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof pl&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof DV&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new DV(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function hP(){throw new Error("invalid")}()},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function vi(t,e){return{\u0275kind:t,\u0275providers:e}}function nU(){const t=V(Ln);return e=>{const n=t.get(Ba);if(e!==n.components[0])return;const r=t.get(tr),i=t.get(rU);1===t.get(Dw)&&r.initialNavigation(),t.get(iU,null,ne.Optional)?.setUpPreloading(),t.get(bw,null,ne.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const rU=new L("",{factory:()=>new Xr}),Dw=new L("",{providedIn:"root",factory:()=>1}),iU=new L("");function Dre(t){return vi(0,[{provide:iU,useExisting:wre},{provide:ZV,useExisting:t}])}const sU=new L("ROUTER_FORROOT_GUARD"),Sre=[lI,{provide:cl,useClass:sw},tr,gl,{provide:Qa,useFactory:function tU(t){return t.routerState.root},deps:[tr]},Ew,[]];function Are(){return new NF("Router",tr)}let oU=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Sre,[],{provide:Za,multi:!0,useValue:n},{provide:sU,useFactory:Nre,deps:[[tr,new nn,new Gh]]},{provide:Rp,useValue:r||{}},r?.useHash?{provide:Js,useClass:BJ}:{provide:Js,useClass:oL},{provide:bw,useFactory:()=>{const t=V(sZ),e=V(De),n=V(Rp),r=V(Mp),i=V(cl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new eU(i,r,t,e,n)}},r?.preloadingStrategy?Dre(r.preloadingStrategy).\u0275providers:[],{provide:NF,multi:!0,useFactory:Are},r?.initialNavigation?kre(r):[],r?.bindToComponentInputs?vi(8,[kV,{provide:Dp,useExisting:kV}]).\u0275providers:[],[{provide:aU,useFactory:nU},{provide:Zv,multi:!0,useExisting:aU}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Za,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)($(sU,8))},t.\u0275mod=Rn({type:t}),t.\u0275inj=hn({}),t})();function Nre(t){return"guarded"}function kre(t){return["disabled"===t.initialNavigation?vi(3,[{provide:zv,multi:!0,useFactory:()=>{const e=V(tr);return()=>{e.setUpLocationChangeListener()}}},{provide:Dw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?vi(2,[{provide:Dw,useValue:0},{provide:zv,multi:!0,deps:[Ln],useFactory:e=>{const n=e.get(VJ,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(tr),s=e.get(rU);XV(i,()=>{r(!0)}),e.get(Mp).afterPreactivation=()=>(r(!0),s.closed?q(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const aU=new L(""),Ore=[];let Fre=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rn({type:t}),t.\u0275inj=hn({imports:[oU.forRoot(Ore),oU]}),t})();function uU(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){uU(s,r,i,o,a,"next",u)}function a(u){uU(s,r,i,o,a,"throw",u)}o(void 0)})}}const cU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Sw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new Bre;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Bre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eu=function(t){return function(t){const e=cU(t);return Sw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},El=function(t){try{return Sw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Np=()=>{try{return function Hre(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&El(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Aw=t=>{var e,n;return null===(n=null===(e=Np())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},kp=()=>{var t;return null===(t=Np())||void 0===t?void 0:t.config},Pp=t=>{var e;return null===(e=Np())||void 0===e?void 0:e[`_${t}`]};class Op{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function de(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function dU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(de())}function Fp(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function hU(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function fU(){const t=de();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function as(){try{return"object"==typeof indexedDB}catch{return!1}}function tu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function xw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class kt extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,kt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wn.prototype.create)}}class wn{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Jre(t,e){return t.replace(Xre,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new kt(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Xre=/\{\$([^}]+)}/g;function gU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function so(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(mU(s)&&mU(o)){if(!so(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mU(t){return null!==t&&"object"==typeof t}function Ii(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function bl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _U(t,e){const n=new Zre(t,e);return n.subscribe.bind(n)}class Zre{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function eie(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Mw),void 0===i.error&&(i.error=Mw),void 0===i.complete&&(i.complete=Mw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mw(){}const tie=1e3,nie=2,rie=144e5,iie=.5;function Nw(t,e=tie,n=nie){const r=e*Math.pow(n,t),i=Math.round(iie*r*(Math.random()-.5)*2);return Math.min(rie,r+i)}function qe(t){return t&&t._delegate?t._delegate:t}class We{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oo="[DEFAULT]";class oie{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Op;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function uie(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:oo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return p(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=oo){return this.instances.has(e)}getOptions(e=oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===oo?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=oo){return this.component?this.component.multipleInstances?e:oo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class yU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oie(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const kw=[];var se=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(se||{});const vU={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},cie=se.INFO,lie={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},die=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=lie[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class us{constructor(e){this.name=e,this._logLevel=cie,this._logHandler=die,this._userLogHandler=null,kw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?vU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const hie=(t,e)=>e.some(n=>t instanceof n);let IU,wU;const EU=new WeakMap,Pw=new WeakMap,TU=new WeakMap,Ow=new WeakMap,Fw=new WeakMap;let Lw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Pw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||TU.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function vie(t){return"function"==typeof t?function yie(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pie(){return wU||(wU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Vw(this),e),cs(EU.get(this))}:function(...e){return cs(t.apply(Vw(this),e))}:function(e,...n){const r=t.call(Vw(this),e,...n);return TU.set(r,e.sort?e.sort():[e]),cs(r)}}(t):(t instanceof IDBTransaction&&function mie(t){if(Pw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Pw.set(t,e)}(t),hie(t,function fie(){return IU||(IU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Lw):t)}function cs(t){if(t instanceof IDBRequest)return function gie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(cs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EU.set(n,t)}).catch(()=>{}),Fw.set(e,t),e}(t);if(Ow.has(t))return Ow.get(t);const e=vie(t);return e!==t&&(Ow.set(t,e),Fw.set(e,t)),e}const Vw=t=>Fw.get(t);function bU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=cs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(cs(o.result),u.oldVersion,u.newVersion,cs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Iie=["get","getKey","getAll","getAllKeys","count"],wie=["put","add","delete","clear"],Uw=new Map;function DU(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Uw.get(e))return Uw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Iie.includes(n))return;const s=function(){var o=p(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Uw.set(e,s),s}!function _ie(t){Lw=t(Lw)}(t=>({...t,get:(e,n,r)=>DU(e,n)||t.get(e,n,r),has:(e,n)=>!!DU(e,n)||t.has(e,n)}));class Eie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Tie(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Bw="@firebase/app",ao=new us("@firebase/app"),Vp="[DEFAULT]",Qie={[Bw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},uo=new Map,Up=new Map;function Yie(t,e){try{t.container.addComponent(e)}catch(n){ao.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nu(t){const e=t.name;if(Up.has(e))return ao.debug(`There were multiple attempts to register component ${e}.`),!1;Up.set(e,t);for(const n of uo.values())Yie(n,t);return!0}function Bp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const wi=new wn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xie{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new We("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}const ru="9.23.0";function SU(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Vp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw wi.create("bad-app-name",{appName:String(i)});if(n||(n=kp()),!n)throw wi.create("no-options");const s=uo.get(i);if(s){if(so(n,s.options)&&so(r,s.config))return s;throw wi.create("duplicate-app",{appName:i})}const o=new yU(i);for(const u of Up.values())o.addComponent(u);const a=new Xie(n,r,o);return uo.set(i,a),a}function $w(t=Vp){const e=uo.get(t);if(!e&&t===Vp&&kp())return SU();if(!e)throw wi.create("no-app",{appName:t});return e}function AU(){return Array.from(uo.values())}function Bn(t,e,n){var r;let i=null!==(r=Qie[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ao.warn(a.join(" "))}nu(new We(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Zie="firebase-heartbeat-database",ese=1,Dl="firebase-heartbeat-store";let Hw=null;function xU(){return Hw||(Hw=bU(Zie,ese,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Dl)}}).catch(t=>{throw wi.create("idb-open",{originalErrorMessage:t.message})})),Hw}function Gw(){return(Gw=p(function*(t){try{return yield(yield xU()).transaction(Dl).objectStore(Dl).get(RU(t))}catch(e){if(e instanceof kt)ao.warn(e.message);else{const n=wi.create("idb-get",{originalErrorMessage:e?.message});ao.warn(n.message)}}})).apply(this,arguments)}function MU(t,e){return zw.apply(this,arguments)}function zw(){return(zw=p(function*(t,e){try{const r=(yield xU()).transaction(Dl,"readwrite");yield r.objectStore(Dl).put(e,RU(t)),yield r.done}catch(n){if(n instanceof kt)ao.warn(n.message);else{const r=wi.create("idb-set",{originalErrorMessage:n?.message});ao.warn(r.message)}}})).apply(this,arguments)}function RU(t){return`${t.name}!${t.options.appId}`}class ise{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ose(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return p(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=NU();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return p(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=NU(),{heartbeatsToSend:r,unsentEntries:i}=function sse(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kU(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kU(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=eu(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function NU(){return(new Date).toISOString().substring(0,10)}class ose{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(function*(){return!!as()&&tu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return p(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function tse(t){return Gw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return MU(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return MU(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function kU(t){return eu(JSON.stringify({version:2,heartbeats:t})).length}!function ase(t){nu(new We("platform-logger",e=>new Eie(e),"PRIVATE")),nu(new We("heartbeat",e=>new ise(e),"PRIVATE")),Bn(Bw,"0.9.13",t),Bn(Bw,"0.9.13","esm2017"),Bn("fire-js","")}(""),Bn("firebase","9.23.0","app");class lse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function dse(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const qw="@firebase/app",co=new us("@firebase/app"),$p="[DEFAULT]",Lse={[qw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},lo=new Map,jp=new Map;function Vse(t,e){try{t.container.addComponent(e)}catch(n){co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function En(t){const e=t.name;if(jp.has(e))return co.debug(`There were multiple attempts to register component ${e}.`),!1;jp.set(e,t);for(const n of lo.values())Vse(n,t);return!0}function Cl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ei=new wn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Bse{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new We("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}const iu="10.1.0";function Tn(t,e,n){var r;let i=null!==(r=Lse[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void co.warn(a.join(" "))}En(new We(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Hse="firebase-heartbeat-database",Gse=1,Sl="firebase-heartbeat-store";let Kw=null;function OU(){return Kw||(Kw=bU(Hse,Gse,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Sl)}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),Kw}function Qw(){return(Qw=p(function*(t){try{return yield(yield OU()).transaction(Sl).objectStore(Sl).get(LU(t))}catch(e){if(e instanceof kt)co.warn(e.message);else{const n=Ei.create("idb-get",{originalErrorMessage:e?.message});co.warn(n.message)}}})).apply(this,arguments)}function FU(t,e){return Yw.apply(this,arguments)}function Yw(){return(Yw=p(function*(t,e){try{const r=(yield OU()).transaction(Sl,"readwrite");yield r.objectStore(Sl).put(e,LU(t)),yield r.done}catch(n){if(n instanceof kt)co.warn(n.message);else{const r=Ei.create("idb-set",{originalErrorMessage:n?.message});co.warn(r.message)}}})).apply(this,arguments)}function LU(t){return`${t.name}!${t.options.appId}`}class Kse{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Yse(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return p(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=VU();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return p(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=VU(),{heartbeatsToSend:r,unsentEntries:i}=function Qse(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),UU(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),UU(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=eu(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function VU(){return(new Date).toISOString().substring(0,10)}class Yse{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(function*(){return!!as()&&tu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return p(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function zse(t){return Qw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return FU(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return p(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return FU(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function UU(t){return eu(JSON.stringify({version:2,heartbeats:t})).length}!function Jse(t){En(new We("platform-logger",e=>new lse(e),"PRIVATE")),En(new We("heartbeat",e=>new Kse(e),"PRIVATE")),Tn(qw,"0.9.15",t),Tn(qw,"0.9.15","esm2017"),Tn("fire-js","")}("");const Xse=(t,e)=>e.some(n=>t instanceof n);let BU,$U;const jU=new WeakMap,Jw=new WeakMap,HU=new WeakMap,Xw=new WeakMap,Zw=new WeakMap;let eE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Jw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||HU.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function soe(t){return"function"==typeof t?function ioe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function eoe(){return $U||($U=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(tE(this),e),ls(jU.get(this))}:function(...e){return ls(t.apply(tE(this),e))}:function(e,...n){const r=t.call(tE(this),e,...n);return HU.set(r,e.sort?e.sort():[e]),ls(r)}}(t):(t instanceof IDBTransaction&&function noe(t){if(Jw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jw.set(t,e)}(t),Xse(t,function Zse(){return BU||(BU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,eE):t)}function ls(t){if(t instanceof IDBRequest)return function toe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ls(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jU.set(n,t)}).catch(()=>{}),Zw.set(e,t),e}(t);if(Xw.has(t))return Xw.get(t);const e=soe(t);return e!==t&&(Xw.set(t,e),Zw.set(e,t)),e}const tE=t=>Zw.get(t),aoe=["get","getKey","getAll","getAllKeys","count"],uoe=["put","add","delete","clear"],nE=new Map;function GU(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(nE.get(e))return nE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=uoe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!aoe.includes(n))return;const s=function(){var o=p(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return nE.set(e,s),s}!function roe(t){eE=t(eE)}(t=>({...t,get:(e,n,r)=>GU(e,n)||t.get(e,n,r),has:(e,n)=>!!GU(e,n)||t.has(e,n)}));const zU="@firebase/installations",rE="0.6.4",qU=1e4,WU=`w:${rE}`,KU="FIS_v2",coe="https://firebaseinstallations.googleapis.com/v1",loe=36e5,Ti=new wn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function QU(t){return t instanceof kt&&t.code.includes("request-failed")}function iE({projectId:t}){return`${coe}/projects/${t}/installations`}function YU(t){return{token:t.token,requestStatus:2,expiresIn:poe(t.expiresIn),creationTime:Date.now()}}function sE(t,e){return oE.apply(this,arguments)}function oE(){return(oE=p(function*(t,e){const r=(yield e.json()).error;return Ti.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function JU({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function aE(t){return uE.apply(this,arguments)}function uE(){return(uE=p(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function poe(t){return Number(t.replace("s","000"))}function cE(){return(cE=p(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=iE(t),i=JU(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:KU,appId:t.appId,sdkVersion:WU})},u=yield aE(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:YU(c.authToken)}}throw yield sE("Create Installation",u)})).apply(this,arguments)}function ZU(t){return new Promise(e=>{setTimeout(e,t)})}const yoe=/^[cdef][\w-]{21}$/,lE="";function voe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Ioe(t){return function _oe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return yoe.test(n)?n:lE}catch{return lE}}function su(t){return`${t.appName}!${t.appId}`}const ou=new Map;function eB(t,e){const n=su(t);tB(n,e),function Toe(t,e){const n=function nB(){return!ho&&"BroadcastChannel"in self&&(ho=new BroadcastChannel("[Firebase] FID Change"),ho.onmessage=t=>{tB(t.data.key,t.data.fid)}),ho}();n&&n.postMessage({key:t,fid:e}),function rB(){0===ou.size&&ho&&(ho.close(),ho=null)}()}(n,e)}function tB(t,e){const n=ou.get(t);if(n)for(const r of n)r(e)}let ho=null;const boe="firebase-installations-database",Doe=1,fo="firebase-installations-store";let dE=null;function hE(){return dE||(dE=function ooe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ls(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ls(o.result),u.oldVersion,u.newVersion,ls(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(boe,Doe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(fo)}})),dE}function Hp(t,e){return fE.apply(this,arguments)}function fE(){return(fE=p(function*(t,e){const n=su(t),i=(yield hE()).transaction(fo,"readwrite"),s=i.objectStore(fo),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&eB(t,e.fid),e})).apply(this,arguments)}function pE(t){return gE.apply(this,arguments)}function gE(){return(gE=p(function*(t){const e=su(t),r=(yield hE()).transaction(fo,"readwrite");yield r.objectStore(fo).delete(e),yield r.done})).apply(this,arguments)}function Al(t,e){return mE.apply(this,arguments)}function mE(){return(mE=p(function*(t,e){const n=su(t),i=(yield hE()).transaction(fo,"readwrite"),s=i.objectStore(fo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&eB(t,a.fid),a})).apply(this,arguments)}function _E(t){return yE.apply(this,arguments)}function yE(){return yE=p(function*(t){let e;const n=yield Al(t.appConfig,r=>{const i=function Coe(t){return sB(t||{fid:voe(),registrationStatus:0})}(r),s=function Soe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ti.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Aoe(t,e){return vE.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:xoe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===lE?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),yE.apply(this,arguments)}function vE(){return vE=p(function*(t,e){try{const n=yield function moe(t,e){return cE.apply(this,arguments)}(t,e);return Hp(t.appConfig,n)}catch(n){throw QU(n)&&409===n.customData.serverCode?yield pE(t.appConfig):yield Hp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),vE.apply(this,arguments)}function xoe(t){return IE.apply(this,arguments)}function IE(){return(IE=p(function*(t){let e=yield iB(t.appConfig);for(;1===e.registrationStatus;)yield ZU(100),e=yield iB(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield _E(t);return r||n}return e})).apply(this,arguments)}function iB(t){return Al(t,e=>{if(!e)throw Ti.create("installation-not-found");return sB(e)})}function sB(t){return function Moe(t){return 1===t.registrationStatus&&t.registrationTime+qU<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function wE(){return(wE=p(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Noe(t,{fid:e}){return`${iE(t)}/${e}/authTokens:generate`}(t,n),i=function XU(t,{refreshToken:e}){const n=JU(t);return n.append("Authorization",function goe(t){return`${KU} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:WU,appId:t.appId}})},u=yield aE(()=>fetch(r,a));if(u.ok)return YU(yield u.json());throw yield sE("Generate Auth Token",u)})).apply(this,arguments)}function EE(t){return TE.apply(this,arguments)}function TE(){return TE=p(function*(t,e=!1){let n;const r=yield Al(t.appConfig,s=>{if(!aB(s))throw Ti.create("not-registered");const o=s.authToken;if(!e&&function Ooe(t){return 2===t.requestStatus&&!function Foe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+loe}(t)}(o))return s;if(1===o.requestStatus)return n=function koe(t,e){return bE.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Ti.create("app-offline");const a=function Loe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Poe(t,e){return DE.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),TE.apply(this,arguments)}function bE(){return(bE=p(function*(t,e){let n=yield oB(t.appConfig);for(;1===n.authToken.requestStatus;)yield ZU(100),n=yield oB(t.appConfig);const r=n.authToken;return 0===r.requestStatus?EE(t,e):r})).apply(this,arguments)}function oB(t){return Al(t,e=>{if(!aB(e))throw Ti.create("not-registered");return function Voe(t){return 1===t.requestStatus&&t.requestTime+qU<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function DE(){return DE=p(function*(t,e){try{const n=yield function Roe(t,e){return wE.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Hp(t.appConfig,r),n}catch(n){if(!QU(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Hp(t.appConfig,r)}else yield pE(t.appConfig);throw n}}),DE.apply(this,arguments)}function aB(t){return void 0!==t&&2===t.registrationStatus}function CE(){return(CE=p(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield _E(e);return r?r.catch(console.error):EE(e).catch(console.error),n.fid})).apply(this,arguments)}function SE(){return SE=p(function*(t,e=!1){const n=t;return yield function $oe(t){return AE.apply(this,arguments)}(n),(yield EE(n,e)).token}),SE.apply(this,arguments)}function AE(){return(AE=p(function*(t){const{registrationPromise:e}=yield _E(t);e&&(yield e)})).apply(this,arguments)}function RE(t){return Ti.create("missing-app-config-values",{valueName:t})}const uB="installations",qoe=t=>{const e=t.getProvider("app").getImmediate(),n=function Goe(t){if(!t||!t.options)throw RE("App Configuration");if(!t.name)throw RE("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw RE(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Cl(e,"heartbeat"),_delete:()=>Promise.resolve()}},Woe=t=>{const n=Cl(t.getProvider("app").getImmediate(),uB).getImmediate();return{getId:()=>function Uoe(t){return CE.apply(this,arguments)}(n),getToken:i=>function Boe(t){return SE.apply(this,arguments)}(n,i)}};(function Koe(){En(new We(uB,qoe,"PUBLIC")),En(new We("installations-internal",Woe,"PRIVATE"))})(),Tn(zU,rE),Tn(zU,rE,"esm2017");const NE="@firebase/remote-config",bn=new wn("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class sae{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return p(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function oae(t=navigator){return t.languages&&t.languages[0]||t.language}class aae{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return p(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:oae()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((I,y)=>{e.signal.addEventListener(()=>{const b=new Error("The operation was aborted.");b.name="AbortError",y(b)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let y="fetch-client-network";throw"AbortError"===I?.name&&(y="fetch-timeout"),bn.create(y,{originalErrorMessage:I?.message})}let f=h.status;const g=h.headers.get("ETag")||void 0;let m,_;if(200===h.status){let I;try{I=yield h.json()}catch(y){throw bn.create("fetch-client-parse",{originalErrorMessage:y?.message})}m=I.entries,_=I.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(m={}),304!==f&&200!==f)throw bn.create("fetch-status",{httpStatus:f});return{status:f,eTag:g,config:m}})()}}class lae{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return p(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return p(function*(){yield function uae(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function cae(t){if(!(t instanceof kt&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Nw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class fae{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function zp(t,e){const n=t.target.error||void 0;return bn.create(e,{originalErrorMessage:n&&n?.message})}const po="app_namespace_store";class _ae{constructor(e,n,r,i=function mae(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(zp(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(po,{keyPath:"compositeKey"})}}catch(n){e(bn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return p(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([po],"readonly").objectStore(po),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(zp(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(bn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return p(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([po],"readwrite").objectStore(po),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(zp(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(bn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return p(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([po],"readwrite").objectStore(po),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(zp(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(bn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class yae{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return p(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Iae(){return LE.apply(this,arguments)}function LE(){return(LE=p(function*(){if(!as())return!1;try{return yield tu()}catch{return!1}})).apply(this,arguments)}!function vae(){En(new We("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw bn.create("registration-window");if(!as())throw bn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw bn.create("registration-project-id");if(!o)throw bn.create("registration-api-key");if(!a)throw bn.create("registration-app-id");const u=new _ae(a,r.name,n=n||"firebase"),c=new yae(u),l=new us(NE);l.logLevel=se.ERROR;const d=new aae(i,iu,n,s,o,a),h=new lae(d,u),f=new sae(h,u,c,l),g=new fae(r,f,c,u,l);return function nae(t){const e=qe(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(g),g},"PUBLIC").setMultipleInstances(!0)),Tn(NE,"0.4.4"),Tn(NE,"0.4.4","esm2017")}();const wae=(t,e)=>e.some(n=>t instanceof n);let hB,fB;const pB=new WeakMap,VE=new WeakMap,gB=new WeakMap,UE=new WeakMap,BE=new WeakMap;let $E={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return VE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||gB.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Aae(t){return"function"==typeof t?function Sae(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Tae(){return fB||(fB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(jE(this),e),bi(pB.get(this))}:function(...e){return bi(t.apply(jE(this),e))}:function(e,...n){const r=t.call(jE(this),e,...n);return gB.set(r,e.sort?e.sort():[e]),bi(r)}}(t):(t instanceof IDBTransaction&&function Dae(t){if(VE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});VE.set(t,e)}(t),wae(t,function Eae(){return hB||(hB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,$E):t)}function bi(t){if(t instanceof IDBRequest)return function bae(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(bi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pB.set(n,t)}).catch(()=>{}),BE.set(e,t),e}(t);if(UE.has(t))return UE.get(t);const e=Aae(t);return e!==t&&(UE.set(t,e),BE.set(e,t)),e}const jE=t=>BE.get(t);function mB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=bi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(bi(o.result),u.oldVersion,u.newVersion,bi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function HE(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),bi(n).then(()=>{})}const xae=["get","getKey","getAll","getAllKeys","count"],Mae=["put","add","delete","clear"],GE=new Map;function _B(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(GE.get(e))return GE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Mae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!xae.includes(n))return;const s=function(){var o=p(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return GE.set(e,s),s}!function Cae(t){$E=t($E)}(t=>({...t,get:(e,n,r)=>_B(e,n)||t.get(e,n,r),has:(e,n)=>!!_B(e,n)||t.has(e,n)}));const Rae="/firebase-messaging-sw.js",Nae="/firebase-cloud-messaging-push-scope",yB="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",kae="https://fcmregistrations.googleapis.com/v1",vB="google.c.a.c_id",Pae="google.c.a.c_l",Oae="google.c.a.ts";var qp=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(qp||{});function Di(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vae(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const zE="fcm_token_details_db",Uae=5,IB="fcm_token_object_Store";function qE(){return qE=p(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(zE))return null;let e=null;return(yield mB(zE,Uae,{upgrade:(r=p(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(IB))return;const c=a.objectStore(IB),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Di(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Di(d.auth),p256dh:Di(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Di(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Di(d.auth),p256dh:Di(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Di(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield HE(zE),yield HE("fcm_vapid_details_db"),yield HE("undefined"),function $ae(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),qE.apply(this,arguments)}const jae="firebase-messaging-database",Hae=1,go="firebase-messaging-store";let WE=null;function KE(){return WE||(WE=mB(jae,Hae,{upgrade:(t,e)=>{0===e&&t.createObjectStore(go)}})),WE}function wB(t){return QE.apply(this,arguments)}function QE(){return QE=p(function*(t){const e=ZE(t),r=yield(yield KE()).transaction(go).objectStore(go).get(e);if(r)return r;{const i=yield function Bae(t){return qE.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield YE(t,i),i}}),QE.apply(this,arguments)}function YE(t,e){return JE.apply(this,arguments)}function JE(){return(JE=p(function*(t,e){const n=ZE(t),i=(yield KE()).transaction(go,"readwrite");return yield i.objectStore(go).put(e,n),yield i.done,e})).apply(this,arguments)}function XE(){return(XE=p(function*(t){const e=ZE(t),r=(yield KE()).transaction(go,"readwrite");yield r.objectStore(go).delete(e),yield r.done})).apply(this,arguments)}function ZE({appConfig:t}){return t.appId}const Pt=new wn("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function qae(t,e){return eT.apply(this,arguments)}function eT(){return(eT=p(function*(t,e){const n=yield iT(t),r=TB(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(rT(t.appConfig),i)).json()}catch(o){throw Pt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Pt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Pt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function tT(){return(tT=p(function*(t,e){const n=yield iT(t),r=TB(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${rT(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Pt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Pt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Pt.create("token-update-no-token");return s.token})).apply(this,arguments)}function EB(t,e){return nT.apply(this,arguments)}function nT(){return(nT=p(function*(t,e){const r={method:"DELETE",headers:yield iT(t)};try{const s=yield(yield fetch(`${rT(t.appConfig)}/${e}`,r)).json();if(s.error)throw Pt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Pt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function rT({projectId:t}){return`${kae}/projects/${t}/registrations`}function iT(t){return sT.apply(this,arguments)}function sT(){return(sT=p(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function TB({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==yB&&(i.web.applicationPubKey=r),i}const Kae=6048e5;function oT(){return oT=p(function*(t){const e=yield function Jae(t,e){return lT.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Di(e.getKey("auth")),p256dh:Di(e.getKey("p256dh"))},r=yield wB(t.firebaseDependencies);if(r){if(function Xae(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Kae?function Yae(t,e){return uT.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield EB(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return DB(t.firebaseDependencies,n)}return DB(t.firebaseDependencies,n)}),oT.apply(this,arguments)}function aT(){return aT=p(function*(t){const e=yield wB(t.firebaseDependencies);e&&(yield EB(t.firebaseDependencies,e.token),yield function Gae(t){return XE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),aT.apply(this,arguments)}function uT(){return uT=p(function*(t,e){try{const n=yield function Wae(t,e){return tT.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield YE(t.firebaseDependencies,r),n}catch(n){throw yield function bB(t){return aT.apply(this,arguments)}(t),n}}),uT.apply(this,arguments)}function DB(t,e){return cT.apply(this,arguments)}function cT(){return(cT=p(function*(t,e){const r={token:yield qae(t,e),createTime:Date.now(),subscriptionOptions:e};return yield YE(t,r),r.token})).apply(this,arguments)}function lT(){return(lT=p(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Vae(e)})})).apply(this,arguments)}function CB(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Zae(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function eue(t,e){e.data&&(t.data=e.data)}(e,t),function tue(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function SB(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function dT(t){return Pt.create("missing-app-config-values",{valueName:t})}SB("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),SB("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class iue{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function rue(t){if(!t||!t.options)throw dT("App Configuration Object");if(!t.name)throw dT("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw dT(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function hT(){return(hT=p(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Rae,{scope:Nae}),t.swRegistration.update().catch(()=>{})}catch(e){throw Pt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function fT(){return(fT=p(function*(t,e){if(!e&&!t.swRegistration&&(yield function AB(t){return hT.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Pt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function pT(){return(pT=p(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=yB)})).apply(this,arguments)}function gT(){return gT=p(function*(t,e){if(!navigator)throw Pt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Pt.create("permission-blocked");return yield function oue(t,e){return pT.apply(this,arguments)}(t,e?.vapidKey),yield function sue(t,e){return fT.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Qae(t){return oT.apply(this,arguments)}(t)}),gT.apply(this,arguments)}function mT(){return(mT=p(function*(t,e,n){const r=function uue(t){switch(t){case qp.NOTIFICATION_CLICKED:return"notification_open";case qp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[vB],message_name:n[Pae],message_time:n[Oae],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _T(){return _T=p(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===qp.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(CB(n)):t.onMessageHandler.next(CB(n)));const r=n.data;(function nue(t){return"object"==typeof t&&!!t&&vB in t})(r)&&"1"===r["google.c.a.e"]&&(yield function aue(t,e,n){return mT.apply(this,arguments)}(t,n.messageType,r))}),_T.apply(this,arguments)}const MB="@firebase/messaging",lue=t=>{const e=new iue(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function cue(t,e){return _T.apply(this,arguments)}(e,n)),e},due=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function xB(t,e){return gT.apply(this,arguments)}(e,r)}};function NB(){return yT.apply(this,arguments)}function yT(){return(yT=p(function*(){try{yield tu()}catch{return!1}return typeof window<"u"&&as()&&xw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function hue(){En(new We("messaging",lue,"PUBLIC")),En(new We("messaging-internal",due,"PRIVATE")),Tn(MB,"0.12.4"),Tn(MB,"0.12.4","esm2017")}();const Wp="analytics",gue="firebase_id",mue="origin",_ue=6e4,yue="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wT="https://www.googletagmanager.com/gtag/js",Et=new us("@firebase/analytics"),cn=new wn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Iue(t){if(!t.startsWith(wT)){const e=cn.create("invalid-gtag-resource",{gtagURL:t});return Et.warn(e.message),""}return t}function kB(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function ET(){return(ET=p(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield kB(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Et.error(a)}t("config",i,s)})).apply(this,arguments)}function TT(){return(TT=p(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield kB(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Et.error(s)}})).apply(this,arguments)}const xue=30,PB=new class Rue{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Nue(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function bT(){return(bT=p(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Nue(r)},s=yue.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw cn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function DT(){return(DT=p(function*(t,e=PB,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw cn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw cn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Lue;return setTimeout(p(function*(){a.abort()}),void 0!==n?n:_ue),OB({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function OB(t,e,n){return CT.apply(this,arguments)}function CT(){return CT=p(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=PB){var s;const{appId:o,measurementId:a}=t;try{yield function Oue(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Et.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function kue(t){return bT.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Fue(t){if(!(t instanceof kt&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Et.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Nw(n,i.intervalMillis,xue):Nw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Et.debug(`Calling attemptFetch again in ${l} millis`),OB(t,d,r,i)}}),CT.apply(this,arguments)}class Lue{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let ST,PT;function AT(){return(AT=p(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function OT(){return(OT=p(function*(){if(!as())return Et.warn(cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield tu()}catch(t){return Et.warn(cn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function FT(){return FT=p(function*(t,e,n,r,i,s,o){var a;const u=function Pue(t){return DT.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Et.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Et.error(f)),e.push(u);const c=function Gue(){return OT.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Aue(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(wT)&&n.src.includes(t))return n;return null})(s)||function Eue(t,e){const n=function wue(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Iue}),r=document.createElement("script"),i=`${wT}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),PT&&(i("consent","default",PT),function FB(t){PT=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[mue]="firebase",h.update=!0,null!=d&&(h[gue]=d),i("config",l.measurementId,h),ST&&(i("set",ST),function LB(t){ST=t}(void 0)),l.measurementId}),FT.apply(this,arguments)}class que{constructor(e){this.app=e}_delete(){return delete Ur[this.app.options.appId],Promise.resolve()}}let Ur={},VB=[];const UB={};let $B,Br,Kp="dataLayer",LT=!1;function Kue(t,e,n){!function Wue(){const t=[];if(Fp()&&t.push("This is a browser extension environment."),xw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=cn.create("invalid-analytics-context",{errorInfo:e});Et.warn(n.message)}}();const r=t.options.appId;if(!r)throw cn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw cn.create("no-api-key");Et.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ur[r])throw cn.create("already-exists",{id:r});if(!LT){!function Tue(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Kp);const{wrappedGtag:s,gtagCore:o}=function Sue(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Cue(t,e,n,r){function s(){return s=p(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function Due(t,e,n,r,i){return TT.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function bue(t,e,n,r,i,s){return ET.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Et.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Ur,VB,UB,Kp,"gtag");Br=s,$B=o,LT=!0}return Ur[r]=function zue(t,e,n,r,i,s,o){return FT.apply(this,arguments)}(t,VB,UB,e,$B,Kp,n),new que(t)}function Yue(){return VT.apply(this,arguments)}function VT(){return(VT=p(function*(){if(Fp()||!xw()||!as())return!1;try{return yield tu()}catch{return!1}})).apply(this,arguments)}const jB="@firebase/analytics";!function Xue(){En(new We(Wp,(e,{options:n})=>Kue(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),En(new We("analytics-internal",function t(e){try{const n=e.getProvider(Wp).getImmediate();return{logEvent:(r,i,s)=>function Jue(t,e,n,r){t=qe(t),function Vue(t,e,n,r,i){return AT.apply(this,arguments)}(Br,Ur[t.app.options.appId],e,n,r).catch(i=>Et.error(i))}(n,r,i,s)}}catch(n){throw cn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Tn(jB,"0.10.0"),Tn(jB,"0.10.0","esm2017")}();class Zue extends xn{constructor(e,n){super()}schedule(e,n=0){return this}}const Qp={setInterval(t,e,...n){const{delegate:r}=Qp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Qp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class GB extends Zue{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Qp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Qp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Wo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const zB={now:()=>(zB.delegate||Date).now(),delegate:void 0};class xl{constructor(e,n=xl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}xl.now=zB.now;class qB extends xl{constructor(e,n=xl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const nce=new class tce extends qB{}(class ece extends GB{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),rce=new qB(GB),Yp=new wa("7.6.0"),BT="__angularfire_symbol__analyticsIsSupportedValue",$T="__angularfire_symbol__analyticsIsSupported",jT="__angularfire_symbol__remoteConfigIsSupportedValue",HT="__angularfire_symbol__remoteConfigIsSupported",GT="__angularfire_symbol__messagingIsSupportedValue",zT="__angularfire_symbol__messagingIsSupported";function WT(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[$T]||(globalThis[$T]=Yue().then(t=>globalThis[BT]=t).catch(()=>globalThis[BT]=!1)),globalThis[zT]||(globalThis[zT]=NB().then(t=>globalThis[GT]=t).catch(()=>globalThis[GT]=!1)),globalThis[HT]||(globalThis[HT]=Iae().then(t=>globalThis[jT]=t).catch(()=>globalThis[jT]=!1));const KT=(t,e)=>{const n=e?[e]:AU(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function au(){}class WB{constructor(e,n=nce){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class ice{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",au,{},au,au)),n.pipe(Kt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let QT=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new WB(Zone.current)),this.insideAngular=n.run(()=>new WB(Zone.current,rce)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(De))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function mo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function _o(t){return mo().ngZone.run(()=>t())}function oce(t){return mo(),function ace(t){return function(n){return(n=n.lift(new ice(t.ngZone))).pipe(fh(t.outsideAngular),hh(t.insideAngular))}}(mo())(t)}const uce=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),_o(()=>t.apply(void 0,r))},nr=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=_o(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",au,{},au,au)))),r[s]=uce(r[s],n));const i=function sce(t){return mo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ue){const s=mo();return i.pipe(fh(s.outsideAngular),hh(s.insideAngular))}return _o(()=>i)}return i instanceof Ue?i.pipe(oce):i instanceof Promise?_o(()=>new Promise((s,o)=>i.then(a=>_o(()=>s(a)),a=>_o(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:_o(()=>i)};class uu{constructor(e){return e}}class YT{constructor(){return AU()}}const JT=new L("angularfire2._apps"),lce={provide:uu,useFactory:function cce(t){return t&&1===t.length?t[0]:new uu($w())},deps:[[new nn,JT]]},dce={provide:YT,deps:[[new nn,JT]]};function hce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new uu(r)}}let fce=(()=>{class t{constructor(n){Bn("angularfire",Yp.full,"core"),Bn("angularfire",Yp.full,"app"),Bn("angular",Kk.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($(Ji))},t.\u0275mod=Rn({type:t}),t.\u0275inj=hn({providers:[lce,dce]}),t})();function pce(t,...e){return{ngModule:fce,providers:[{provide:JT,useFactory:hce(t),multi:!0,deps:[De,Ln,QT,...e]}]}}const gce=nr(SU,!0),XT=new Map,KB={activated:!1,tokenObservers:[]},mce={initialized:!1,enabled:!1};function Ke(t){return XT.get(t)||Object.assign({},KB)}function Jp(){return mce}const ZT="https://content-firebaseappcheck.googleapis.com/v1",Ice="exchangeDebugToken",QB={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ece{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return p(function*(){n.stop();try{n.pending=new Op,yield function Tce(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Op,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Ot=new wn("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function eb(t){if(!Ke(t).activated)throw Ot.create("use-before-activation",{appName:t.name})}function eg(t,e){return nb.apply(this,arguments)}function nb(){return(nb=p(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Ot.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Ot.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Ot.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ot.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function YB(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${ZT}/projects/${n}/apps/${r}:${Ice}?key=${i}`,body:{debug_token:e}}}const Sce="firebase-app-check-database",Ace=1,Ml="firebase-app-check-store";let tg=null;function rb(){return(rb=p(function*(t,e){const r=(yield function XB(){return tg||(tg=new Promise((t,e)=>{try{const n=indexedDB.open(Sce,Ace);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ot.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ml,{keyPath:"compositeKey"})}}catch(n){e(Ot.create("storage-open",{originalErrorMessage:n?.message}))}}),tg)}()).transaction(Ml,"readwrite"),s=r.objectStore(Ml).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Ot.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Rl=new us("@firebase/app-check");function ob(t,e){return as()?function Mce(t,e){return function ZB(t,e){return rb.apply(this,arguments)}(function t$(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Rl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function ub(){return Jp().enabled}function cb(){return lb.apply(this,arguments)}function lb(){return(lb=p(function*(){const t=Jp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Fce={error:"UNKNOWN_ERROR"};function Lce(t){return Sw.encodeString(JSON.stringify(t),!1)}function ng(t){return db.apply(this,arguments)}function db(){return(db=p(function*(t,e=!1){const n=t.app;eb(n);const r=Ke(n);let s,i=r.token;if(i&&!cu(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(cu(u)?i=u:yield ob(n,void 0))}if(!e&&i&&cu(i))return{token:i.token};let a,o=!1;if(ub()){r.exchangeTokenPromise||(r.exchangeTokenPromise=eg(YB(n,yield cb()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield ob(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Ke(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Rl.warn(u.message):Rl.error(u),s=u}return i?s?a=cu(i)?{token:i.token,internalError:s}:s$(s):(a={token:i.token},r.token=i,yield ob(n,i)):a=s$(s),o&&function i$(t,e){const n=Ke(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function n$(t){return hb.apply(this,arguments)}function hb(){return(hb=p(function*(t){const e=t.app;eb(e);const{provider:n}=Ke(e);if(ub()){const r=yield cb(),{token:i}=yield eg(YB(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function pb(t,e){const n=Ke(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function r$(t){const{app:e}=t,n=Ke(e);let r=n.tokenRefresher;r||(r=function Vce(t){const{app:e}=t;return new Ece(p(function*(){let r;if(r=Ke(e).token?yield ng(t,!0):yield ng(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ke(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},QB.RETRIAL_MIN_WAIT,QB.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function cu(t){return t.expireTimeMillis-Date.now()>0}function s$(t){return{token:Lce(Fce),error:t}}class Uce{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ke(this.app);for(const n of e)pb(this.app,n.next);return Promise.resolve()}}const f$="app-check-internal";!function Zce(){En(new We("app-check",t=>function Bce(t,e){return new Uce(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(f$).initialize()})),En(new We(f$,t=>function $ce(t){return{getToken:e=>ng(t,e),getLimitedUseToken:()=>n$(t),addTokenListener:e=>function fb(t,e,n,r){const{app:i}=t,s=Ke(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&cu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),r$(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>r$(t))}(t,"INTERNAL",e),removeTokenListener:e=>pb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Tn("@firebase/app-check","0.8.0")}();class yb{constructor(){return KT("app-check")}}function wb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}typeof window<"u"&&window;const ole=function y$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},v$=new wn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),sg=new us("@firebase/auth");function og(t,...e){sg.logLevel<=se.ERROR&&sg.error(`Auth (${ru}): ${t}`,...e)}function Dn(t,...e){throw Eb(t,...e)}function $n(t,...e){return Eb(t,...e)}function I$(t,e,n){const r=Object.assign(Object.assign({},ole()),{[e]:n});return new wn("auth","Firebase",r).create(e,{appName:t.name})}function Eb(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return v$.create(t,...e)}function A(t,e,...n){if(!t)throw Eb(e,...n)}function $r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw og(e),new Error(e)}function Ci(t,e){t||$r(e)}function Nl(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function w$(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class kl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=dU()||hU()}get(){return function ule(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Tb(){return"http:"===w$()||"https:"===w$()}()||Fp()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bb(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class E${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lle={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},dle=new kl(3e4,6e4);function je(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Qe(t,e,n,r){return Db.apply(this,arguments)}function Db(){return(Db=p(function*(t,e,n,r,i={}){return T$(t,i,p(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Ii(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),E$.fetch()(b$(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function T$(t,e,n){return Cb.apply(this,arguments)}function Cb(){return(Cb=p(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lle),e);try{const i=new hle(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Pl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Pl(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Pl(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Pl(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw I$(t,l,c);Dn(t,l)}}catch(i){if(i instanceof kt)throw i;Dn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Si(t,e,n,r){return Sb.apply(this,arguments)}function Sb(){return(Sb=p(function*(t,e,n,r,i={}){const s=yield Qe(t,e,n,r,i);return"mfaPendingCredential"in s&&Dn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function b$(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?bb(t.config,i):`${t.config.apiScheme}://${i}`}class hle{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($n(this.auth,"network-request-failed")),dle.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=$n(t,e,r);return i.customData._tokenResponse=n,i}function Ab(){return(Ab=p(function*(t,e){return Qe(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Mb(){return(Mb=p(function*(t,e){return Qe(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ol(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Rb(){return(Rb=p(function*(t,e=!1){const n=qe(t),r=yield n.getIdToken(e),i=ag(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ol(Nb(i.auth_time)),issuedAtTime:Ol(Nb(i.iat)),expirationTime:Ol(Nb(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Nb(t){return 1e3*Number(t)}function ag(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return og("JWT malformed, contained fewer than 3 sections"),null;try{const i=El(n);return i?JSON.parse(i):(og("Failed to decode base64 JWT payload"),null)}catch(i){return og("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ai(t,e){return kb.apply(this,arguments)}function kb(){return(kb=p(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof kt&&function yle({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class vle{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(p(function*(){yield n.iteration()}),r)}iteration(){var e=this;return p(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class D${constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fl(t){return Pb.apply(this,arguments)}function Pb(){return Pb=p(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ai(t,function gle(t,e){return Mb.apply(this,arguments)}(n,{idToken:r}));A(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Ele(t){return t.map(e=>{var{providerId:n}=e,r=wb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function wle(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new D$(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),Pb.apply(this,arguments)}function Ob(){return(Ob=p(function*(t){const e=qe(t);yield Fl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Fb(){return(Fb=p(function*(t,e){const n=yield T$(t,{},p(function*(){const r=Ii({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=b$(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",E$.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function _le(t){const e=ag(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return p(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return p(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Tle(t,e){return Fb.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ll;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return $r("not implemented")}}function ds(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class yo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=wb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vle(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new D$(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return p(function*(){const r=yield Ai(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function mle(t){return Rb.apply(this,arguments)}(this,e)}reload(){return function Ile(t){return Ob.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return p(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Fl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return p(function*(){const n=yield e.getIdToken();return yield Ai(e,function fle(t,e){return Ab.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,g=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:b,emailVerified:k,isAnonymous:O,providerData:H,stsTokenManager:Fe}=n;A(b&&Fe,e,"internal-error");const zn=Ll.fromJSON(this.name,Fe);A("string"==typeof b,e,"internal-error"),ds(d,e.name),ds(h,e.name),A("boolean"==typeof k,e,"internal-error"),A("boolean"==typeof O,e,"internal-error"),ds(f,e.name),ds(g,e.name),ds(m,e.name),ds(_,e.name),ds(I,e.name),ds(y,e.name);const or=new yo({uid:b,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:O,photoURL:g,phoneNumber:f,tenantId:m,stsTokenManager:zn,createdAt:I,lastLoginAt:y});return H&&Array.isArray(H)&&(or.providerData=H.map(BM=>Object.assign({},BM))),_&&(or._redirectEventId=_),or}static _fromIdTokenResponse(e,n,r=!1){return p(function*(){const i=new Ll;i.updateFromServerResponse(n);const s=new yo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Fl(s),s})()}}const C$=new Map;function xi(t){Ci(t instanceof Function,"Expected a class definition");let e=C$.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,C$.set(t,e),e)}const S$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(function*(){return!0})()}_set(n,r){var i=this;return p(function*(){i.storage[n]=r})()}_get(n){var r=this;return p(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return p(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function ug(t,e,n){return`firebase:${t}:${e}:${n}`}class du{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ug(this.userKey,i.apiKey,s),this.fullPersistenceKey=ug("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return p(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?yo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return p(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(function*(){if(!n.length)return new du(xi(S$),e,r);const i=(yield Promise.all(n.map(function(){var c=p(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||xi(S$);const o=ug(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=yo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=p(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new du(s,e,r)):new du(s,e,r)})()}}function A$(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k$(e))return"Blackberry";if(P$(e))return"Webos";if(Lb(e))return"Safari";if((e.includes("chrome/")||M$(e))&&!e.includes("edge/"))return"Chrome";if(N$(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function x$(t=de()){return/firefox\//i.test(t)}function Lb(t=de()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function M$(t=de()){return/crios\//i.test(t)}function R$(t=de()){return/iemobile/i.test(t)}function N$(t=de()){return/android/i.test(t)}function k$(t=de()){return/blackberry/i.test(t)}function P$(t=de()){return/webos/i.test(t)}function cg(t=de()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function O$(t=de()){return cg(t)||N$(t)||P$(t)||k$(t)||/windows phone/i.test(t)||R$(t)}function F$(t,e=[]){let n;switch(t){case"Browser":n=A$(de());break;case"Worker":n=`${A$(de())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ru}/${r}`}function L$(t,e){return Ub.apply(this,arguments)}function Ub(){return(Ub=p(function*(t,e){return Qe(t,"GET","/v2/recaptchaConfig",je(t,e))})).apply(this,arguments)}function U$(t){return void 0!==t&&void 0!==t.enterprise}class B${constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function Bb(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=$n("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Ale(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function $$(t){return`__${t}${Math.floor(1e6*Math.random())}`}class j${constructor(e){this.type="recaptcha-enterprise",this.auth=Tt(e)}verify(e="verify",n=!1){var r=this;return p(function*(){function s(){return s=p(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=p(function*(c,l){L$(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new B$(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;U$(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&U$(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));Bb("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}function hs(t,e,n){return $b.apply(this,arguments)}function $b(){return($b=p(function*(t,e,n,r=!1){const i=new j$(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class Nle{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return p(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class kle{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H$(this),this.idTokenSubscription=new H$(this),this.beforeStateQueue=new Nle(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=xi(n)),this._initializationPromise=this.queue(p(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield du.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return p(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return p(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return p(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return p(function*(){try{yield Fl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function cle(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return p(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return p(function*(){const r=e?qe(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return p(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(p(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return p(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(p(function*(){yield n.assertedPersistence.setPersistence(xi(e))}))}initializeRecaptchaConfig(){var e=this;return p(function*(){const n=yield L$(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new B$(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new j$(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return p(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return p(function*(){if(!n.redirectPersistenceManager){const r=e&&xi(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield du.create(n,[xi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return p(function*(){var r,i;return n._isInitialized&&(yield n.queue(p(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return p(function*(){if(e===n.currentUser)return n.queue(p(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return p(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return p(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return p(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function ale(t,...e){sg.logLevel<=se.WARN&&sg.warn(`Auth (${ru}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Tt(t){return qe(t)}class H${constructor(e){this.auth=e,this.observer=null,this.addObserver=_U(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function G$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function z$(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class jb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}function W$(t,e){return Gb.apply(this,arguments)}function Gb(){return(Gb=p(function*(t,e){return Qe(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function qb(t,e){return Wb.apply(this,arguments)}function Wb(){return(Wb=p(function*(t,e){return Si(t,"POST","/v1/accounts:signInWithPassword",je(t,e))})).apply(this,arguments)}function tD(){return(tD=p(function*(t,e){return Si(t,"POST","/v1/accounts:signInWithEmailLink",je(t,e))})).apply(this,arguments)}function nD(){return(nD=p(function*(t,e){return Si(t,"POST","/v1/accounts:signInWithEmailLink",je(t,e))})).apply(this,arguments)}class Vl extends jb{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Vl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return p(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield hs(e,i,"signInWithPassword");return qb(e,s)}return qb(e,i).catch(function(){var s=p(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield hs(e,i,"signInWithPassword");return qb(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function jle(t,e){return tD.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Dn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return p(function*(){switch(r.signInMethod){case"password":return W$(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Hle(t,e){return nD.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Dn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Mi(t,e){return rD.apply(this,arguments)}function rD(){return(rD=p(function*(t,e){return Si(t,"POST","/v1/accounts:signInWithIdp",je(t,e))})).apply(this,arguments)}class vo extends jb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=wb(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new vo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Mi(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Mi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mi(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ii(n)}return e}}class Bl{constructor(e){var n,r,i,s,o,a;const u=Tl(bl(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function Yle(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);A(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Jle(t){const e=Tl(bl(t)).link,n=e?Tl(bl(e)).deep_link_id:null,r=Tl(bl(t)).deep_link_id;return(r?Tl(bl(r)).link:null)||r||n||e||t}(e);try{return new Bl(n)}catch{return null}}}let K$=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Vl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Bl.parseLink(r);return A(i,"argument-error"),Vl._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class fs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uD extends fs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Xle=(()=>{class t extends uD{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return vo._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})(),Zle=(()=>{class t extends uD{constructor(){super("github.com")}static credential(n){return vo._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}return t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com",t})();function hg(t,e){return lD.apply(this,arguments)}function lD(){return(lD=p(function*(t,e){return Si(t,"POST","/v1/accounts:signUp",je(t,e))})).apply(this,arguments)}class rr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(function*(){const s=yield yo._fromIdTokenResponse(e,r,i),o=Q$(r);return new rr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return p(function*(){yield e._updateTokensIfNecessary(r,!0);const i=Q$(r);return new rr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function Q$(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class fg extends kt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fg.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fg(e,n,r,i)}}function Y$(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?fg._fromErrorAndOperation(t,s,e,r):s})}function pD(){return(pD=p(function*(t,e,n=!1){const r=yield Ai(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return rr._forOperation(t,"link",r)})).apply(this,arguments)}function mD(){return(mD=p(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Ai(t,Y$(r,i,e,t),n);A(s.idToken,r,"internal-error");const o=ag(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(t.uid===a,r,"user-mismatch"),rr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Dn(r,"user-mismatch"),s}})).apply(this,arguments)}function Z$(t,e){return _D.apply(this,arguments)}function _D(){return(_D=p(function*(t,e,n=!1){const r="signIn",i=yield Y$(t,r,e),s=yield rr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function vD(){return(vD=p(function*(t,e){return Z$(Tt(t),e)})).apply(this,arguments)}function ode(t,e,n){return ND.apply(this,arguments)}function ND(){return ND=p(function*(t,e,n){var r;const i=Tt(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const c=yield hs(i,s,"signUpPassword");o=hg(i,c)}else o=hg(i,s).catch(function(){var c=p(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield hs(i,s,"signUpPassword");return hg(i,d)}return Promise.reject(l)});return function(l){return c.apply(this,arguments)}}());const a=yield o.catch(c=>Promise.reject(c)),u=yield rr._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(u.user),u}),ND.apply(this,arguments)}function ade(t,e,n){return function yD(t,e){return vD.apply(this,arguments)}(qe(t),K$.credential(e,n))}const gg="__sak";class t4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gg,"1"),this.storage.removeItem(gg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bde=(()=>{class t extends t4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wde(){const t=de();return Lb(t)||cg(t)}()&&function Cle(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=O$(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Dle(){return fU()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return p(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return p(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return p(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),n4=(()=>{class t extends t4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Cde=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return p(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=p(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function Dde(t){return Promise.all(t.map(function(){var e=p(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function mg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Sde{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return p(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=mg("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ut(){return window}function WD(){return typeof ut().WorkerGlobalScope<"u"&&"function"==typeof ut().importScripts}function KD(){return(KD=p(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const r4="firebaseLocalStorageDb",_g="firebaseLocalStorage",i4="fbase_key";class jl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yg(t,e){return t.transaction([_g],e?"readwrite":"readonly").objectStore(_g)}function QD(){const t=indexedDB.open(r4,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_g,{keyPath:i4})}catch(i){n(i)}}),t.addEventListener("success",p(function*(){const r=t.result;r.objectStoreNames.contains(_g)?e(r):(r.close(),yield function kde(){const t=indexedDB.deleteDatabase(r4);return new jl(t).toPromise()}(),e(yield QD()))}))})}function s4(t,e,n){return YD.apply(this,arguments)}function YD(){return(YD=p(function*(t,e,n){const r=yg(t,!0).put({[i4]:e,value:n});return new jl(r).toPromise()})).apply(this,arguments)}function JD(){return(JD=p(function*(t,e){const n=yg(t,!1).get(e),r=yield new jl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function o4(t,e){const n=yg(t,!0).delete(e);return new jl(n).toPromise()}const Lde=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return p(function*(){return n.db||(n.db=yield QD()),n.db})()}_withRetries(n){var r=this;return p(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return p(function*(){return WD()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return p(function*(){n.receiver=Cde._getInstance(function Rde(){return WD()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=p(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=p(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return p(function*(){var r,i;if(n.activeServiceWorker=yield function xde(){return KD.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Sde(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return p(function*(){if(r.sender&&r.activeServiceWorker&&function Mde(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return p(function*(){try{if(!indexedDB)return!1;const n=yield QD();return yield s4(n,gg,"1"),yield o4(n,gg),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return p(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return p(function*(){return i._withPendingWrite(p(function*(){return yield i._withRetries(s=>s4(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return p(function*(){const i=yield r._withRetries(s=>function Pde(t,e){return JD.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return p(function*(){return r._withPendingWrite(p(function*(){return yield r._withRetries(i=>o4(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return p(function*(){const r=yield n._withRetries(o=>{const a=yg(o,!1).getAll();return new jl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(p(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function wo(t,e){return e?xi(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}$$("rcb"),new kl(3e4,6e4);class oC extends jb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Zde(t){return Z$(t.auth,new oC(t),t.bypassAuthState)}function ehe(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function X$(t,e){return mD.apply(this,arguments)}(n,new oC(t),t.bypassAuthState)}function the(t){return aC.apply(this,arguments)}function aC(){return(aC=p(function*(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function fD(t,e){return pD.apply(this,arguments)}(n,new oC(t),t.bypassAuthState)})).apply(this,arguments)}class u4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=p(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return p(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zde;case"linkViaPopup":case"linkViaRedirect":return the;case"reauthViaPopup":case"reauthViaRedirect":return ehe;default:Dn(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nhe=new kl(2e3,1e4);function rhe(t,e,n){return uC.apply(this,arguments)}function uC(){return(uC=p(function*(t,e,n){const r=Tt(t);!function lu(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Dn(t,"argument-error"),I$(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,fs);const i=wo(r,n);return new dC(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let dC=(()=>{class t extends u4{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return p(function*(){const r=yield n.execute();return A(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return p(function*(){Ci(1===n.filter.length,"Popup operations only handle one event");const r=mg();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject($n(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,nhe.get())};n()}}return t.currentPopupAction=null,t})();const ihe="pendingRedirect",Hl=new Map;class she extends u4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return p(function*(){let r=Hl.get(n.auth._key());if(!r){try{const s=(yield function ohe(t,e){return hC.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Hl.set(n.auth._key(),r)}return n.bypassAuthState||Hl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return p(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return p(function*(){})()}cleanUp(){}}function hC(){return(hC=p(function*(t,e){const n=function l4(t){return ug(ihe,t.config.apiKey,t.name)}(e),r=function c4(t){return xi(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function ahe(t,e){Hl.set(t._key(),e)}function d4(t,e){return vC.apply(this,arguments)}function vC(){return(vC=p(function*(t,e,n=!1){const r=Tt(t),i=wo(r,e),o=yield new she(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class hhe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function fhe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p4(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!p4(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError($n(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(f4(e))}saveEventToCache(e){this.cachedEventUids.add(f4(e)),this.lastProcessedEventTime=Date.now()}}function f4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function p4({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function wC(){return(wC=p(function*(t,e={}){return Qe(t,"GET","/v1/projects",e)})).apply(this,arguments)}const ghe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mhe=/^https?/;function EC(){return EC=p(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function phe(t){return wC.apply(this,arguments)}(t);for(const n of e)try{if(yhe(n))return}catch{}Dn(t,"unauthorized-domain")}),EC.apply(this,arguments)}function yhe(t){const e=Nl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!mhe.test(n))return!1;if(ghe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const vhe=new kl(3e4,6e4);function g4(){const t=ut().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Ig=null;const Ehe=new kl(5e3,15e3),The="__/auth/iframe",bhe="emulator/auth/iframe",Dhe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Che=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function She(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bb(e,bhe):`https://${t.config.authDomain}/${The}`,r={apiKey:e.apiKey,appName:t.name,v:ru},i=Che.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ii(r).slice(1)}`}function TC(){return TC=p(function*(t){const e=yield function whe(t){return Ig=Ig||function Ihe(t){return new Promise((e,n)=>{var r,i,s;function o(){g4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g4(),n($n(t,"network-request-failed"))},timeout:vhe.get()})}if(null!==(i=null===(r=ut().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=ut().gapi)||void 0===s||!s.load){const a=$$("iframefcb");return ut()[a]=()=>{gapi.load?o():n($n(t,"network-request-failed"))},Bb(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Ig=null,e})}(t),Ig}(t),n=ut().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:She(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dhe,dontclear:!0},r=>new Promise(function(){var i=p(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=$n(t,"network-request-failed"),u=ut().setTimeout(()=>{o(a)},Ehe.get());function c(){ut().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),TC.apply(this,arguments)}const xhe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class m4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Fhe="__/auth/handler",Lhe="emulator/auth/handler",Vhe=encodeURIComponent("fac");function _4(t,e,n,r,i,s){return bC.apply(this,arguments)}function bC(){return(bC=p(function*(t,e,n,r,i,s){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ru,eventId:i};if(e instanceof fs){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof uD){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Vhe}=${encodeURIComponent(u)}`:"";return`${function Uhe({config:t}){return t.emulator?bb(t,Lhe):`https://${t.authDomain}/${Fhe}`}(t)}?${Ii(a).slice(1)}${c}`})).apply(this,arguments)}const DC="webStorageSupport",$he=class Bhe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n4,this._completeRedirectFn=d4,this._overrideRedirectResult=ahe}_openPopup(e,n,r,i){var s=this;return p(function*(){var o;Ci(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield _4(e,n,r,Nl(),i);return function Phe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},xhe),{width:r.toString(),height:i.toString(),top:s,left:o}),c=de().toLowerCase();n&&(a=M$(c)?"_blank":n),x$(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(function ble(t=de()){var e;return cg(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Ohe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new m4(null);const d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch{}return new m4(d)}(e,a,mg())})()}_openRedirect(e,n,r,i){var s=this;return p(function*(){return yield s._originValidation(e),function Ade(t){ut().location.href=t}(yield _4(e,n,r,Nl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ci(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return p(function*(){const r=yield function Ahe(t){return TC.apply(this,arguments)}(e),i=new hhe(e);return r.register("authEvent",s=>(A(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(DC,{type:DC},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[DC];void 0!==o&&n(!!o),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function _he(t){return EC.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return O$()||Lb()||cg()}};var I4="@firebase/auth";class jhe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return p(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const qhe=Pp("authIdTokenMaxAge")||300;let E4=null;const Whe=t=>function(){var e=p(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>qhe)return;const s=r?.token;E4!==s&&(E4=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Khe(t=$w()){const e=Bp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Ple(t,e){const n=Bp(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(so(n.getOptions(),e??{}))return i;Dn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:$he,persistence:[Lde,bde,n4]}),r=Pp("authTokenSyncURL");if(r){const s=Whe(r);(function mde(t,e,n){qe(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function gde(t,e,n,r){qe(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=Aw("auth");return i&&function Fle(t,e,n){const r=Tt(t);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=G$(e),{host:o,port:a}=function Lle(t){const e=G$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:z$(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:z$(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Vle(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function Ghe(t){nu(new We("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F$(t)},c=new kle(r,i,s,u);return function Ole(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(xi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nu(new We("auth-internal",e=>{const n=Tt(e.getProvider("auth").getImmediate());return new jhe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(I4,"0.23.2",function Hhe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Bn(I4,"0.23.2","esm2017")}("Browser");class Eg{constructor(e){return e}}class b4{constructor(){return KT("auth")}}const SC=new L("angularfire2.auth-instances");function Yhe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Eg(r)}}const Jhe={provide:b4,deps:[[new nn,SC]]},Xhe={provide:Eg,useFactory:function Qhe(t,e){const n=WT("auth",t,e);return n&&new Eg(n)},deps:[[new nn,SC],uu]};let Zhe=(()=>{class t{constructor(){Bn("angularfire",Yp.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rn({type:t}),t.\u0275inj=hn({providers:[Xhe,Jhe]}),t})();function efe(t,...e){return{ngModule:Zhe,providers:[{provide:SC,useFactory:Yhe(t),multi:!0,deps:[De,Ln,QT,YT,[new nn,yb],...e]}]}}const tfe=nr(ode,!0),nfe=nr(Khe,!0),rfe=nr(ade,!0),D4=nr(rhe,!0);var N,ife=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yr={},AC=AC||{},Y=ife||self;function Tg(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Gl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var xC="closure_uid_"+(1e9*Math.random()>>>0),ofe=0;function afe(t,e,n){return t.call.apply(t.bind,arguments)}function ufe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Qt(t,e,n){return(Qt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?afe:ufe).apply(null,arguments)}function bg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function bt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ps(){this.s=this.s,this.o=this.o}ps.prototype.s=!1,ps.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function sfe(t){Object.prototype.hasOwnProperty.call(t,xC)&&t[xC]||(t[xC]=++ofe)}(this)},ps.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const C4=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function MC(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function S4(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Tg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Yt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Yt.prototype.h=function(){this.defaultPrevented=!0};var lfe=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Y.addEventListener("test",()=>{},e),Y.removeEventListener("test",()=>{},e)}catch{}return t}();function zl(t){return/^[\s\xa0]*$/.test(t)}function Dg(){var t=Y.navigator;return t&&(t=t.userAgent)?t:""}function jr(t){return-1!=Dg().indexOf(t)}function RC(t){return RC[" "](t),t}RC[" "]=function(){};var kC,t,hfe=jr("Opera"),fu=jr("Trident")||jr("MSIE"),A4=jr("Edge"),NC=A4||fu,x4=jr("Gecko")&&!(-1!=Dg().toLowerCase().indexOf("webkit")&&!jr("Edge"))&&!(jr("Trident")||jr("MSIE"))&&!jr("Edge"),ffe=-1!=Dg().toLowerCase().indexOf("webkit")&&!jr("Edge");function M4(){var t=Y.document;return t?t.documentMode:void 0}e:{var PC="",OC=(t=Dg(),x4?/rv:([^\);]+)(\)|;)/.exec(t):A4?/Edge\/([\d\.]+)/.exec(t):fu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ffe?/WebKit\/(\S+)/.exec(t):hfe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(OC&&(PC=OC?OC[1]:""),fu){var FC=M4();if(null!=FC&&FC>parseFloat(PC)){kC=String(FC);break e}}kC=PC}var pfe=Y.document&&fu&&(M4()||parseInt(kC,10))||void 0;function ql(t,e){if(Yt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(x4){e:{try{RC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:gfe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ql.$.h.call(this)}}bt(ql,Yt);var gfe={2:"touch",3:"pen",4:"mouse"};ql.prototype.h=function(){ql.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Wl="closure_listenable_"+(1e6*Math.random()|0),mfe=0;function _fe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++mfe,this.fa=this.ia=!1}function Cg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function VC(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function N4(t){const e={};for(const n in t)e[n]=t[n];return e}const k4="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P4(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<k4.length;s++)n=k4[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Sg(t){this.src=t,this.g={},this.h=0}function UC(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=C4(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Cg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function BC(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Sg.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=BC(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new _fe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var $C="closure_lm_"+(1e6*Math.random()|0),jC={};function O4(t,e,n,r,i){if(r&&r.once)return L4(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)O4(t,e[s],n,r,i);return null}return n=qC(n),t&&t[Wl]?t.O(e,n,Gl(r)?!!r.capture:!!r,i):F4(t,e,n,!1,r,i)}function F4(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Gl(i)?!!i.capture:!!i,a=GC(t);if(a||(t[$C]=a=new Sg(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function vfe(){const e=Ife;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)lfe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(U4(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function L4(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)L4(t,e[s],n,r,i);return null}return n=qC(n),t&&t[Wl]?t.P(e,n,Gl(r)?!!r.capture:!!r,i):F4(t,e,n,!0,r,i)}function V4(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)V4(t,e[s],n,r,i);else r=Gl(r)?!!r.capture:!!r,n=qC(n),t&&t[Wl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=BC(s=t.g[e],n,r,i))&&(Cg(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=GC(t))&&(e=t.g[e.toString()],t=-1,e&&(t=BC(e,n,r,i)),(n=-1<t?e[t]:null)&&HC(n))}function HC(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Wl])UC(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(U4(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=GC(e))?(UC(n,t),0==n.h&&(n.src=null,e[$C]=null)):Cg(t)}}}function U4(t){return t in jC?jC[t]:jC[t]="on"+t}function Ife(t,e){if(t.fa)t=!0;else{e=new ql(e,this);var n=t.listener,r=t.la||t.src;t.ia&&HC(t),t=n.call(r,e)}return t}function GC(t){return(t=t[$C])instanceof Sg?t:null}var zC="__closure_events_fn_"+(1e9*Math.random()>>>0);function qC(t){return"function"==typeof t?t:(t[zC]||(t[zC]=function(e){return t.handleEvent(e)}),t[zC])}function Dt(){ps.call(this),this.i=new Sg(this),this.S=this,this.J=null}function Ft(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Yt(e,t);else if(e instanceof Yt)e.target=e.target||t;else{var i=e;P4(e=new Yt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ag(o,r,!0,e)&&i}if(i=Ag(o=e.g=t,r,!0,e)&&i,i=Ag(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Ag(o=e.g=n[s],r,!1,e)&&i}function Ag(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&UC(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}bt(Dt,ps),Dt.prototype[Wl]=!0,Dt.prototype.removeEventListener=function(t,e,n,r){V4(this,t,e,n,r)},Dt.prototype.N=function(){if(Dt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Cg(n[r]);delete t.g[e],t.h--}}this.J=null},Dt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Dt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var WC=Y.JSON.stringify;function Efe(){var t=KC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var B4=new class wfe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new bfe,t=>t.reset());class bfe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Dfe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Cfe(t){Y.setTimeout(()=>{throw t},0)}let Kl,Ql=!1,KC=new class Tfe{constructor(){this.h=this.g=null}add(e,n){const r=B4.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},$4=()=>{const t=Y.Promise.resolve(void 0);Kl=()=>{t.then(Sfe)}};var Sfe=()=>{for(var t;t=Efe();){try{t.h.call(t.g)}catch(n){Cfe(n)}var e=B4;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ql=!1};function xg(t,e){Dt.call(this),this.h=t||1,this.g=e||Y,this.j=Qt(this.qb,this),this.l=Date.now()}function QC(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function YC(t,e,n){if("function"==typeof t)n&&(t=Qt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Qt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function j4(t){t.g=YC(()=>{t.g=null,t.i&&(t.i=!1,j4(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}bt(xg,Dt),(N=xg.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ft(this,"tick"),this.ga&&(QC(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){xg.$.N.call(this),QC(this),delete this.g};class Afe extends ps{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:j4(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yl(t){ps.call(this),this.h=t,this.g={}}bt(Yl,ps);var H4=[];function G4(t,e,n,r){Array.isArray(n)||(n&&(H4[0]=n.toString()),n=H4);for(var i=0;i<n.length;i++){var s=O4(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function z4(t){VC(t.g,function(e,n){this.g.hasOwnProperty(n)&&HC(e)},t),t.g={}}function Mg(){this.g=!0}function pu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Nfe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return WC(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Yl.prototype.N=function(){Yl.$.N.call(this),z4(this)},Yl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mg.prototype.Ea=function(){this.g=!1},Mg.prototype.info=function(){};var Eo={},q4=null;function Rg(){return q4=q4||new Dt}function W4(t){Yt.call(this,Eo.Ta,t)}function Jl(t){const e=Rg();Ft(e,new W4(e))}function K4(t,e){Yt.call(this,Eo.STAT_EVENT,t),this.stat=e}function ln(t){const e=Rg();Ft(e,new K4(e,t))}function Q4(t,e){Yt.call(this,Eo.Ua,t),this.size=e}function Xl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}Eo.Ta="serverreachability",bt(W4,Yt),Eo.STAT_EVENT="statevent",bt(K4,Yt),Eo.Ua="timingevent",bt(Q4,Yt);var Ng={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Y4={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function JC(){}function X4(){}JC.prototype.h=null;var e0,Zl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function XC(){Yt.call(this,"d")}function ZC(){Yt.call(this,"c")}function kg(){}function ed(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Yl(this),this.P=kfe,this.V=new xg(t=NC?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Z4}function Z4(){this.i=null,this.g="",this.h=!1}bt(XC,Yt),bt(ZC,Yt),bt(kg,JC),kg.prototype.g=function(){return new XMLHttpRequest},kg.prototype.i=function(){return{}},e0=new kg;var kfe=45e3,t0={},Pg={};function n0(t,e,n){t.L=1,t.v=Vg(Ri(e)),t.s=n,t.S=!0,ej(t,null)}function ej(t,e){t.G=Date.now(),td(t),t.A=Ri(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),lj(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Z4,t.g=Pj(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Afe(Qt(t.Pa,t,t.g),t.O)),G4(t.U,t.g,"readystatechange",t.nb),e=t.I?N4(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Jl(),function xfe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function tj(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function nj(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Pfe(t,n),i==Pg){4==e&&(t.o=4,ln(14),r=!1),pu(t.j,t.m,null,"[Incomplete Response]");break}if(i==t0){t.o=4,ln(15),pu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}pu(t.j,t.m,i,null),r0(t,i)}tj(t)&&i!=Pg&&i!=t0&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ln(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),d0(e),e.M=!0,ln(11))):(pu(t.j,t.m,n,"[Invalid Chunked Response]"),To(t),nd(t))}function Pfe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Pg:(n=Number(e.substring(n,r)),isNaN(n)?t0:(r+=1)+n>e.length?Pg:(e=e.slice(r,r+n),t.C=r+n,e))}function td(t){t.Y=Date.now()+t.P,rj(t,t.P)}function rj(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Xl(Qt(t.lb,t),e)}function Og(t){t.B&&(Y.clearTimeout(t.B),t.B=null)}function nd(t){0==t.l.H||t.J||Mj(t.l,t)}function To(t){Og(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,QC(t.V),z4(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function r0(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||s0(n.i,t)))if(!t.K&&s0(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Gg(n),jg(n)}l0(n),ln(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Xl(Qt(n.ib,n),6e3));if(1>=fj(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Do(n,11)}else if((t.K||n.g==t)&&Gg(n),!zl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||-1==g.indexOf("spdy")&&-1==g.indexOf("quic")&&-1==g.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(o0(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Ne(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=kj(r,r.J?r.pa:null,r.Y),o.K){pj(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Og(a),td(a)),r.g=o}else Aj(r);0<n.j.length&&Hg(n)}else"stop"!=c[0]&&"close"!=c[0]||Do(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Do(n,7):c0(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Jl()}catch{}}function ij(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Tg(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Ffe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Tg(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Ofe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Tg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=ed.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==Hr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=Hr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||NC||this.g&&(this.h.h||this.g.ja()||Ej(this.g)))){this.J||4!=l||7==e||Jl(),Og(this);var n=this.g.da();this.ca=n;t:if(tj(this)){var r=Ej(this.g);t="";var i=r.length,s=4==Hr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){To(this),nd(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Mfe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zl(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,ln(12),To(this),nd(this);break e}pu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,r0(this,n)}this.S?(nj(this,l,o),NC&&this.i&&3==l&&(G4(this.U,this.V,"tick",this.mb),this.V.start())):(pu(this.j,this.m,o,null),r0(this,o)),4==l&&To(this),this.i&&!this.J&&(4==l?Mj(this.l,this):(this.i=!1,td(this)))}else(function epe(t){const e={};t=(t.g&&2<=Hr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(zl(t[r]))continue;var n=Dfe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function yfe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,ln(12)):(this.o=0,ln(13)),To(this),nd(this)}}}catch{}},N.mb=function(){if(this.g){var t=Hr(this.g),e=this.g.ja();this.C<e.length&&(Og(this),nj(this,t,e),this.i&&4!=t&&td(this))}},N.cancel=function(){this.J=!0,To(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Rfe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Jl(),ln(17)),To(this),this.o=2,nd(this)):rj(this,this.Y-t)};var sj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof bo){this.h=t.h,Fg(this,t.j),this.s=t.s,this.g=t.g,Lg(this,t.m),this.l=t.l;var e=t.i,n=new sd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),oj(this,n),this.o=t.o}else t&&(e=String(t).match(sj))?(this.h=!1,Fg(this,e[1]||"",!0),this.s=rd(e[2]||""),this.g=rd(e[3]||"",!0),Lg(this,e[4]),this.l=rd(e[5]||"",!0),oj(this,e[6]||"",!0),this.o=rd(e[7]||"")):(this.h=!1,this.i=new sd(null,this.h))}function Ri(t){return new bo(t)}function Fg(t,e,n){t.j=n?rd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Lg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function oj(t,e,n){e instanceof sd?(t.i=e,function Hfe(t,e){e&&!t.j&&(gs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(uj(this,r),lj(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=id(e,$fe)),t.i=new sd(e,t.h))}function Ne(t,e,n){t.i.set(e,n)}function Vg(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function rd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function id(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Vfe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vfe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}bo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(id(e,aj,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(id(e,aj,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(id(n,"/"==n.charAt(0)?Bfe:Ufe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",id(n,jfe)),t.join("")};var aj=/[#\/\?@]/g,Ufe=/[#\?:]/g,Bfe=/[#\?]/g,$fe=/[#\?@]/g,jfe=/#/g;function sd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function gs(t){t.g||(t.g=new Map,t.h=0,t.i&&function Lfe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function uj(t,e){gs(t),e=gu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function cj(t,e){return gs(t),e=gu(t,e),t.g.has(e)}function lj(t,e,n){uj(t,e),0<n.length&&(t.i=null,t.g.set(gu(t,e),MC(n)),t.h+=n.length)}function gu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function dj(t){this.l=t||zfe,t=Y.PerformanceNavigationTiming?0<(t=Y.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=sd.prototype).add=function(t,e){gs(this),this.i=null,t=gu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){gs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){gs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){gs(this);let e=[];if("string"==typeof t)cj(this,t)&&(e=e.concat(this.g.get(gu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return gs(this),this.i=null,cj(this,t=gu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var zfe=10;function hj(t){return!!t.h||!!t.g&&t.g.size>=t.j}function fj(t){return t.h?1:t.g?t.g.size:0}function s0(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function o0(t,e){t.g?t.g.add(e):t.h=e}function pj(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function gj(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return MC(t.i)}dj.prototype.cancel=function(){if(this.i=gj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var qfe=class{stringify(t){return Y.JSON.stringify(t,void 0)}parse(t){return Y.JSON.parse(t,void 0)}};function Wfe(){this.g=new qfe}function Kfe(t,e,n){const r=n||"";try{ij(t,function(i,s){let o=i;Gl(i)&&(o=WC(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ug(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function od(t){this.l=t.fc||null,this.j=t.ob||!1}function Bg(t,e){Dt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=a0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bt(od,JC),od.prototype.g=function(){return new Bg(this.l,this.j)},od.prototype.i=function(t){return function(){return t}}({}),bt(Bg,Dt);var a0=0;function mj(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function ad(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ud(t)}function ud(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=Bg.prototype).open=function(t,e){if(this.readyState!=a0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ud(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Y).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ad(this)),this.readyState=a0},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ud(this)),this.g&&(this.readyState=3,ud(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mj(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ad(this):ud(this),3==this.readyState&&mj(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,ad(this))},N.Ya=function(t){this.g&&(this.response=t,ad(this))},N.ka=function(){this.g&&ad(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Bg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Yfe=Y.JSON.parse;function Ye(t){Dt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_j,this.L=this.M=!1}bt(Ye,Dt);var _j="",Jfe=/^https?$/i,Xfe=["POST","PUT"];function yj(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,vj(t),$g(t)}function vj(t){t.F||(t.F=!0,Ft(t,"complete"),Ft(t,"error"))}function Ij(t){if(t.h&&typeof AC<"u"&&(!t.C[1]||4!=Hr(t)||2!=t.da()))if(t.v&&4==Hr(t))YC(t.La,0,t);else if(Ft(t,"readystatechange"),4==Hr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(sj)[1]||null;!i&&Y.self&&Y.self.location&&(i=Y.self.location.protocol.slice(0,-1)),r=!Jfe.test(i?i.toLowerCase():"")}n=r}if(n)Ft(t,"complete"),Ft(t,"success");else{t.m=6;try{var s=2<Hr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",vj(t)}}finally{$g(t)}}}function $g(t,e){if(t.g){wj(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ft(t,"ready");try{n.onreadystatechange=r}catch{}}}function wj(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}function Hr(t){return t.g?t.g.readyState:0}function Ej(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case _j:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Tj(t){let e="";return VC(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function u0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Tj(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ne(t,e,n))}function cd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bj(t){this.Ga=0,this.j=[],this.l=new Mg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cd("baseRetryDelayMs",5e3,t),this.hb=cd("retryDelaySeedMs",1e4,t),this.eb=cd("forwardChannelMaxRetries",2,t),this.xa=cd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new dj(t&&t.concurrentRequestLimit),this.Ja=new Wfe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function c0(t){if(Dj(t),3==t.H){var e=t.W++,n=Ri(t.I);if(Ne(n,"SID",t.K),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),ld(t,n),(e=new ed(t,t.l,e)).L=2,e.v=Vg(Ri(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Y.Image&&((new Image).src=e.v,n=!0),n||(e.g=Pj(e.l,null),e.g.ha(e.v)),e.G=Date.now(),td(e)}Nj(t)}function jg(t){t.g&&(d0(t),t.g.cancel(),t.g=null)}function Dj(t){jg(t),t.u&&(Y.clearTimeout(t.u),t.u=null),Gg(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Y.clearTimeout(t.m),t.m=null)}function Hg(t){if(!hj(t.i)&&!t.m){t.m=!0;var e=t.Na;Kl||$4(),Ql||(Kl(),Ql=!0),KC.add(e,t),t.C=0}}function Cj(t,e){var n;n=e?e.m:t.W++;const r=Ri(t.I);Ne(r,"SID",t.K),Ne(r,"RID",n),Ne(r,"AID",t.V),ld(t,r),t.o&&t.s&&u0(r,t.o,t.s),n=new ed(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Sj(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),o0(t.i,n),n0(n,r,e)}function ld(t,e){t.na&&VC(t.na,function(n,r){Ne(e,r,n)}),t.h&&ij({},function(n,r){Ne(e,r,n)})}function Sj(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Qt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Kfe(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Aj(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Kl||$4(),Ql||(Kl(),Ql=!0),KC.add(e,t),t.A=0}}function l0(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Xl(Qt(t.Ma,t),Rj(t,t.A)),t.A++,0))}function d0(t){null!=t.B&&(Y.clearTimeout(t.B),t.B=null)}function xj(t){t.g=new ed(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ri(t.wa);Ne(e,"RID","rpc"),Ne(e,"SID",t.K),Ne(e,"AID",t.V),Ne(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ne(e,"TO",t.qa),Ne(e,"TYPE","xmlhttp"),ld(t,e),t.o&&t.s&&u0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Vg(Ri(e)),n.s=null,n.S=!0,ej(n,t)}function Gg(t){null!=t.v&&(Y.clearTimeout(t.v),t.v=null)}function Mj(t,e){var n=null;if(t.g==e){Gg(t),d0(t),t.g=null;var r=2}else{if(!s0(t.i,e))return;n=e.F,pj(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Ft(r=Rg(),new Q4(r,n)),Hg(t)}else Aj(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function tpe(t,e){return!(fj(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Xl(Qt(t.Na,t,e),Rj(t,t.C)),t.C++,0)))}(t,e)||2==r&&l0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Do(t,5);break;case 4:Do(t,10);break;case 3:Do(t,6);break;default:Do(t,2)}}function Rj(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Do(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Qt(t.pb,t);n||(n=new bo("//www.google.com/images/cleardot.gif"),Y.location&&"http"==Y.location.protocol||Fg(n,"https"),Vg(n)),function Qfe(t,e){const n=new Mg;if(Y.Image){const r=new Image;r.onload=bg(Ug,n,r,"TestLoadImage: loaded",!0,e),r.onerror=bg(Ug,n,r,"TestLoadImage: error",!1,e),r.onabort=bg(Ug,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=bg(Ug,n,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ln(2);t.H=0,t.h&&t.h.za(e),Nj(t),Dj(t)}function Nj(t){if(t.H=0,t.ma=[],t.h){const e=gj(t.i);(0!=e.length||0!=t.j.length)&&(S4(t.ma,e),S4(t.ma,t.j),t.i.i.length=0,MC(t.j),t.j.length=0),t.h.ya()}}function kj(t,e,n){var r=n instanceof bo?Ri(n):new bo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Lg(r,r.m);else{var i=Y.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new bo(null);r&&Fg(s,r),e&&(s.g=e),i&&Lg(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ne(r,n,e),Ne(r,"VER",t.ra),ld(t,r),r}function Pj(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ye(n&&t.Ha&&!t.va?new od({ob:!0}):t.va)).Oa(t.J),e}function Oj(){}function zg(){if(fu&&!(10<=Number(pfe)))throw Error("Environmental error: no available transport.")}function jn(t,e){Dt.call(this),this.g=new bj(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!zl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zl(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new mu(this)}function Fj(t){XC.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Lj(){ZC.call(this),this.status=1}function mu(t){this.g=t}function vr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function h0(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function we(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=Ye.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():e0.g(),this.C=function J4(t){return t.h||(t.h=t.i())}(this.u?this.u:e0),this.g.onreadystatechange=Qt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void yj(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Y.FormData&&t instanceof Y.FormData,!(0<=C4(Xfe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wj(this),0<this.B&&((this.L=function Zfe(t){return fu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qt(this.ua,this)):this.A=YC(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){yj(this,s)}},N.ua=function(){typeof AC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ft(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ft(this,"complete"),Ft(this,"abort"),$g(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$g(this,!0)),Ye.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?Ij(this):this.kb())},N.kb=function(){Ij(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<Hr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Yfe(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=bj.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ed(this,this.l,t);let s=this.s;if(this.U&&(s?(s=N4(s),P4(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Sj(this,i,e),Ne(n=Ri(this.I),"RID",t),Ne(n,"CVER",22),this.F&&Ne(n,"X-HTTP-Session-Id",this.F),ld(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Tj(s)))+"&"+e:this.o&&u0(n,this.o,s)),o0(this.i,i),this.bb&&Ne(n,"TYPE","init"),this.P?(Ne(n,"$req",e),Ne(n,"SID","null"),i.aa=!0,n0(i,n,null)):n0(i,n,e),this.H=2}}else 3==this.H&&(t?Cj(this,t):0==this.j.length||hj(this.i)||Cj(this))},N.Ma=function(){if(this.u=null,xj(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Xl(Qt(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ln(10),jg(this),xj(this))},N.ib=function(){null!=this.v&&(this.v=null,jg(this),l0(this),ln(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ln(2)):(this.l.info("Failed to ping google.com"),ln(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=Oj.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},zg.prototype.g=function(t,e){return new jn(t,e)},bt(jn,Dt),jn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ln(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=kj(t,null,t.Y),Hg(t)},jn.prototype.close=function(){c0(this.g)},jn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=WC(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Hg(e)},jn.prototype.N=function(){this.g.h=null,delete this.j,c0(this.g),delete this.g,jn.$.N.call(this)},bt(Fj,XC),bt(Lj,ZC),bt(mu,Oj),mu.prototype.Ba=function(){Ft(this.g,"a")},mu.prototype.Aa=function(t){Ft(this.g,new Fj(t))},mu.prototype.za=function(t){Ft(this.g,new Lj)},mu.prototype.ya=function(){Ft(this.g,"b")},bt(vr,function npe(){this.blockSize=-1}),vr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},vr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)h0(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){h0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){h0(this,r),i=0;break}}this.h=i,this.i+=e},vr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var rpe={};function f0(t){return-128<=t&&128>t?function dfe(t,e){var n=rpe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new we([0|e],0>e?-1:0)}):new we([0|t],0>t?-1:0)}function Gr(t){if(isNaN(t)||!isFinite(t))return _u;if(0>t)return Lt(Gr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=p0;return new we(e,0)}var p0=4294967296,_u=f0(0),g0=f0(1),Uj=f0(16777216);function Ni(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function ir(t){return-1==t.h}function Lt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new we(n,~t.h).add(g0)}function qg(t,e){return t.add(Lt(e))}function Wg(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function dd(t,e){this.g=t,this.h=e}function Kg(t,e){if(Ni(e))throw Error("division by zero");if(Ni(t))return new dd(_u,_u);if(ir(t))return e=Kg(Lt(t),e),new dd(Lt(e.g),Lt(e.h));if(ir(e))return e=Kg(t,Lt(e)),new dd(Lt(e.g),e.h);if(30<t.g.length){if(ir(t)||ir(e))throw Error("slowDivide_ only works with positive integers.");for(var n=g0,r=e;0>=r.X(t);)n=Bj(n),r=Bj(r);var i=yu(n,1),s=yu(r,1);for(r=yu(r,2),n=yu(n,2);!Ni(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=yu(r,1),n=yu(n,1)}return e=qg(t,i.R(e)),new dd(i,e)}for(i=_u;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Gr(n)).R(e);ir(o)||0<o.X(t);)o=(s=Gr(n-=r)).R(e);Ni(s)&&(s=g0),i=i.add(s),t=qg(t,o)}return new dd(i,t)}function Bj(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new we(n,t.h)}function yu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new we(i,t.h)}(N=we.prototype).ea=function(){if(ir(this))return-Lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:p0+r)*e,e*=p0}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ni(this))return"0";if(ir(this))return"-"+Lt(this).toString(t);for(var e=Gr(Math.pow(t,6)),n=this,r="";;){var i=Kg(n,e).g,s=((0<(n=qg(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ni(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return ir(t=qg(this,t))?-1:Ni(t)?0:1},N.abs=function(){return ir(this)?Lt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new we(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(Ni(this)||Ni(t))return _u;if(ir(this))return ir(t)?Lt(this).R(Lt(t)):Lt(Lt(this).R(t));if(ir(t))return Lt(this.R(Lt(t)));if(0>this.X(Uj)&&0>t.X(Uj))return Gr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Wg(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Wg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Wg(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Wg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new we(n,0)},N.gb=function(t){return Kg(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new we(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new we(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new we(n,this.h^t.h)},zg.prototype.createWebChannel=zg.prototype.g,jn.prototype.send=jn.prototype.u,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,Ng.NO_ERROR=0,Ng.TIMEOUT=8,Ng.HTTP_ERROR=6,Y4.COMPLETE="complete",X4.EventType=Zl,Zl.OPEN="a",Zl.CLOSE="b",Zl.ERROR="c",Zl.MESSAGE="d",Dt.prototype.listen=Dt.prototype.O,Ye.prototype.listenOnce=Ye.prototype.P,Ye.prototype.getLastError=Ye.prototype.Sa,Ye.prototype.getLastErrorCode=Ye.prototype.Ia,Ye.prototype.getStatus=Ye.prototype.da,Ye.prototype.getResponseJson=Ye.prototype.Wa,Ye.prototype.getResponseText=Ye.prototype.ja,Ye.prototype.send=Ye.prototype.ha,Ye.prototype.setWithCredentials=Ye.prototype.Oa,vr.prototype.digest=vr.prototype.l,vr.prototype.reset=vr.prototype.reset,vr.prototype.update=vr.prototype.j,we.prototype.add=we.prototype.add,we.prototype.multiply=we.prototype.R,we.prototype.modulo=we.prototype.gb,we.prototype.compare=we.prototype.X,we.prototype.toNumber=we.prototype.ea,we.prototype.toString=we.prototype.toString,we.prototype.getBits=we.prototype.D,we.fromNumber=Gr,we.fromString=function Vj(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Lt(Vj(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Gr(Math.pow(e,8)),r=_u,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Gr(Math.pow(e,s)),r=r.R(s).add(Gr(o))):r=(r=r.R(n)).add(Gr(o))}return r};var ipe=yr.createWebChannelTransport=function(){return new zg},spe=yr.getStatEventTarget=function(){return Rg()},m0=yr.ErrorCode=Ng,ope=yr.EventType=Y4,ape=yr.Event=Eo,$j=yr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},upe=yr.FetchXmlHttpFactory=od,Qg=yr.WebChannel=X4,cpe=yr.XhrIo=Ye,lpe=yr.Md5=vr,vu=yr.Integer=we;const jj="@firebase/firestore";class Ct{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");let Iu="9.23.0";const ms=new us("@firebase/firestore");function _0(){return ms.logLevel}function C(t,...e){if(ms.logLevel<=se.DEBUG){const n=e.map(y0);ms.debug(`Firestore (${Iu}): ${t}`,...n)}}function rt(t,...e){if(ms.logLevel<=se.ERROR){const n=e.map(y0);ms.error(`Firestore (${Iu}): ${t}`,...n)}}function Ir(t,...e){if(ms.logLevel<=se.WARN){const n=e.map(y0);ms.warn(`Firestore (${Iu}): ${t}`,...n)}}function y0(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${Iu}) INTERNAL ASSERTION FAILED: `+t;throw rt(e),new Error(e)}function U(t,e){t||F()}function R(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends kt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _t{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Hj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dpe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}}class hpe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fpe{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new _t;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _t,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(p(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _t)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new Hj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new Ct(e)}}class ppe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class gpe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new ppe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mpe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.T=n.token,new Gj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _pe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class zj{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=_pe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function K(t,e){return t<e?-1:t>e?1:0}function wu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class He{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new He(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new He(0,0))}static max(){return new B(new He(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hd{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===hd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ue extends hd{construct(e,n,r){return new ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ue(n)}static emptyPath(){return new ue([])}}const ype=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends hd{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return ype.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new it(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(ue.fromString(e))}static fromName(e){return new M(ue.fromString(e).popFirst(5))}static empty(){return new M(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ue.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new ue(e.slice()))}}function Kj(t){return new Hn(t.readTime,t.key,-1)}class Hn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hn(B.min(),M.empty(),-1)}static max(){return new Hn(B.max(),M.empty(),-1)}}function I0(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:K(t.largestBatchId,e.largestBatchId))}const Qj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wpe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function _s(t){return w0.apply(this,arguments)}function w0(){return w0=p(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==Qj)throw t;C("LocalStore","Unexpectedly lost primary lease")}),w0.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function ys(t){return"IndexedDbTransactionError"===t.name}let Gn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function gd(t){return null==t}function md(t){return 0===t&&1/t==-1/0}function i3(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function s3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Me{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new em(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new em(this.root,e,this.comparator,!1)}getReverseIterator(){return new em(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new em(this.root,e,this.comparator,!0)}}class em{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Vt.RED,this.left=i??Vt.EMPTY,this.right=s??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Vt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1,Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Vt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new o3(this.data.getIterator())}getIteratorFrom(e){return new o3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ke(this.comparator);return n.data=e,n}}class o3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new ke(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class a3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new a3("Invalid base64 string: "+i):i}}(e);return new yt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const Gpe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(t){if(U(!!t),"string"==typeof t){let e=0;const n=Gpe.exec(t);if(U(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ki(t){return"string"==typeof t?yt.fromBase64String(t):yt.fromUint8Array(t)}function tm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nm(t){const e=t.mapValue.fields.__previous_value__;return tm(e)?nm(e):e}function _d(t){const e=Is(t.mapValue.fields.__local_write_time__.timestampValue);return new He(e.seconds,e.nanos)}class zpe{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ao{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ao("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ao&&e.projectId===this.projectId&&e.database===this.database}}const ws={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tm(t)?4:d3(t)?9007199254740991:10:F()}function qr(t,e){if(t===e)return!0;const n=Es(t);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _d(t).isEqual(_d(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Is(r.timestampValue),o=Is(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ki(t.bytesValue).isEqual(ki(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Je(r.geoPointValue.latitude)===Je(i.geoPointValue.latitude)&&Je(r.geoPointValue.longitude)===Je(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Je(r.integerValue)===Je(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Je(r.doubleValue),o=Je(i.doubleValue);return s===o?md(s)===md(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return wu(t.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(i3(s)!==i3(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!qr(s[a],o[a])))return!1;return!0}(t,e);default:return F()}var i}function yd(t,e){return void 0!==(t.values||[]).find(n=>qr(n,e))}function Ts(t,e){if(t===e)return 0;const n=Es(t),r=Es(e);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Je(i.integerValue||i.doubleValue),a=Je(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return u3(t.timestampValue,e.timestampValue);case 4:return u3(_d(t),_d(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ki(i),a=ki(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=K(o[u],a[u]);if(0!==c)return c}return K(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=K(Je(i.latitude),Je(s.latitude));return 0!==o?o:K(Je(i.longitude),Je(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Ts(o[u],a[u]);if(c)return c}return K(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ws.mapValue&&s===ws.mapValue)return 0;if(i===ws.mapValue)return 1;if(s===ws.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=K(a[l],c[l]);if(0!==d)return d;const h=Ts(o[a[l]],u[c[l]]);if(0!==h)return h}return K(a.length,c.length)}(t.mapValue,e.mapValue);default:throw F()}}function u3(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return K(t,e);const n=Is(t),r=Is(e),i=K(n.seconds,r.seconds);return 0!==i?i:K(n.nanos,r.nanos)}function Tu(t){return b0(t)}function b0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Is(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ki(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=b0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${b0(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e}function xo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function D0(t){return!!t&&"integerValue"in t}function vd(t){return!!t&&"arrayValue"in t}function c3(t){return!!t&&"nullValue"in t}function l3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sm(t){return!!t&&"mapValue"in t}function Id(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Id(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Id(t.arrayValue.values[n]);return e}return Object.assign({},t)}function d3(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Id(n)}setAll(e){let n=it.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Id(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());sm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ut(Id(this.value))}}function p3(t){const e=[];return vs(t.fields,(n,r)=>{const i=new it([n]);if(sm(r)){const s=p3(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Cn(e)}class Pe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Pe(e,0,B.min(),B.min(),B.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,i){return new Pe(e,1,n,B.min(),r,i,0)}static newNoDocument(e,n){return new Pe(e,2,n,B.min(),B.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new Pe(e,3,n,B.min(),B.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bs{constructor(e,n){this.position=e,this.inclusive=n}}function g3(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?M.comparator(M.fromName(o.referenceValue),n.key):Ts(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function m3(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qr(t.position[n],e.position[n]))return!1;return!0}class bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Kpe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class _3{}class ie extends _3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Qpe(e,n,r):"array-contains"===n?new Xpe(e,r):"in"===n?new T3(e,r):"not-in"===n?new Zpe(e,r):"array-contains-any"===n?new ege(e,r):new ie(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Ype(e,r):new Jpe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ts(n,this.value)):null!==n&&Es(this.value)===Es(n)&&this.matchesComparison(Ts(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ee extends _3{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ee(e,n)}matches(e){return Du(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Du(t){return"and"===t.op}function S0(t){return function y3(t){for(const e of t.filters)if(e instanceof Ee)return!1;return!0}(t)&&Du(t)}function A0(t){if(t instanceof ie)return t.field.canonicalString()+t.op.toString()+Tu(t.value);if(S0(t))return t.filters.map(e=>A0(e)).join(",");{const e=t.filters.map(n=>A0(n)).join(",");return`${t.op}(${e})`}}function v3(t,e){return t instanceof ie?(n=t,(r=e)instanceof ie&&n.op===r.op&&n.field.isEqual(r.field)&&qr(n.value,r.value)):t instanceof Ee?function(n,r){return r instanceof Ee&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&v3(s,r.filters[o]),!0)}(t,e):void F();var n,r}function w3(t){return t instanceof ie?`${(e=t).field.canonicalString()} ${e.op} ${Tu(e.value)}`:t instanceof Ee?function(e){return e.op.toString()+" {"+e.getFilters().map(w3).join(" ,")+"}"}(t):"Filter";var e}class Qpe extends ie{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ype extends ie{constructor(e,n){super(e,"in",n),this.keys=E3(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Jpe extends ie{constructor(e,n){super(e,"not-in",n),this.keys=E3(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function E3(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class Xpe extends ie{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vd(n)&&yd(n.arrayValue,this.value)}}class T3 extends ie{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&yd(this.value.arrayValue,n)}}class Zpe extends ie{constructor(e,n){super(e,"not-in",n)}matches(e){if(yd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!yd(this.value.arrayValue,n)}}class ege extends ie{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yd(this.value.arrayValue,r))}}class tge{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function x0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new tge(t,e,n,r,i,s,o)}function Mo(t){const e=R(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>A0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Tu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Tu(r)).join(",")),e.dt=n}return e.dt}function wd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Kpe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!v3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!m3(t.startAt,e.startAt)&&m3(t.endAt,e.endAt)}function om(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Pi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Cu(t){return new Pi(t)}function S3(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function M0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function um(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function R0(t){return null!==t.collectionGroup}function Ro(t){const e=R(t);if(null===e.wt){e.wt=[];const n=um(e),r=M0(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new bu(n)),e.wt.push(new bu(it.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new bu(it.keyField(),s))}}}return e.wt}function dn(t){const e=R(t);if(!e._t)if("F"===e.limitType)e._t=x0(e.path,e.collectionGroup,Ro(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ro(e))n.push(new bu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new bs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new bs(e.startAt.position,e.startAt.inclusive):null;e._t=x0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function N0(t,e){e.getFirstInequalityField(),um(t);const n=t.filters.concat([e]);return new Pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cm(t,e,n){return new Pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ed(t,e){return wd(dn(t),dn(e))&&t.limitType===e.limitType}function A3(t){return`${Mo(dn(t))}|lt:${t.limitType}`}function k0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>w3(r)).join(", ")}]`),gd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Tu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Tu(r)).join(",")),`Target(${n})`}(dn(t))}; limitType=${t.limitType})`}function Td(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ro(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=g3(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ro(n),r)||n.endAt&&!function(i,s,o){const a=g3(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ro(n),r)));var n,r}function M3(t){return(e,n)=>{let r=!1;for(const i of Ro(t)){const s=nge(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function nge(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ts(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}class Oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return s3(this.inner)}size(){return this.innerSize}}const rge=new Me(M.comparator);function Sn(){return rge}const R3=new Me(M.comparator);function bd(...t){let e=R3;for(const n of t)e=e.insert(n.key,n);return e}function N3(t){let e=R3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wr(){return Dd()}function k3(){return Dd()}function Dd(){return new Oi(t=>t.toString(),(t,e)=>t.isEqual(e))}const ige=new Me(M.comparator),sge=new ke(M.comparator);function te(...t){let e=sge;for(const n of t)e=e.add(n);return e}const oge=new ke(K);function P3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:md(e)?"-0":e}}function O3(t){return{integerValue:""+t}}function F3(t,e){return function Jj(t){return"number"==typeof t&&Number.isInteger(t)&&!md(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?O3(e):P3(t,e)}class lm{constructor(){this._=void 0}}function age(t,e,n){return t instanceof Su?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&tm(i)&&(i=nm(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof No?V3(t,e):t instanceof ko?U3(t,e):function(r,i){const s=L3(r,i),o=B3(s)+B3(r.gt);return D0(s)&&D0(r.gt)?O3(o):P3(r.serializer,o)}(t,e)}function uge(t,e,n){return t instanceof No?V3(t,e):t instanceof ko?U3(t,e):n}function L3(t,e){return t instanceof Au?D0(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Su extends lm{}class No extends lm{constructor(e){super(),this.elements=e}}function V3(t,e){const n=$3(e);for(const r of t.elements)n.some(i=>qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ko extends lm{constructor(e){super(),this.elements=e}}function U3(t,e){let n=$3(e);for(const r of t.elements)n=n.filter(i=>!qr(i,r));return{arrayValue:{values:n}}}class Au extends lm{constructor(e,n){super(),this.serializer=e,this.gt=n}}function B3(t){return Je(t.integerValue||t.doubleValue)}function $3(t){return vd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class lge{constructor(e,n){this.version=e,this.transformResults=n}}class Ve{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ve}static exists(e){return new Ve(void 0,e)}static updateTime(e){return new Ve(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class hm{}function j3(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Mu(t.key,Ve.none()):new xu(t.key,t.data,Ve.none());{const n=t.data,r=Ut.empty();let i=new ke(it.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Fi(t.key,r,new Cn(i.toArray()),Ve.none())}}function dge(t,e,n){t instanceof xu?function(r,i,s){const o=r.value.clone(),a=z3(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Fi?function(r,i,s){if(!dm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=z3(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(G3(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Sd(t,e,n,r){return t instanceof xu?function(i,s,o,a){if(!dm(i.precondition,s))return o;const u=i.value.clone(),c=q3(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fi?function(i,s,o,a){if(!dm(i.precondition,s))return o;const u=q3(i.fieldTransforms,a,s),c=s.data;return c.setAll(G3(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,dm(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function hge(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=L3(r.transform,i||null);null!=s&&(null===n&&(n=Ut.empty()),n.set(r.field,s))}return n||null}function H3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&wu(n,r,(i,s)=>function cge(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof No&&r instanceof No||n instanceof ko&&r instanceof ko?wu(n.elements,r.elements,qr):n instanceof Au&&r instanceof Au?qr(n.gt,r.gt):n instanceof Su&&r instanceof Su);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class xu extends hm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fi extends hm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function G3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function z3(t,e,n){const r=new Map;U(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,uge(o,a,n[i]))}return r}function q3(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,age(s,o,e))}return r}class Mu extends hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O0 extends hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class F0{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&dge(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=k3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=j3(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&wu(this.mutations,e.mutations,(n,r)=>H3(n,r))&&wu(this.baseMutations,e.baseMutations,(n,r)=>H3(n,r))}}class L0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){U(e.mutations.length===r.length);let i=ige;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new L0(e,n,r,i)}}class V0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pge{constructor(e,n){this.count=e,this.unchangedNames=n}}var ct,ce;function K3(t){if(void 0===t)return rt("GRPC error has no .code"),w.UNKNOWN;switch(t){case ct.OK:return w.OK;case ct.CANCELLED:return w.CANCELLED;case ct.UNKNOWN:return w.UNKNOWN;case ct.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case ct.INTERNAL:return w.INTERNAL;case ct.UNAVAILABLE:return w.UNAVAILABLE;case ct.UNAUTHENTICATED:return w.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case ct.NOT_FOUND:return w.NOT_FOUND;case ct.ALREADY_EXISTS:return w.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return w.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case ct.ABORTED:return w.ABORTED;case ct.OUT_OF_RANGE:return w.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return w.UNIMPLEMENTED;case ct.DATA_LOSS:return w.DATA_LOSS;default:return F()}}(ce=ct||(ct={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";class U0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return fm}static getOrCreateInstance(){return null===fm&&(fm=new U0),fm}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let fm=null;const gge=new vu([4294967295,4294967295],0);function Y3(t){const e=function Q3(){return new TextEncoder}().encode(t),n=new lpe;return n.update(e),new Uint8Array(n.digest())}function J3(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new vu([n,r],0),new vu([i,s],0)]}class B0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ad(`Invalid padding: ${n}`);if(r<0)throw new Ad(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ad(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Ad(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=vu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(vu.fromNumber(r)));return 1===i.compare(gge)&&(i=new vu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=Y3(e),[r,i]=J3(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new B0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=Y3(e),[r,i]=J3(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Md.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xd(B.min(),i,new Me(K),Sn(),te())}}class Md{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Md(r,n,te(),te(),te())}}class pm{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class X3{constructor(e,n){this.targetId=e,this.Vt=n}}class Z3{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class e6{constructor(){this.St=0,this.Dt=n6(),this.Ct=yt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=te(),n=te(),r=te();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new Md(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=n6()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class mge{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Sn(),this.zt=t6(),this.Wt=new Me(K)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(om(o))if(0===i){const a=new M(o.path);this.Yt(r,a,Pe.newNoDocument(a,B.min()))}else U(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=U0.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,g,m,_,I;const y={localCacheCount:l,existenceFilterCount:d.count},b=d.unchangedNames;return b&&(y.bloomFilter={applied:0===c,hashCount:null!==(h=b?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(g=null===(f=b?.bits)||void 0===f?void 0:f.bitmap)||void 0===g?void 0:g.length)&&void 0!==m?m:0,padding:null!==(I=null===(_=b?.bits)||void 0===_?void 0:_.padding)&&void 0!==I?I:0}),y}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=ki(s).toUint8Array()}catch(l){if(l instanceof a3)return Ir("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new B0(u,o,a)}catch(l){return Ir(l instanceof Ad?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&om(a.target)){const u=new M(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Pe.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=te();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new xd(e,n,this.Wt,this.jt,r);return this.jt=Sn(),this.zt=t6(),this.Wt=new Me(K),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new e6,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new ke(K),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||C("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new e6),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function t6(){return new Me(M.comparator)}function n6(){return new Me(M.comparator)}const _ge={asc:"ASCENDING",desc:"DESCENDING"},yge={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vge={and:"AND",or:"OR"};class Ige{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $0(t,e){return t.useProto3Json||gd(e)?e:{value:e}}function Ru(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wge(t,e){return Ru(t,e.toTimestamp())}function st(t){return U(!!t),B.fromTimestamp(function(e){const n=Is(e);return new He(n.seconds,n.nanos)}(t))}function j0(t,e){return(n=t,new ue(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function i6(t){const e=ue.fromString(t);return U(f6(e)),e}function Rd(t,e){return j0(t.databaseId,e.path)}function Kr(t,e){const n=i6(e);if(n.get(1)!==t.databaseId.projectId)throw new T(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(o6(n))}function H0(t,e){return j0(t.databaseId,e)}function Nd(t){return new ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function o6(t){return U(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function a6(t,e,n){return{name:Rd(t,e),fields:n.value.mapValue.fields}}function c6(t,e){return{documents:[H0(t,e.path)]}}function z0(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=H0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=H0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return h6(Ee.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ds((l=c).field),direction:Cge(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=$0(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function l6(t){let e=function s6(t){const e=i6(t);return 4===e.length?ue.emptyPath():o6(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){U(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=d6(l);return d instanceof Ee&&S0(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new bu(Nu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,gd(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new bs((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new bs(l.values||[],!l.before)}(n.endAt)),function C3(t,e,n,r,i,s,o,a){return new Pi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function d6(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Nu(e.unaryFilter.field);return ie.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Nu(e.unaryFilter.field);return ie.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Nu(e.unaryFilter.field);return ie.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Nu(e.unaryFilter.field);return ie.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?ie.create(Nu((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ee.create(e.compositeFilter.filters.map(n=>d6(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F();var e}function Cge(t){return _ge[t]}function Sge(t){return yge[t]}function Age(t){return vge[t]}function Ds(t){return{fieldPath:t.canonicalString()}}function Nu(t){return it.fromServerFormat(t.fieldPath)}function h6(t){return t instanceof ie?function(e){if("=="===e.op){if(l3(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NAN"}};if(c3(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(l3(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NOT_NAN"}};if(c3(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(e.field),op:Sge(e.op),value:e.value}}}(t):t instanceof Ee?function(e){const n=e.getFilters().map(r=>h6(r));return 1===n.length?n[0]:{compositeFilter:{op:Age(e.op),filters:n}}}(t):F()}function xge(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function f6(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Li{constructor(e,n,r,i,s=B.min(),o=B.min(),a=yt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class p6{constructor(e){this.fe=e}}function q0(t){const e=l6({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?cm(e,e.limit,"L"):e}class Lo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Je(e.integerValue));else if("doubleValue"in e){const r=Je(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),md(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ki(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?d3(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):F()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),M.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Lo.Ve=new Lo;class Vge{constructor(){this.rn=new X0}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Hn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Hn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class X0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ke(ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ke(ue.comparator)).toArray()}}new Uint8Array(0);class Xt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(41943040,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);class Uo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Uo(0)}static Mn(){return new Uo(-1)}}class Gge{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wge{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class B6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Sd(r.mutation,i,Cn.empty(),He.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=te()){const i=Wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=bd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Sn();const o=Dd(),a=Dd();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Fi)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Sd(l.mutation,c,l.mutation.getFieldMask(),He.now())):o.set(c.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Wge(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Dd();let i=new Me((o,a)=>o-a),s=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Cn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||te()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=k3();l.forEach(h=>{if(!s.has(h)){const f=j3(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return M.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):R0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(Wr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,te())).next(l=>({batchId:a,changes:N3(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=bd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=bd();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new Pi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Pe.newInvalidDocument(c)))});let o=bd();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Sd(c.mutation,u,Cn.empty(),He.now()),Td(n,u)&&(o=o.insert(a,u))}),o})}}class Kge{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:st(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:q0(r.bundledQuery),readTime:st(r.readTime)}),v.resolve();var r}}class Qge{constructor(){this.overlays=new Me(M.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Wr(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Wr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Wr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new V0(n,r));let s=this.ls.get(n);void 0===s&&(s=te(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class Z0{constructor(){this.fs=new ke(At.ds),this.ws=new ke(At._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new At(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new At(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new M(new ue([])),r=new At(n,e),i=new At(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new M(new ue([])),r=new At(n,e),i=new At(n,e+1);let s=te();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new At(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class At{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return M.comparator(e.key,n.key)||K(e.As,n.As)}static _s(e,n){return K(e.As,n.As)||M.comparator(e.key,n.key)}}class Yge{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ke(At.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new F0(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new At(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new At(n,0),i=new At(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ke(K);return n.forEach(i=>{const s=new At(i,0),o=new At(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new At(new M(s),0);let a=new ke(K);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){U(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const s=new At(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new At(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Jge{constructor(e){this.Ds=e,this.docs=new Me(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Pe.newInvalidDocument(n))}getEntries(e,n){let r=Sn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pe.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Sn();const o=n.path,a=new M(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||I0(Kj(l),r)<=0||(i.has(l.key)||Td(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){F()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Xge(this)}getSize(e){return v.resolve(this.size)}}class Xge extends Gge{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Zge{constructor(e){this.persistence=e,this.xs=new Oi(n=>Mo(n),wd),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Z0,this.targetCount=0,this.Ms=Uo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class eS{constructor(e,n){this.$s={},this.overlays={},this.Os=new Gn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Zge(this),this.indexManager=new Vge,this.remoteDocumentCache=new Jge(r=>this.referenceDelegate.Ls(r)),this.serializer=new p6(n),this.qs=new Kge(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qge,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Yge(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);const i=new eme(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class eme extends wpe{constructor(e){super(),this.currentSequenceNumber=e}}class Tm{constructor(e){this.persistence=e,this.Qs=new Z0,this.js=null}static zs(e){return new Tm(e)}get Ws(){if(this.js)return this.js;throw F()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=M.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,B.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class iS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=te(),i=te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new iS(e,n.fromCache,r,i)}}class j6{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(S3(n))return v.resolve(null);let r=dn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=cm(n,null,"F"),r=dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=te(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,cm(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return S3(n)||i.isEqual(B.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(_0()<=se.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),k0(n)),this.Wi(e,o,n,function Wj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=B.fromTimestamp(1e9===r?new He(n+1,0):new He(n,r));return new Hn(i,M.empty(),e)}(i,-1)))})}ji(e,n){let r=new ke(M3(e));return n.forEach((i,s)=>{Td(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return _0()<=se.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",k0(n)),this.Ui.getDocumentsMatchingQuery(e,n,Hn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class nme{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Me(K),this.Yi=new Oi(s=>Mo(s),wd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B6(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function G6(t,e){return sS.apply(this,arguments)}function sS(){return sS=p(function*(t,e){const n=R(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=te();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),sS.apply(this,arguments)}function z6(t){const e=R(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function sme(t,e){const n=R(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Fu(t,e,n){return oS.apply(this,arguments)}function oS(){return oS=p(function*(t,e,n){const r=R(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ys(o))throw o;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),oS.apply(this,arguments)}function Cm(t,e,n){const r=R(t);let i=B.min(),s=te();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=R(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,dn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:B.min(),n?s:te())).next(a=>(function Q6(t,e,n){let r=t.Xi.get(e)||B.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function x3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class dS{constructor(){this.activeTargetIds=function P0(){return oge}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X6{constructor(){this.Hr=new dS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new dS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ume{Yr(e){}shutdown(){}}class Z6{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xm=null;function fS(){return null===xm?xm=268435456+Math.round(2147483648*Math.random()):xm++,"0x"+xm.toString(16)}const cme={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lme{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Zt="WebChannelConnection";class dme extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=fS(),a=this.To(e,n);C("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(C("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Ir("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Iu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${cme[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=fS();return new Promise((o,a)=>{const u=new cpe;u.setWithCredentials(!0),u.listenOnce(ope.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case m0.NO_ERROR:const l=u.getResponseJson();C(Zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case m0.TIMEOUT:C(Zt,`RPC '${e}' ${s} timed out`),a(new T(w.DEADLINE_EXCEEDED,"Request time out"));break;case m0.HTTP_ERROR:const d=u.getStatus();if(C(Zt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const g=function(m){const _=m.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(_)>=0?_:w.UNKNOWN}(f.status);a(new T(g,f.message))}else a(new T(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new T(w.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{C(Zt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);C(Zt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=fS(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ipe(),a=spe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new upe({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");C(Zt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const g=new lme({ro:_=>{f?C(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(C(Zt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),C(Zt,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},oo:()=>d.close()}),m=(_,I,y)=>{_.listen(I,b=>{try{y(b)}catch(k){setTimeout(()=>{throw k},0)}})};return m(d,Qg.EventType.OPEN,()=>{f||C(Zt,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Qg.EventType.CLOSE,()=>{f||(f=!0,C(Zt,`RPC '${e}' stream ${i} transport closed`),g.wo())}),m(d,Qg.EventType.ERROR,_=>{f||(f=!0,Ir(Zt,`RPC '${e}' stream ${i} transport errored:`,_),g.wo(new T(w.UNAVAILABLE,"The operation could not be completed")))}),m(d,Qg.EventType.MESSAGE,_=>{var I;if(!f){const y=_.data[0];U(!!y);const k=y.error||(null===(I=y[0])||void 0===I?void 0:I.error);if(k){C(Zt,`RPC '${e}' stream ${i} received error:`,k);const O=k.status;let H=function(zn){const or=ct[zn];if(void 0!==or)return K3(or)}(O),Fe=k.message;void 0===H&&(H=w.INTERNAL,Fe="Unknown error status: "+O+" with message "+k.message),f=!0,g.wo(new T(H,Fe)),d.close()}else C(Zt,`RPC '${e}' stream ${i} received:`,y),g._o(y)}}),m(a,ape.STAT_EVENT,_=>{_.stat===$j.PROXY?C(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===$j.NOPROXY&&C(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function Mm(){return typeof document<"u"?document:null}function jd(t){return new Ige(t,!0)}class pS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class tH{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new pS(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return p(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return p(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return p(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(rt(n.toString()),rt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new T(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(p(function*(){e.state=0,e.start()}))}tu(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hme extends tH{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Tge(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(U(void 0===c||"string"==typeof c),yt.fromBase64String(c||"")):(U(void 0===c||c instanceof Uint8Array),yt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:K3(u.code);return new T(c,u.message||"")}(o);n=new Z3(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Kr(t,r.document.name),s=st(r.document.updateTime),o=r.document.createTime?st(r.document.createTime):B.min(),a=new Ut({mapValue:{fields:r.document.fields}}),u=Pe.newFoundDocument(i,s,o,a);n=new pm(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Kr(t,r.document),s=r.readTime?st(r.readTime):B.min(),o=Pe.newNoDocument(i,s);n=new pm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Kr(t,r.document);n=new pm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new pge(i,s);n=new X3(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return B.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?st(s.readTime):B.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Nd(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=om(a)?{documents:c6(i,a)}:{query:z0(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=r6(i,s.resumeToken);const u=$0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(B.min())>0){o.readTime=Ru(i,s.snapshotVersion.toTimestamp());const u=$0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function Dge(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Nd(this.serializer),n.removeTarget=e,this.Wo(n)}}class fme extends tH{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(U(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function bge(t,e){return t&&t.length>0?(U(void 0!==e),t.map(n=>function(r,i){let s=st(r.updateTime?r.updateTime:i);return s.isEqual(B.min())&&(s=st(i)),new lge(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=st(e.commitTime);return this.listener.cu(r,n)}return U(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Nd(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function kd(t,e){let n;if(e instanceof xu)n={update:a6(t,e.key,e.value)};else if(e instanceof Mu)n={delete:Rd(t,e.key)};else if(e instanceof Fi)n={update:a6(t,e.key,e.data),updateMask:xge(e.fieldMask)};else{if(!(e instanceof O0))return F();n={verify:Rd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Su)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof No)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ko)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Au)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:wge(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),n;var i}(this.serializer,r))};this.Wo(n)}}class pme extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new T(w.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(w.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(w.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class mme{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(rt(n),this.mu=!1):C("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class _me{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(p(function*(){var u;xs(o)&&(C("RemoteStore","Restarting streams for network reachability change."),yield(u=p(function*(c){const l=R(c);l.vu.add(4),yield Lu(l),l.bu.set("Unknown"),l.vu.delete(4),yield Hd(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new mme(r,i)}}function Hd(t){return mS.apply(this,arguments)}function mS(){return mS=p(function*(t){if(xs(t))for(const e of t.Ru)yield e(!0)}),mS.apply(this,arguments)}function Lu(t){return _S.apply(this,arguments)}function _S(){return _S=p(function*(t){for(const e of t.Ru)yield e(!1)}),_S.apply(this,arguments)}function Rm(t,e){const n=R(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),IS(n)?vS(n):Uu(n).Ko()&&yS(n,e))}function Gd(t,e){const n=R(t),r=Uu(n);n.Au.delete(e),r.Ko()&&nH(n,e),0===n.Au.size&&(r.Ko()?r.jo():xs(n)&&n.bu.set("Unknown"))}function yS(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uu(t).su(e)}function nH(t,e){t.Vu.qt(e),Uu(t).iu(e)}function vS(t){t.Vu=new mge({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Uu(t).start(),t.bu.gu()}function IS(t){return xs(t)&&!Uu(t).Uo()&&t.Au.size>0}function xs(t){return 0===R(t).vu.size}function rH(t){t.Vu=void 0}function yme(t){return wS.apply(this,arguments)}function wS(){return wS=p(function*(t){t.Au.forEach((e,n)=>{yS(t,e)})}),wS.apply(this,arguments)}function vme(t,e){return ES.apply(this,arguments)}function ES(){return ES=p(function*(t,e){rH(t),IS(t)?(t.bu.Iu(e),vS(t)):t.bu.set("Unknown")}),ES.apply(this,arguments)}function Ime(t,e,n){return TS.apply(this,arguments)}function TS(){return TS=p(function*(t,e,n){if(t.bu.set("Online"),e instanceof Z3&&2===e.state&&e.cause)try{yield(r=p(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Nm(t,r)}else if(e instanceof pm?t.Vu.Ht(e):e instanceof X3?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(B.min()))try{const r=yield z6(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(yt.EMPTY_BYTE_STRING,c.snapshotVersion)),nH(i,a);const l=new Li(c.target,a,u,c.sequenceNumber);yS(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield Nm(t,r)}var r}),TS.apply(this,arguments)}function Nm(t,e,n){return bS.apply(this,arguments)}function bS(){return bS=p(function*(t,e,n){if(!ys(e))throw e;t.vu.add(1),yield Lu(t),t.bu.set("Offline"),n||(n=()=>z6(t.localStore)),t.asyncQueue.enqueueRetryable(p(function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Hd(t)}))}),bS.apply(this,arguments)}function iH(t,e){return e().catch(n=>Nm(t,n,e))}function Vu(t){return DS.apply(this,arguments)}function DS(){return DS=p(function*(t){const e=R(t),n=Ms(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;wme(e);)try{const i=yield sme(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Eme(e,i)}catch(i){yield Nm(e,i)}sH(e)&&oH(e)}),DS.apply(this,arguments)}function wme(t){return xs(t)&&t.Eu.length<10}function Eme(t,e){t.Eu.push(e);const n=Ms(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function sH(t){return xs(t)&&!Ms(t).Uo()&&t.Eu.length>0}function oH(t){Ms(t).start()}function Tme(t){return CS.apply(this,arguments)}function CS(){return CS=p(function*(t){Ms(t).hu()}),CS.apply(this,arguments)}function bme(t){return SS.apply(this,arguments)}function SS(){return SS=p(function*(t){const e=Ms(t);for(const n of t.Eu)e.uu(n.mutations)}),SS.apply(this,arguments)}function Dme(t,e,n){return AS.apply(this,arguments)}function AS(){return AS=p(function*(t,e,n){const r=t.Eu.shift(),i=L0.from(r,e,n);yield iH(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Vu(t)}),AS.apply(this,arguments)}function Cme(t,e){return xS.apply(this,arguments)}function xS(){return xS=p(function*(t,e){var n;e&&Ms(t).ou&&(yield(n=p(function*(r,i){if(function W3(t){switch(t){default:return F();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}(s=i.code)&&s!==w.ABORTED){const o=r.Eu.shift();Ms(r).Qo(),yield iH(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Vu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),sH(t)&&oH(t)}),xS.apply(this,arguments)}function aH(t,e){return MS.apply(this,arguments)}function MS(){return MS=p(function*(t,e){const n=R(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const r=xs(n);n.vu.add(3),yield Lu(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Hd(n)}),MS.apply(this,arguments)}function NS(){return NS=p(function*(t,e){const n=R(t);e?(n.vu.delete(2),yield Hd(n)):e||(n.vu.add(2),yield Lu(n),n.bu.set("Unknown"))}),NS.apply(this,arguments)}function Uu(t){return t.Su||(t.Su=function(e,n,r){const i=R(e);return i.fu(),new hme(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:yme.bind(null,t),ao:vme.bind(null,t),nu:Ime.bind(null,t)}),t.Ru.push(function(){var e=p(function*(n){n?(t.Su.Qo(),IS(t)?vS(t):t.bu.set("Unknown")):(yield t.Su.stop(),rH(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Ms(t){return t.Du||(t.Du=function(e,n,r){const i=R(e);return i.fu(),new fme(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Tme.bind(null,t),ao:Cme.bind(null,t),au:bme.bind(null,t),cu:Dme.bind(null,t)}),t.Ru.push(function(){var e=p(function*(n){n?(t.Du.Qo(),yield Vu(t)):(yield t.Du.stop(),t.Eu.length>0&&(C("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class kS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _t,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new kS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bu(t,e){if(rt("AsyncQueue",`${e}: ${t}`),ys(t))return new T(w.UNAVAILABLE,`${e}: ${t}`);throw t}class $u{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=bd(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new $u(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $u)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new $u;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class uH{constructor(){this.Cu=new Me(M.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):F():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ju{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ju(e,n,$u.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Sme{constructor(){this.Nu=void 0,this.listeners=[]}}class Ame{constructor(){this.queries=new Oi(e=>A3(e),Ed),this.onlineState="Unknown",this.ku=new Set}}function OS(){return OS=p(function*(t,e){const n=R(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Sme),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Bu(o,`Initialization of query '${k0(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&VS(n)}),OS.apply(this,arguments)}function LS(){return LS=p(function*(t,e){const n=R(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),LS.apply(this,arguments)}function xme(t,e){const n=R(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&VS(n)}function Mme(t,e,n){const r=R(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function VS(t){t.ku.forEach(e=>{e.next()})}class US{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ju(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=ju.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class dH{constructor(e){this.key=e}}class hH{constructor(e){this.key=e}}class fH{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=te(),this.mutatedKeys=te(),this.tc=M3(e),this.ec=new $u(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new uH,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Td(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?g!==m&&(r.track({type:3,doc:f}),_=!0):this.rc(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||c)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new ju(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new uH,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=te(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new hH(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new dH(r))}),n}hc(e){this.Yu=e.ir,this.Zu=te();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ju.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class kme{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Pme{constructor(e){this.key=e,this.fc=!1}}class Ome{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Oi(a=>A3(a),Ed),this._c=new Map,this.mc=new Set,this.gc=new Me(M.comparator),this.yc=new Map,this.Ic=new Z0,this.Tc={},this.Ec=new Map,this.Ac=Uo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Fme(t,e){return BS.apply(this,arguments)}function BS(){return BS=p(function*(t,e){const n=function cA(t){const e=R(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zme.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ume.bind(null,e),e.dc.nu=xme.bind(null,e.eventManager),e.dc.Pc=Mme.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Ou(t,e){const n=R(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Li(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,dn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function $S(t,e,n,r,i){return jS.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Rm(n.remoteStore,o)}return i}),BS.apply(this,arguments)}function jS(){return jS=p(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(g=p(function*(m,_,I,y){let b=_.view.sc(I);b.zi&&(b=yield Cm(m.localStore,_.query,!1).then(({documents:H})=>_.view.sc(H,b)));const k=y&&y.targetChanges.get(_.targetId),O=_.view.applyChanges(b,m.isPrimaryClient,k);return XS(m,_.targetId,O.cc),O.snapshot}),function(m,_,I,y){return g.apply(this,arguments)})(t,d,h,f);var g};const s=yield Cm(t.localStore,e,!0),o=new fH(e,s.ir),a=o.sc(s.documents),u=Md.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);XS(t,n,c.cc);const l=new kme(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),jS.apply(this,arguments)}function Lme(t,e){return HS.apply(this,arguments)}function HS(){return HS=p(function*(t,e){const n=R(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Ed(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Fu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Gd(n.remoteStore,r.targetId),Hu(n,r.targetId)}).catch(_s))):(Hu(n,r.targetId),yield Fu(n.localStore,r.targetId,!0))}),HS.apply(this,arguments)}function GS(){return GS=p(function*(t,e,n){const r=function lA(t){const e=R(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bme.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$me.bind(null,e),e}(t);try{const i=yield function(s,o){const a=R(s),u=He.now(),c=o.reduce((h,f)=>h.add(f.key),te());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Sn(),g=te();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((_,I)=>{I.isValidDocument()||(g=g.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const _=[];for(const I of o){const y=hge(I,l.get(I.key).overlayedDocument);null!=y&&_.push(new Fi(I.key,y,p3(y.value.mapValue),Ve.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,_,o)}).next(m=>{d=m;const _=m.applyToLocalDocumentSet(l,g);return a.documentOverlayCache.saveOverlays(h,m.batchId,_)})}).then(()=>({batchId:d.batchId,changes:N3(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Me(K)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Vi(r,i.changes),yield Vu(r.remoteStore)}catch(i){const s=Bu(i,"Failed to persist write");n.reject(s)}}),GS.apply(this,arguments)}function pH(t,e){return zS.apply(this,arguments)}function zS(){return zS=p(function*(t,e){const n=R(t);try{const r=yield function ime(t,e){const n=R(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var g,m,_;null!==e.targetMismatches.get(d)?f=f.withResumeToken(yt.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,_=l,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=Sn(),c=te();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function q6(t,e,n){let r=te(),i=te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Sn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(B.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):C("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(B.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?U(o.fc):i.removedDocuments.size>0&&(U(o.fc),o.fc=!1))}),yield Vi(n,r,e)}catch(r){yield _s(r)}}),zS.apply(this,arguments)}function gH(t,e,n){const r=R(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&VS(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ume(t,e,n){return qS.apply(this,arguments)}function qS(){return qS=p(function*(t,e,n){const r=R(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Me(M.comparator);o=o.insert(s,Pe.newNoDocument(s,B.min()));const a=te().add(s),u=new xd(B.min(),new Map,new Me(K),o,a);yield pH(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),ZS(r)}else yield Fu(r.localStore,e,!1).then(()=>Hu(r,e,n)).catch(_s)}),qS.apply(this,arguments)}function Bme(t,e){return WS.apply(this,arguments)}function WS(){return WS=p(function*(t,e){const n=R(t),r=e.batch.batchId;try{const i=yield function rme(t,e){const n=R(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(g=>{const m=u.docVersions.get(f);U(null!==m),g.version.compareTo(m)<0&&(l.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=te();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);JS(n,r,null),YS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Vi(n,i)}catch(i){yield _s(i)}}),WS.apply(this,arguments)}function $me(t,e,n){return KS.apply(this,arguments)}function KS(){return KS=p(function*(t,e,n){const r=R(t);try{const i=yield function(s,o){const a=R(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(U(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);JS(r,e,n),YS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Vi(r,i)}catch(i){yield _s(i)}}),KS.apply(this,arguments)}function YS(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function JS(t,e,n){const r=R(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Hu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||mH(t,r)})}function mH(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Gd(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),ZS(t))}function XS(t,e,n){for(const r of n)r instanceof dH?(t.Ic.addReference(r.key,e),Hme(t,r)):r instanceof hH?(C("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||mH(t,r.key)):F()}function Hme(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(C("SyncEngine","New document in limbo: "+n),t.mc.add(r),ZS(t))}function ZS(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new M(ue.fromString(e)),r=t.Ac.next();t.yc.set(r,new Pme(n)),t.gc=t.gc.insert(n,r),Rm(t.remoteStore,new Li(dn(Cu(n.path)),r,"TargetPurposeLimboResolution",Gn.ct))}}function Vi(t,e,n){return eA.apply(this,arguments)}function eA(){return eA=p(function*(t,e,n){const r=R(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=iS.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=p(function*(u,c){const l=R(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ys(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),eA.apply(this,arguments)}function Gme(t,e){return tA.apply(this,arguments)}function tA(){return tA=p(function*(t,e){const n=R(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());const r=yield G6(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new T(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vi(n,r.er)}var i}),tA.apply(this,arguments)}function zme(t,e){const n=R(t),r=n.yc.get(e);if(r&&r.fc)return te().add(r.key);{let i=te();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class km{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return p(function*(){n.serializer=jd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function H6(t,e,n,r){return new nme(t,e,n,r)}(this.persistence,new j6,e.initialUser,this.serializer)}createPersistence(e){return new eS(Tm.zs,this.serializer)}createSharedClientState(e){return new X6}terminate(){var e=this;return p(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Gu{initialize(e,n){var r=this;return p(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>gH(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Gme.bind(null,r.syncEngine),yield function RS(t,e){return NS.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ame}createDatastore(e){const n=jd(e.databaseInfo.databaseId),r=new dme(e.databaseInfo);return new pme(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>gH(this.syncEngine,a,0),o=Z6.D()?new Z6:new ume,new _me(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Ome(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=p(function*(n){const r=R(n);C("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Lu(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Pm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):rt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class i_e{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ct.UNAUTHENTICATED,this.clientId=zj.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=p(function*(a){C("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(C("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return p(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new _t;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(p(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Bu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Om(t,e){return dA.apply(this,arguments)}function dA(){return dA=p(function*(t,e){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=p(function*(s){r.isEqual(s)||(yield G6(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),dA.apply(this,arguments)}function hA(t,e){return fA.apply(this,arguments)}function fA(){return fA=p(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function pA(t){return gA.apply(this,arguments)}(t);C("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>aH(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>aH(e.remoteStore,s)),t._onlineComponents=e}),fA.apply(this,arguments)}function gA(){return gA=p(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){C("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Om(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function EH(t){return"FirebaseError"===t.name?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Ir("Error using user provided cache. Falling back to memory cache: "+n),yield Om(t,new km)}}else C("FirestoreClient","Using default OfflineComponentProvider"),yield Om(t,new km);return t._offlineComponents}),gA.apply(this,arguments)}function Fm(t){return mA.apply(this,arguments)}function mA(){return mA=p(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(C("FirestoreClient","Using user provided OnlineComponentProvider"),yield hA(t,t._uninitializedComponentsProvider._online)):(C("FirestoreClient","Using default OnlineComponentProvider"),yield hA(t,new Gu))),t._onlineComponents}),mA.apply(this,arguments)}function zu(t){return yA.apply(this,arguments)}function yA(){return yA=p(function*(t){const e=yield Fm(t),n=e.eventManager;return n.onListen=Fme.bind(null,e.syncEngine),n.onUnlisten=Lme.bind(null,e.syncEngine),n}),yA.apply(this,arguments)}function AH(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const xH=new Map;function vA(t,e,n){if(!n)throw new T(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MH(t){if(!M.isDocumentKey(t))throw new T(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RH(t){if(M.isDocumentKey(t))throw new T(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}function oe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vm(t);throw new T(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class kH{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new T(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function f_e(t,e,n,r){if(!0===e&&!0===r)throw new T(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=AH(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new T(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new T(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new T(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kH(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new dpe;switch(n.type){case"firstParty":return new gpe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new T(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=xH.get(e);n&&(C("ComponentProvider","Removing Datastore"),xH.delete(e),n.terminate())}(this),Promise.resolve()}}class ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}}class Bt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bt(this.firestore,e,this._query)}}class Qr extends Bt{constructor(e,n,r){super(e,n,Cu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new M(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function g_e(t,e,...n){if(t=qe(t),vA("collection","path",e),t instanceof zd){const r=ue.fromString(e,...n);return RH(r),new Qr(t,null,r)}{if(!(t instanceof ot||t instanceof Qr))throw new T(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ue.fromString(e,...n));return RH(r),new Qr(t.firestore,null,r)}}class __e{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new pS(this,"async_queue_retry"),this.Xc=()=>{const n=Mm();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Mm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Mm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new _t;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return p(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!ys(n))throw n;C("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,rt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=kS.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&F()}verifyOperationInProgress(){}sa(){var e=this;return p(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function IA(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Oe extends zd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new __e,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||OH(this),this._firestoreClient.terminate()}}function v_e(t,e){const r="string"==typeof t?t:e||"(default)",i=Bp("object"==typeof t?t:$w(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=Aw("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function p_e(t,e,n,r={}){var i;const s=(t=oe(t,zd))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ir("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Ct.MOCK_USER;else{a=function Kre(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[eu(JSON.stringify({alg:"none",type:"JWT"})),eu(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new T(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ct(c)}t._authCredentials=new hpe(new Hj(a,u))}}(i,...s)}return i}function lt(t){return t._firestoreClient||OH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function OH(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new zpe(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,AH(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new i_e(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(yt.fromBase64String(e))}catch(n){throw new T(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $o(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class VH{constructor(e){this._methodName=e}}class wA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}const w_e=/^__.*__$/;class E_e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}function BH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class Um{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Um(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return $m(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(BH(this.ca)&&w_e.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class T_e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jd(e)}ya(e,n,r,i=!1){return new Um({ca:e,methodName:n,ga:r,path:it.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wu(t){const e=t._freezeSettings(),n=jd(t._databaseId);return new T_e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EA(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);bA("Data must be an object, but it was:",o,r);const a=zH(r,o);let u,c;if(s.merge)u=new Cn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Kd(e,d,n);if(!o.contains(h))throw new T(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);WH(l,h)||l.push(h)}u=new Cn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new E_e(new Ut(a),u,c)}function jo(t,e){if(qH(t=qe(t)))return bA("Unsupported field value:",e,t),zH(t,e);if(t instanceof VH)return function(n,r){if(!BH(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=jo(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=qe(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return F3(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=He.fromDate(n);return{timestampValue:Ru(r.serializer,i)}}if(n instanceof He){const i=new He(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ru(r.serializer,i)}}if(n instanceof wA)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof $o)return{bytesValue:r6(r.serializer,n._byteString)};if(n instanceof ot){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:j0(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Vm(n)}`)}(t,e)}function zH(t,e){const n={};return s3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(t,(r,i)=>{const s=jo(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function qH(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof He||t instanceof wA||t instanceof $o||t instanceof ot||t instanceof VH)}function bA(t,e,n){if(!qH(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Vm(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Kd(t,e,n){if((e=qe(e))instanceof qu)return e._internalPath;if("string"==typeof e)return Bm(t,e);throw $m("Field path arguments must be of type string or ",t,!1,void 0,n)}const S_e=new RegExp("[~\\*/\\[\\]]");function Bm(t,e,n){if(e.search(S_e)>=0)throw $m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qu(...e.split("."))._internalPath}catch{throw $m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $m(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(w.INVALID_ARGUMENT,a+t+u)}function WH(t,e){return t.some(n=>n.isEqual(e))}class DA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new A_e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class A_e extends DA{data(){return super.data()}}function jm(t,e){return"string"==typeof e?Bm(t,e):e instanceof qu?e._internalPath:e._delegate._internalPath}class CA{}class SA extends CA{}function x_e(t,e,...n){let r=[];e instanceof CA&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Ku).length,o=i.filter(a=>a instanceof Qd).length;if(s>1||s>0&&o>0)throw new T(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Qd extends SA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Qd(e,n,r)}_apply(e){const n=this._parse(e);return XH(e._query,n),new Bt(e.firestore,e.converter,N0(e._query,n))}_parse(e){const n=Wu(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new T(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){JH(l,c);const h=[];for(const f of l)h.push(YH(a,i,f));d={arrayValue:{values:h}}}else d=YH(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||JH(l,c),d=function GH(t,e,n,r=!1){return jo(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return ie.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ku extends CA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ku(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ee.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)XH(s,a),s=N0(s,a)}(e._query,n),new Bt(e.firestore,e.converter,N0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class AA extends SA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new AA(e,n)}_apply(e){const n=function(r,i,s){if(null!==r.startAt)throw new T(w.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new T(w.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new bu(i,s);return function(a,u){if(null===M0(a)){const c=um(a);null!==c&&ZH(0,c,u.field)}}(r,o),o}(e._query,this._field,this._direction);return new Bt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Pi(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function M_e(t,e="asc"){const n=e,r=jm("orderBy",t);return AA._create(r,n)}class Hm extends SA{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Hm(e,n,r)}_apply(e){return new Bt(e.firestore,e.converter,cm(e._query,this._limit,this._limitType))}}function R_e(t){return function NH(t,e){if(e<=0)throw new T(w.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Hm._create("limit",t,"F")}function YH(t,e,n){if("string"==typeof(n=qe(n))){if(""===n)throw new T(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R0(e)&&-1!==n.indexOf("/"))throw new T(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ue.fromString(n));if(!M.isDocumentKey(r))throw new T(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xo(t,new M(r))}if(n instanceof ot)return xo(t,n._key);throw new T(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vm(n)}.`)}function JH(t,e){if(!Array.isArray(t)||0===t.length)throw new T(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XH(t,e){if(e.isInequality()){const r=um(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new T(w.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=M0(t);null!==s&&ZH(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new T(w.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ZH(t,e,n){if(!n.isEqual(e))throw new T(w.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class N_e{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new wA(Je(e.latitude),Je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nm(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_d(e));default:return null}}convertTimestamp(e){const n=Is(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ue.fromString(e);U(f6(r));const i=new Ao(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||rt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Ho{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qu extends DA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qm extends Qu{data(e={}){return super.data(e)}}class Yu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ho(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qm(this._firestore,this._userDataWriter,r.key,r,new Ho(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new qm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ho(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new qm(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ho(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:P_e(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function P_e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class Rs extends N_e{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}function O_e(t,e){const n=oe(t.firestore,Oe),r=function m_e(t,e,...n){if(t=qe(t),1===arguments.length&&(e=zj.A()),vA("doc","path",e),t instanceof zd){const r=ue.fromString(e,...n);return MH(r),new ot(t,null,new M(r))}{if(!(t instanceof ot||t instanceof Qr))throw new T(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ue.fromString(e,...n));return MH(r),new ot(t.firestore,t instanceof Qr?t.converter:null,new M(r))}}(t),i=function xA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function Yd(t,e){return function(n,r){const i=new _t;return n.asyncQueue.enqueueAndForget(p(function*(){return function Vme(t,e,n){return GS.apply(this,arguments)}(yield function _A(t){return Fm(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(lt(t),e)}(n,[EA(Wu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ve.exists(!1))]).then(()=>r)}!function(t,e=!0){Iu=ru,nu(new We("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Oe(new fpe(n.getProvider("auth-internal")),new mpe(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ao(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Bn(jj,"3.13.0",t),Bn(jj,"3.13.0","esm2017")}();var K_e={includeMetadataChanges:!1};function RA(t,e){return void 0===e&&(e=K_e),new Ue(function(n){var r=function F_e(t,...e){var n,r,i;t=qe(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||IA(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(IA(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ot)c=oe(t.firestore,Oe),l=Cu(t._key.path),u={next:d=>{e[o]&&e[o](function MA(t,e,n){const r=n.docs.get(e._key),i=new Rs(t);return new Qu(t,i,e._key,r,new Ho(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=oe(t,Bt);c=oe(d.firestore,Oe),l=d._query;const h=new Rs(c);u={next:f=>{e[o]&&e[o](new Yu(c,h,d,f))},error:e[o+1],complete:e[o+2]},function KH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new T(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,g){const m=new Pm(g),_=new US(h,m,f);return d.asyncQueue.enqueueAndForget(p(function*(){return function PS(t,e){return OS.apply(this,arguments)}(yield zu(d),_)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(p(function*(){return function FS(t,e){return LS.apply(this,arguments)}(yield zu(d),_)}))}}(lt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function tye(t,e){return void 0===e&&(e={}),function eye(t){return RA(t,{includeMetadataChanges:!0}).pipe(me(function(e){return e.docs}))}(t).pipe(me(function(n){return n.map(function(r){return function n7(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Km{constructor(e){return e}}const o7="firestore",PA=new L("angularfire2.firestore-instances");function iye(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Km(r)}}const sye={provide:class nye{constructor(){return KT(o7)}},deps:[[new nn,PA]]},oye={provide:Km,useFactory:function rye(t,e){const n=WT(o7,t,e);return n&&new Km(n)},deps:[[new nn,PA],uu]};let aye=(()=>{class t{constructor(){Bn("angularfire",Yp.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rn({type:t}),t.\u0275inj=hn({providers:[oye,sye]}),t})();function uye(t,...e){return{ngModule:aye,providers:[{provide:PA,useFactory:iye(t),multi:!0,deps:[De,Ln,QT,YT,[new nn,b4],[new nn,yb],...e]}]}}const cye=nr(tye,!0),lye=nr(O_e,!0),a7=nr(g_e,!0),dye=nr(v_e,!0),hye=nr(R_e,!0),fye=nr(M_e,!0),pye=nr(x_e,!0);const gye=function u7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},c7=new wn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qm=new us("@firebase/auth");function Ym(t,...e){Qm.logLevel<=se.ERROR&&Qm.error(`Auth (${iu}): ${t}`,...e)}function An(t,...e){throw OA(t,...e)}function Yr(t,...e){return OA(t,...e)}function OA(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return c7.create(t,...e)}function x(t,e,...n){if(!t)throw OA(e,...n)}function Jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ym(e),new Error(e)}function Ns(t,e){t||Jr(e)}function Jd(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function d7(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Xd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ns(n>e,"Short delay should be less than long delay!"),this.isMobile=dU()||hU()}get(){return function _ye(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function FA(){return"http:"===d7()||"https:"===d7()}()||Fp()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function LA(t,e){Ns(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class h7{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Iye=new Xd(3e4,6e4);function Ge(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Xe(t,e,n,r){return VA.apply(this,arguments)}function VA(){return VA=p(function*(t,e,n,r,i={}){return f7(t,i,p(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Ii(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),h7.fetch()(p7(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))}),VA.apply(this,arguments)}function f7(t,e,n){return UA.apply(this,arguments)}function UA(){return UA=p(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},vye),e);try{const i=new wye(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Zd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Zd(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Zd(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Zd(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function l7(t,e,n){const r=Object.assign(Object.assign({},gye()),{[e]:n});return new wn("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);An(t,l)}}catch(i){if(i instanceof kt)throw i;An(t,"network-request-failed",{message:String(i)})}}),UA.apply(this,arguments)}function BA(){return BA=p(function*(t,e,n,r,i={}){const s=yield Xe(t,e,n,r,i);return"mfaPendingCredential"in s&&An(t,"multi-factor-auth-required",{_serverResponse:s}),s}),BA.apply(this,arguments)}function p7(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?LA(t.config,i):`${t.config.apiScheme}://${i}`}class wye{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yr(this.auth,"network-request-failed")),Iye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yr(t,e,r);return i.customData._tokenResponse=n,i}function $A(){return $A=p(function*(t,e){return Xe(t,"POST","/v1/accounts:delete",e)}),$A.apply(this,arguments)}function HA(){return HA=p(function*(t,e){return Xe(t,"POST","/v1/accounts:lookup",e)}),HA.apply(this,arguments)}function eh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function GA(){return GA=p(function*(t,e=!1){const n=qe(t),r=yield n.getIdToken(e),i=Jm(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:eh(zA(i.auth_time)),issuedAtTime:eh(zA(i.iat)),expirationTime:eh(zA(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}),GA.apply(this,arguments)}function zA(t){return 1e3*Number(t)}function Jm(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Ym("JWT malformed, contained fewer than 3 sections"),null;try{const i=El(n);return i?JSON.parse(i):(Ym("Failed to decode base64 JWT payload"),null)}catch(i){return Ym("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Bi(t,e){return qA.apply(this,arguments)}function qA(){return qA=p(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof kt&&function Sye({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}}),qA.apply(this,arguments)}class Aye{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(p(function*(){yield n.iteration()}),r)}iteration(){var e=this;return p(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class g7{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eh(this.lastLoginAt),this.creationTime=eh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function th(t){return WA.apply(this,arguments)}function WA(){return WA=p(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Bi(t,function bye(t,e){return HA.apply(this,arguments)}(n,{idToken:r}));x(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Rye(t){return t.map(e=>{var{providerId:n}=e,r=I_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Mye(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new g7(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),WA.apply(this,arguments)}function KA(){return KA=p(function*(t){const e=qe(t);yield th(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),KA.apply(this,arguments)}function QA(){return QA=p(function*(t,e){const n=yield f7(t,{},p(function*(){const r=Ii({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=p7(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",h7.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}),QA.apply(this,arguments)}class nh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Cye(t){const e=Jm(t);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return p(function*(){return x(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return p(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Nye(t,e){return QA.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new nh;return r&&(x("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(x("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nh,this.toJSON())}_performRefresh(){return Jr("not implemented")}}function ks(t,e){x("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Go{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=I_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Aye(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new g7(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return p(function*(){const r=yield Bi(n,n.stsTokenManager.getToken(n.auth,e));return x(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Dye(t){return GA.apply(this,arguments)}(this,e)}reload(){return function xye(t){return KA.apply(this,arguments)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Go(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return p(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield th(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return p(function*(){const n=yield e.getIdToken();return yield Bi(e,function Eye(t,e){return $A.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,g=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:b,emailVerified:k,isAnonymous:O,providerData:H,stsTokenManager:Fe}=n;x(b&&Fe,e,"internal-error");const zn=nh.fromJSON(this.name,Fe);x("string"==typeof b,e,"internal-error"),ks(d,e.name),ks(h,e.name),x("boolean"==typeof k,e,"internal-error"),x("boolean"==typeof O,e,"internal-error"),ks(f,e.name),ks(g,e.name),ks(m,e.name),ks(_,e.name),ks(I,e.name),ks(y,e.name);const or=new Go({uid:b,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:O,photoURL:g,phoneNumber:f,tenantId:m,stsTokenManager:zn,createdAt:I,lastLoginAt:y});return H&&Array.isArray(H)&&(or.providerData=H.map(BM=>Object.assign({},BM))),_&&(or._redirectEventId=_),or}static _fromIdTokenResponse(e,n,r=!1){return p(function*(){const i=new nh;i.updateFromServerResponse(n);const s=new Go({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield th(s),s})()}}const m7=new Map;function $i(t){Ns(t instanceof Function,"Expected a class definition");let e=m7.get(t);return e?(Ns(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,m7.set(t,e),e)}const _7=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(function*(){return!0})()}_set(n,r){var i=this;return p(function*(){i.storage[n]=r})()}_get(n){var r=this;return p(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return p(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Xm(t,e,n){return`firebase:${t}:${e}:${n}`}class Xu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xm(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return p(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Go._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return p(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(function*(){if(!n.length)return new Xu($i(_7),e,r);const i=(yield Promise.all(n.map(function(){var c=p(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||$i(_7);const o=Xm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Go._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=p(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Xu(s,e,r)):new Xu(s,e,r)})()}}function y7(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w7(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T7(e))return"Blackberry";if(b7(e))return"Webos";if(YA(e))return"Safari";if((e.includes("chrome/")||I7(e))&&!e.includes("edge/"))return"Chrome";if(E7(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function v7(t=de()){return/firefox\//i.test(t)}function YA(t=de()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I7(t=de()){return/crios\//i.test(t)}function w7(t=de()){return/iemobile/i.test(t)}function E7(t=de()){return/android/i.test(t)}function T7(t=de()){return/blackberry/i.test(t)}function b7(t=de()){return/webos/i.test(t)}function Zm(t=de()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function D7(t=de()){return Zm(t)||E7(t)||b7(t)||T7(t)||/windows phone/i.test(t)||w7(t)}function C7(t,e=[]){let n;switch(t){case"Browser":n=y7(de());break;case"Worker":n=`${y7(de())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${iu}/${r}`}function S7(t,e){return XA.apply(this,arguments)}function XA(){return XA=p(function*(t,e){return Xe(t,"GET","/v2/recaptchaConfig",Ge(t,e))}),XA.apply(this,arguments)}function x7(t){return void 0!==t&&void 0!==t.enterprise}class M7{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function ZA(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Yr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Lye(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function R7(t){return`__${t}${Math.floor(1e6*Math.random())}`}class N7{constructor(e){this.type="recaptcha-enterprise",this.auth=xt(e)}verify(e="verify",n=!1){var r=this;return p(function*(){function s(){return s=p(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=p(function*(c,l){S7(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new M7(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;x7(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&x7(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));ZA("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class $ye{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return p(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class jye{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k7(this),this.idTokenSubscription=new k7(this),this.beforeStateQueue=new $ye(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c7,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(p(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Xu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return p(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return p(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return x(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return p(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return p(function*(){try{yield th(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function yye(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return p(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return p(function*(){const r=e?qe(e):null;return r&&x(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return p(function*(){if(!r._deleted)return e&&x(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(p(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return p(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(p(function*(){yield n.assertedPersistence.setPersistence($i(e))}))}initializeRecaptchaConfig(){var e=this;return p(function*(){const n=yield S7(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new M7(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new N7(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return p(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return p(function*(){if(!n.redirectPersistenceManager){const r=e&&$i(e)||n._popupRedirectResolver;x(r,n,"argument-error"),n.redirectPersistenceManager=yield Xu.create(n,[$i(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return p(function*(){var r,i;return n._isInitialized&&(yield n.queue(p(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return p(function*(){if(e===n.currentUser)return n.queue(p(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return x(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return p(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return p(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return p(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function mye(t,...e){Qm.logLevel<=se.WARN&&Qm.warn(`Auth (${iu}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function xt(t){return qe(t)}class k7{constructor(e){this.auth=e,this.observer=null,this.addObserver=_U(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function P7(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function O7(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Kye{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}function ji(t,e){return mx.apply(this,arguments)}function mx(){return mx=p(function*(t,e){return function Ui(t,e,n,r){return BA.apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",Ge(t,e))}),mx.apply(this,arguments)}class Os{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uve extends Os{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(function*(){const s=yield Go._fromIdTokenResponse(e,r,i),o=U7(r);return new sr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return p(function*(){yield e._updateTokensIfNecessary(r,!0);const i=U7(r);return new sr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function U7(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class i_ extends kt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,i_.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new i_(e,n,r,i)}}function B7(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?i_._fromErrorAndOperation(t,s,e,r):s})}function Cx(){return Cx=p(function*(t,e,n=!1){const r=yield Bi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return sr._forOperation(t,"link",r)}),Cx.apply(this,arguments)}function Ax(){return Ax=p(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Bi(t,B7(r,i,e,t),n);x(s.idToken,r,"internal-error");const o=Jm(s.idToken);x(o,r,"internal-error");const{sub:a}=o;return x(t.uid===a,r,"user-mismatch"),sr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&An(r,"user-mismatch"),s}}),Ax.apply(this,arguments)}function xx(){return xx=p(function*(t,e,n=!1){const r="signIn",i=yield B7(t,r,e),s=yield sr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s}),xx.apply(this,arguments)}const o_="__sak";class z7{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(o_,"1"),this.storage.removeItem(o_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Rve=(()=>{class t extends z7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ave(){const t=de();return YA(t)||Zm(t)}()&&function Oye(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=D7(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Pye(){return fU()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return p(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return p(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return p(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),q7=(()=>{class t extends z7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let kve=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return p(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=p(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function Nve(t){return Promise.all(t.map(function(){var e=p(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function sM(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Pve{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return p(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=sM("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function dt(){return window}function oM(){return typeof dt().WorkerGlobalScope<"u"&&"function"==typeof dt().importScripts}function aM(){return(aM=p(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const W7="firebaseLocalStorageDb",a_="firebaseLocalStorage",K7="fbase_key";class oh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function u_(t,e){return t.transaction([a_],e?"readwrite":"readonly").objectStore(a_)}function uM(){const t=indexedDB.open(W7,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(a_,{keyPath:K7})}catch(i){n(i)}}),t.addEventListener("success",p(function*(){const r=t.result;r.objectStoreNames.contains(a_)?e(r):(r.close(),yield function Bve(){const t=indexedDB.deleteDatabase(W7);return new oh(t).toPromise()}(),e(yield uM()))}))})}function Q7(t,e,n){return cM.apply(this,arguments)}function cM(){return cM=p(function*(t,e,n){const r=u_(t,!0).put({[K7]:e,value:n});return new oh(r).toPromise()}),cM.apply(this,arguments)}function lM(){return lM=p(function*(t,e){const n=u_(t,!1).get(e),r=yield new oh(n).toPromise();return void 0===r?null:r.value}),lM.apply(this,arguments)}function Y7(t,e){const n=u_(t,!0).delete(e);return new oh(n).toPromise()}const Gve=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return p(function*(){return n.db||(n.db=yield uM()),n.db})()}_withRetries(n){var r=this;return p(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return p(function*(){return oM()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return p(function*(){n.receiver=kve._getInstance(function Vve(){return oM()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=p(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=p(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return p(function*(){var r,i;if(n.activeServiceWorker=yield function Fve(){return aM.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Pve(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return p(function*(){if(r.sender&&r.activeServiceWorker&&function Lve(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return p(function*(){try{if(!indexedDB)return!1;const n=yield uM();return yield Q7(n,o_,"1"),yield Y7(n,o_),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return p(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return p(function*(){return i._withPendingWrite(p(function*(){return yield i._withRetries(s=>Q7(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return p(function*(){const i=yield r._withRetries(s=>function $ve(t,e){return lM.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return p(function*(){return r._withPendingWrite(p(function*(){return yield r._withRetries(i=>Y7(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return p(function*(){const r=yield n._withRetries(o=>{const a=u_(o,!1).getAll();return new oh(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(p(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();R7("rcb"),new Xd(3e4,6e4);class vM extends Kye{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ji(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ji(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ji(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oIe(t){return function H7(t,e){return xx.apply(this,arguments)}(t.auth,new vM(t),t.bypassAuthState)}function aIe(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function j7(t,e){return Ax.apply(this,arguments)}(n,new vM(t),t.bypassAuthState)}function uIe(t){return IM.apply(this,arguments)}function IM(){return IM=p(function*(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function Dx(t,e){return Cx.apply(this,arguments)}(n,new vM(t),t.bypassAuthState)}),IM.apply(this,arguments)}class cIe{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=p(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return p(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oIe;case"linkViaPopup":case"linkViaRedirect":return uIe;case"reauthViaPopup":case"reauthViaRedirect":return aIe;default:An(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Xd(2e3,1e4);const lIe="pendingRedirect",ah=new Map;class dIe extends cIe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return p(function*(){let r=ah.get(n.auth._key());if(!r){try{const s=(yield function hIe(t,e){return DM.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}ah.set(n.auth._key(),r)}return n.bypassAuthState||ah.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return p(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return p(function*(){})()}cleanUp(){}}function DM(){return DM=p(function*(t,e){const n=function Z7(t){return Xm(lIe,t.config.apiKey,t.name)}(e),r=function X7(t){return $i(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i}),DM.apply(this,arguments)}function fIe(t,e){ah.set(t._key(),e)}function eG(t,e){return NM.apply(this,arguments)}function NM(){return NM=p(function*(t,e,n=!1){const r=xt(t),i=function qo(t,e){return e?$i(e):(x(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new dIe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),NM.apply(this,arguments)}class yIe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function vIe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rG(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rG(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nG(e))}saveEventToCache(e){this.cachedEventUids.add(nG(e)),this.lastProcessedEventTime=Date.now()}}function nG(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rG({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function PM(){return PM=p(function*(t,e={}){return Xe(t,"GET","/v1/projects",e)}),PM.apply(this,arguments)}const wIe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EIe=/^https?/;function OM(){return OM=p(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function IIe(t){return PM.apply(this,arguments)}(t);for(const n of e)try{if(bIe(n))return}catch{}An(t,"unauthorized-domain")}),OM.apply(this,arguments)}function bIe(t){const e=Jd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!EIe.test(n))return!1;if(wIe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const DIe=new Xd(3e4,6e4);function iG(){const t=dt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let l_=null;const AIe=new Xd(5e3,15e3),xIe="__/auth/iframe",MIe="emulator/auth/iframe",RIe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NIe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kIe(t){const e=t.config;x(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?LA(e,MIe):`https://${t.config.authDomain}/${xIe}`,r={apiKey:e.apiKey,appName:t.name,v:iu},i=NIe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ii(r).slice(1)}`}function FM(){return FM=p(function*(t){const e=yield function SIe(t){return l_=l_||function CIe(t){return new Promise((e,n)=>{var r,i,s;function o(){iG(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iG(),n(Yr(t,"network-request-failed"))},timeout:DIe.get()})}if(null!==(i=null===(r=dt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=dt().gapi)||void 0===s||!s.load){const a=R7("iframefcb");return dt()[a]=()=>{gapi.load?o():n(Yr(t,"network-request-failed"))},ZA(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw l_=null,e})}(t),l_}(t),n=dt().gapi;return x(n,t,"internal-error"),e.open({where:document.body,url:kIe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RIe,dontclear:!0},r=>new Promise(function(){var i=p(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Yr(t,"network-request-failed"),u=dt().setTimeout(()=>{o(a)},AIe.get());function c(){dt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),FM.apply(this,arguments)}const OIe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sG{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const jIe="__/auth/handler",HIe="emulator/auth/handler",GIe=encodeURIComponent("fac");function oG(t,e,n,r,i,s){return LM.apply(this,arguments)}function LM(){return LM=p(function*(t,e,n,r,i,s){x(t.config.authDomain,t,"auth-domain-config-required"),x(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:iu,eventId:i};if(e instanceof Os){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof uve){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${GIe}=${encodeURIComponent(u)}`:"";return`${function zIe({config:t}){return t.emulator?LA(t,HIe):`https://${t.authDomain}/${jIe}`}(t)}?${Ii(a).slice(1)}${c}`}),LM.apply(this,arguments)}const VM="webStorageSupport",WIe=class qIe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q7,this._completeRedirectFn=eG,this._overrideRedirectResult=fIe}_openPopup(e,n,r,i){var s=this;return p(function*(){var o;Ns(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield oG(e,n,r,Jd(),i);return function BIe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},OIe),{width:r.toString(),height:i.toString(),top:s,left:o}),c=de().toLowerCase();n&&(a=I7(c)?"_blank":n),v7(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(function kye(t=de()){var e;return Zm(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function $Ie(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new sG(null);const d=window.open(e||"",a,l);x(d,t,"popup-blocked");try{d.focus()}catch{}return new sG(d)}(e,a,sM())})()}_openRedirect(e,n,r,i){var s=this;return p(function*(){return yield s._originValidation(e),function Ove(t){dt().location.href=t}(yield oG(e,n,r,Jd(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ns(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return p(function*(){const r=yield function PIe(t){return FM.apply(this,arguments)}(e),i=new yIe(e);return r.register("authEvent",s=>(x(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(VM,{type:VM},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[VM];void 0!==o&&n(!!o),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function TIe(t){return OM.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return D7()||YA()||Zm()}};var cG="@firebase/auth";class KIe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return p(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const XIe=Pp("authIdTokenMaxAge")||300;let dG=null;const ZIe=t=>function(){var e=p(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>XIe)return;const s=r?.token;dG!==s&&(dG=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function ewe(t=function jse(t=$p){const e=lo.get(t);if(!e&&t===$p&&kp())return function $se(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:$p,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ei.create("bad-app-name",{appName:String(i)});if(n||(n=kp()),!n)throw Ei.create("no-options");const s=lo.get(i);if(s){if(so(n,s.options)&&so(r,s.config))return s;throw Ei.create("duplicate-app",{appName:i})}const o=new yU(i);for(const u of jp.values())o.addComponent(u);const a=new Bse(n,r,o);return lo.set(i,a),a}();if(!e)throw Ei.create("no-app",{appName:t});return e}()){const e=Cl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Hye(t,e){const n=Cl(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(so(n.getOptions(),e??{}))return i;An(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:WIe,persistence:[Gve,Rve,q7]}),r=Pp("authTokenSyncURL");if(r){const s=ZIe(r);(function Tve(t,e,n){qe(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Eve(t,e,n,r){qe(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=Aw("auth");return i&&function zye(t,e,n){const r=xt(t);x(r._canInitEmulator,r,"emulator-config-failed"),x(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=P7(e),{host:o,port:a}=function qye(t){const e=P7(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:O7(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:O7(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Wye(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function YIe(t){En(new We("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;x(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C7(t)},c=new jye(r,i,s,u);return function Gye(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($i);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),En(new We("auth-internal",e=>{const n=xt(e.getProvider("auth").getImmediate());return new KIe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tn(cG,"1.1.0",function QIe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Tn(cG,"1.1.0","esm2017")}("Browser");let h_=(()=>{class t{constructor(n,r){this.firestore=n,this.auth=r,this.usuario={nombre:"",uid:""},this.auth.onAuthStateChanged(i=>{i?(this.usuario.nombre=i.displayName??i.email??"",this.usuario.uid=i.uid):this.usuario={nombre:"",uid:""}})}cargarMensajes(){const n=pye(a7(this.firestore,"chats"),fye("fecha","desc"),hye(5));return cye(n,{idField:"id"}).pipe(me(i=>i.reverse()))}agregarMensaje(n){const r={nombre:this.usuario.nombre,mensaje:n,fecha:(new Date).getTime(),uid:this.usuario.uid},i=a7(this.firestore,"chats");return lye(i,r)}register(n,r){return tfe(this.auth,n,r)}login(n,r){return rfe(this.auth,n,r)}logout(){return this.usuario={nombre:"",uid:""},ewe(),this.auth.signOut().finally(()=>{console.log("Sesi\xf3n cerrada",this.auth.currentUser)})}loginGoogle(){return D4(this.auth,new Xle)}loginGithub(){return D4(this.auth,new Zle)}}return t.\u0275fac=function(n){return new(n||t)($(Km),$(Eg))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const twe=function(t){return{"text-end":t}},nwe=function(t,e){return{"bg-primary":t,"bg-success":e}};function rwe(t,e){if(1&t&&(vn(0,"div",3)(1,"span",4),hi(2),rn(),vn(3,"p"),hi(4),rn()()),2&t){const n=e.$implicit,r=pv();di("ngClass",P1(4,twe,n.uid==r.chatService.usuario.uid)),ci(1),di("ngClass",O1(6,nwe,n.uid==r.chatService.usuario.uid,n.uid!=r.chatService.usuario.uid)),ci(1),Mf(n.nombre),ci(2),Mf(n.mensaje)}}let iwe=(()=>{class t{ngOnInit(){this.elemento=document.getElementById("app-mensajes")}constructor(n){this.chatService=n,this.mensaje="",this.chats=[],this.chatService.cargarMensajes().subscribe(r=>{this.chats=r,setTimeout(()=>{this.elemento.scrollTop=this.elemento.scrollHeight},20)})}enviarMensaje(){0!==this.mensaje.length&&this.chatService.agregarMensaje(this.mensaje).then(()=>this.mensaje="").catch(n=>console.error("Error al enviar",n))}}return t.\u0275fac=function(n){return new(n||t)(D(h_))},t.\u0275cmp=ac({type:t,selectors:[["app-chat"]],decls:6,vars:2,consts:[["id","app-mensajes",1,"app-mensajes"],["class","text-end",3,"ngClass",4,"ngFor","ngForOf"],["type","text","placeholder","Escribe tu mensaje...","name","mensaje","required","",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"text-end",3,"ngClass"],[1,"badge",3,"ngClass"]],template:function(n,r){1&n&&(vn(0,"h1"),hi(1,"Chat"),rn(),ka(2,"hr"),vn(3,"div",0),Uc(4,rwe,5,9,"div",1),rn(),vn(5,"input",2),qt("ngModelChange",function(s){return r.mensaje=s})("keyup.enter",function(){return r.enviarMensaje()}),rn()),2&n&&(ci(4),di("ngForOf",r.chats),ci(1),di("ngModel",r.mensaje))},dependencies:[_L,vL,rp,T2,pp,KI],encapsulation:2}),t})(),swe=(()=>{class t{constructor(n){this.chatService=n}login(n){"google"===n?this.chatService.loginGoogle().then(r=>{console.log(this.chatService.usuario)}).catch(r=>{console.log(r)}):this.chatService.loginGithub().then(r=>{console.log(this.chatService.usuario)}).catch(r=>{console.log(r)})}}return t.\u0275fac=function(n){return new(n||t)(D(h_))},t.\u0275cmp=ac({type:t,selectors:[["app-login"]],decls:8,vars:0,consts:[[1,"row"],[1,"col-md-12","text-center"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(n,r){1&n&&(vn(0,"div",0)(1,"div",1)(2,"p"),hi(3,"Ingrese al chat con su cuenta favorita"),rn(),vn(4,"button",2),qt("click",function(){return r.login("google")}),hi(5,"Google"),rn(),vn(6,"button",3),qt("click",function(){return r.login("twitter")}),hi(7,"Twitter"),rn()()())},encapsulation:2}),t})();function owe(t,e){if(1&t){const n=function nO(){return E()}();vn(0,"div",4)(1,"button",5),qt("click",function(){return function rN(t){return G.lFrame.contextLView=t,t[Ze]}(n),function iN(t){return G.lFrame.contextLView=null,t}(pv().logout())}),hi(2,"Salir"),rn()()}}function awe(t,e){1&t&&ka(0,"app-login")}function uwe(t,e){1&t&&(vn(0,"div",6),ka(1,"app-chat"),rn())}let cwe=(()=>{class t{constructor(n){this.chatService=n}ngOnInit(){}logout(){this.chatService.logout()}}return t.\u0275fac=function(n){return new(n||t)(D(h_))},t.\u0275cmp=ac({type:t,selectors:[["app-root"]],decls:6,vars:3,consts:[[1,"container","main-container"],["class","col-md-12 text-end",4,"ngIf"],[4,"ngIf"],["class","chat-window",4,"ngIf"],[1,"col-md-12","text-end"],["type","button",1,"btn","btn-danger",3,"click"],[1,"chat-window"]],template:function(n,r){1&n&&(vn(0,"div",0)(1,"h1"),hi(2,"FireChat"),rn(),Uc(3,owe,3,0,"div",1),Uc(4,awe,1,0,"app-login",2),Uc(5,uwe,2,0,"div",3),rn()),2&n&&(ci(3),di("ngIf",r.chatService.usuario.uid),ci(1),di("ngIf",!r.chatService.usuario.uid),ci(1),di("ngIf",r.chatService.usuario.uid))},dependencies:[wL,iwe,swe]}),t})();const lwe={apiKey:"AIzaSyDMesoTIlb9YtiP1BwL0vylBzY4sCR8rTI",authDomain:"firechat-7c702.firebaseapp.com",projectId:"firechat-7c702",storageBucket:"firechat-7c702.appspot.com",messagingSenderId:"614232560587",appId:"1:614232560587:web:a11ce5ffb9d789d791dc4e"};let dwe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Rn({type:t,bootstrap:[cwe]}),t.\u0275inj=hn({providers:[h_],imports:[ZZ,Fre,dte,pce(()=>gce(lwe)),uye(()=>dye()),efe(()=>nfe())]}),t})();JZ().bootstrapModule(dwe).catch(t=>console.error(t))}},Te=>{Te(Te.s=657)}]);